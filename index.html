<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Articulator">
    <meta name="theme-color" content="#1a1a1a">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <title>Articulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #ffffff;
            color: #1a1a1a;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 640px;
            margin: 0 auto;
        }

        /* Welcome page uses wider container */
        .welcome-container {
            max-width: 960px;
            margin: 0 auto;
        }

        /* Two-column layout for welcome page */
        .welcome-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 32px;
            margin-top: 32px;
        }

        .welcome-left {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .welcome-right {
            /* Category list goes here */
        }

        /* Responsive: stack on mobile */
        @media (max-width: 768px) {
            .welcome-layout {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            
            .welcome-left {
                order: 2;
            }
            
            .welcome-right {
                order: 1;
            }
        }

        /* Left panel cards */
        .panel-card {
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 12px;
            padding: 16px;
        }

        .panel-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .panel-card-title {
            font-size: 14px;
            font-weight: 600;
            color: #1a1a1a;
        }

        .panel-card-action {
            font-size: 12px;
            color: #888;
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .panel-card-action:hover {
            background: #eee;
            color: #666;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 32px;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .header p {
            color: #666;
            font-size: 14px;
        }

        /* Navigation */
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: #666;
            font-size: 14px;
            cursor: pointer;
            margin-bottom: 24px;
            padding: 8px 0;
            border: none;
            background: none;
            transition: color 0.2s;
        }

        .back-btn:hover {
            color: #1a1a1a;
        }

        /* Category Cards */
        .category-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .category-card {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px 24px;
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .category-card:hover {
            background: #f5f5f5;
            border-color: #ddd;
        }

        .category-card.disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .category-card.disabled:hover {
            background: #fafafa;
            border-color: #eee;
        }

        .category-icon {
            font-size: 24px;
        }

        .category-info {
            flex: 1;
        }

        .category-name {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .category-desc {
            font-size: 13px;
            color: #888;
        }

        .category-arrow {
            color: #ccc;
            font-size: 18px;
        }

        /* Function Cards */
        .function-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .function-card {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 18px 24px;
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .function-card:hover {
            background: #f5f5f5;
            border-color: #ddd;
        }

        .function-code {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #1a1a1a;
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            border-radius: 8px;
        }

        .function-info {
            flex: 1;
        }

        .function-name {
            font-size: 15px;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .function-desc {
            font-size: 13px;
            color: #888;
        }

        /* Form */
        .form-section {
            margin-bottom: 24px;
        }

        .form-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .form-title .function-code {
            width: 36px;
            height: 36px;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .form-label .optional {
            color: #999;
            font-weight: 400;
        }

        .form-select {
            width: 100%;
            padding: 12px 16px;
            font-size: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fff;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
        }

        .form-select:focus {
            outline: none;
            border-color: #1a1a1a;
        }

        .form-textarea {
            width: 100%;
            padding: 12px 16px;
            font-size: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            resize: vertical;
            min-height: 120px;
            font-family: inherit;
        }

        .form-textarea:focus {
            outline: none;
            border-color: #1a1a1a;
        }

        .form-textarea::placeholder {
            color: #aaa;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            font-size: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .form-input:focus {
            outline: none;
            border-color: #1a1a1a;
        }

        .form-input::placeholder {
            color: #aaa;
        }

        /* Radio Group */
        .radio-group {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .radio-option {
            flex: 1;
            min-width: 100px;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-size: 14px;
            transition: all 0.2s;
        }

        .radio-option:hover {
            border-color: #bbb;
        }

        .radio-option.selected {
            border-color: #1a1a1a;
            background: #1a1a1a;
            color: #fff;
        }

        /* Checkbox */
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .checkbox-group:hover {
            border-color: #bbb;
        }

        .checkbox-group.checked {
            border-color: #1a1a1a;
            background: #f9f9f9;
        }

        .checkbox-box {
            width: 20px;
            height: 20px;
            border: 2px solid #ccc;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .checkbox-group.checked .checkbox-box {
            background: #1a1a1a;
            border-color: #1a1a1a;
        }

        .checkbox-box svg {
            display: none;
        }

        .checkbox-group.checked .checkbox-box svg {
            display: block;
        }

        .checkbox-label {
            font-size: 14px;
        }

        /* Advanced Options */
        .advanced-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            font-size: 14px;
            cursor: pointer;
            padding: 12px 0;
            border: none;
            background: none;
        }

        .advanced-toggle:hover {
            color: #1a1a1a;
        }

        .advanced-toggle svg {
            transition: transform 0.2s;
        }

        .advanced-toggle.open svg {
            transform: rotate(90deg);
        }

        .advanced-content {
            display: none;
            padding: 16px;
            background: #fafafa;
            border-radius: 8px;
            margin-top: 8px;
            margin-bottom: 20px;
        }

        .advanced-content.show {
            display: block;
        }

        .advanced-content .form-group:last-child {
            margin-bottom: 0;
        }

        /* Auto-fill Notice */
        .auto-fill-notice {
            font-size: 12px;
            color: #22c55e;
            margin-top: 6px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* Convert Options */
        .convert-options-inline {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 8px;
        }

        .checkbox-group.compact {
            flex: 0 0 auto;
            padding: 10px 16px;
            min-width: auto;
        }

        /* LinkedIn Sub-options */
        .linkedin-suboptions {
            display: none;
            margin-left: 28px;
            margin-top: 8px;
        }

        .linkedin-suboptions.show {
            display: flex;
            gap: 8px;
        }

        .linkedin-suboptions .checkbox-group.compact {
            padding: 8px 12px;
            font-size: 13px;
            background: #f5f5f5;
        }

        .linkedin-suboptions .checkbox-group.compact.checked {
            background: #1a1a1a;
        }

        /* Buttons */
        .btn-primary {
            width: 100%;
            padding: 16px 24px;
            font-size: 16px;
            font-weight: 500;
            color: #fff;
            background: #1a1a1a;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .btn-primary:hover {
            background: #333;
        }

        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* JSON Output */
        .json-output {
            margin-top: 24px;
        }

        .json-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .json-title {
            font-size: 14px;
            font-weight: 500;
        }

        .copy-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            font-size: 14px;
            color: #1a1a1a;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: #f5f5f5;
        }

        .copy-btn.copied {
            background: #22c55e;
            color: #fff;
            border-color: #22c55e;
        }

        .json-content {
            background: #1a1a1a;
            color: #e5e5e5;
            padding: 20px;
            border-radius: 8px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 13px;
            line-height: 1.6;
            overflow-x: auto;
            white-space: pre-wrap;
        }

        /* Hidden */
        .hidden {
            display: none !important;
        }

        /* Page Transitions */
        .page {
            animation: fadeIn 0.2s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Time Selector */
        .time-selector {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .time-option {
            padding: 10px 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .time-option:hover {
            border-color: #bbb;
        }

        .time-option.selected {
            border-color: #1a1a1a;
            background: #1a1a1a;
            color: #fff;
        }

        /* Training Specific Styles */
        .category-card.highlight {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-color: #f59e0b;
        }

        .category-card.highlight:hover {
            background: linear-gradient(135deg, #fde68a 0%, #fcd34d 100%);
            border-color: #d97706;
        }

        .function-code.training {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .training-tip {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 24px;
            font-size: 14px;
            color: #92400e;
        }

        .training-tip strong {
            display: block;
            margin-bottom: 4px;
        }

        /* Plan Reference Card Styles */
        .plan-card {
            background: #fff;
            border: 1px solid #e5e5e5;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .plan-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .plan-icon {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f5f5f5;
            border-radius: 10px;
            font-size: 24px;
        }

        .plan-title {
            flex: 1;
        }

        .plan-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .plan-name-en {
            font-size: 13px;
            color: #888;
        }

        .plan-structure {
            background: #f9f9f9;
            border-radius: 8px;
            padding: 12px 16px;
            margin-bottom: 12px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 14px;
            color: #333;
        }

        .plan-usage {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        .plan-usage strong {
            color: #333;
        }

        /* Toolbox Section Headers */
        .toolbox-section {
            margin-bottom: 24px;
        }

        .toolbox-section-title {
            font-size: 14px;
            font-weight: 600;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }

        /* Idea Brick Tags */
        .brick-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .brick-tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            background: #f5f5f5;
            border-radius: 12px;
            font-size: 12px;
            color: #555;
        }

        .brick-tag .brick-icon {
            font-size: 10px;
        }

        /* Example Button & Modal */
        .example-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            background: #f0fdf4;
            color: #166534;
            border: 1px solid #86efac;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 16px;
        }

        .example-btn:hover {
            background: #dcfce7;
            border-color: #4ade80;
        }

        .example-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .example-modal.show {
            display: flex;
        }

        .example-content {
            background: #fff;
            border-radius: 16px;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 24px;
        }

        .example-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .example-title {
            font-size: 18px;
            font-weight: 600;
        }

        .example-close {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f5f5f5;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
        }

        .example-close:hover {
            background: #e5e5e5;
        }

        .example-item {
            background: #f9fafb;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .example-item:last-child {
            margin-bottom: 0;
        }

        .example-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 4px;
        }

        .example-value {
            font-size: 14px;
            color: #1a1a1a;
            line-height: 1.5;
        }

        .example-json {
            background: #1a1a1a;
            color: #e5e5e5;
            padding: 12px;
            border-radius: 6px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 12px;
            white-space: pre-wrap;
            overflow-x: auto;
        }

        /* Quick Command Output */
        .quick-output {
            margin-bottom: 16px;
        }

        .quick-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .quick-title {
            font-size: 14px;
            font-weight: 500;
            color: #f59e0b;
        }

        .quick-content {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            color: #92400e;
            padding: 20px;
            border-radius: 8px;
            font-size: 16px;
            line-height: 1.6;
            border: 1px solid #f59e0b;
            white-space: pre-wrap;
        }

        .output-divider {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 24px 0;
            color: #999;
            font-size: 13px;
        }

        .output-divider::before,
        .output-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: #ddd;
        }

        /* Onboarding Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        .modal-overlay.hidden {
            display: none !important;
        }

        .modal {
            background: #fff;
            border-radius: 16px;
            max-width: 480px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            padding: 32px 32px 0;
            text-align: center;
        }

        .modal-logo {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .modal-subtitle {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        .modal-body {
            padding: 32px;
        }

        .onboarding-steps {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 32px;
        }

        .onboarding-step {
            display: flex;
            gap: 16px;
            align-items: flex-start;
        }

        .step-number {
            width: 32px;
            height: 32px;
            background: #1a1a1a;
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .step-desc {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
        }

        .scenario-selector {
            margin-bottom: 24px;
        }

        .scenario-label {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 12px;
            display: block;
        }

        .scenario-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .scenario-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            border: 1px solid #e5e5e5;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .scenario-option:hover {
            border-color: #ccc;
            background: #fafafa;
        }

        .scenario-option.selected {
            border-color: #1a1a1a;
            background: #f5f5f5;
        }

        .scenario-icon {
            font-size: 20px;
        }

        .scenario-text {
            flex: 1;
        }

        .scenario-name {
            font-size: 14px;
            font-weight: 500;
        }

        .scenario-hint {
            font-size: 12px;
            color: #888;
        }

        .modal-footer {
            padding: 0 32px 32px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .btn-start {
            width: 100%;
            padding: 16px 24px;
            font-size: 16px;
            font-weight: 600;
            color: #fff;
            background: #1a1a1a;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .btn-start:hover {
            background: #333;
        }

        .btn-skip {
            width: 100%;
            padding: 12px 24px;
            font-size: 14px;
            color: #666;
            background: transparent;
            border: none;
            cursor: pointer;
            transition: color 0.2s;
        }

        .btn-skip:hover {
            color: #1a1a1a;
        }

        /* Help Button */
        .help-btn {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 48px;
            height: 48px;
            background: #1a1a1a;
            color: #fff;
            border: none;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: all 0.2s;
            z-index: 100;
        }

        .help-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }

        /* Language Switcher */
        .lang-btn {
            position: fixed;
            top: 24px;
            right: 24px;
            padding: 8px 14px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: all 0.2s;
            z-index: 100;
        }

        .lang-btn:hover {
            border-color: #bbb;
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        .lang-btn .globe-icon {
            font-size: 14px;
        }

        /* Recent list items */
        .recent-list {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .recent-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 10px;
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .recent-item:hover {
            background: #f9fafb;
            border-color: #d1d5db;
        }

        .recent-item-code {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #1a1a1a;
            color: #fff;
            font-size: 12px;
            font-weight: 600;
            border-radius: 6px;
            flex-shrink: 0;
        }

        .recent-item-info {
            flex: 1;
            min-width: 0;
        }

        .recent-item-name {
            font-size: 13px;
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .recent-item-time {
            font-size: 11px;
            color: #92400e;
        }

        /* Learning History dropzone */
        .history-dropzone {
            border: 2px dashed #818cf8;
            border-radius: 8px;
            padding: 16px 12px;
            text-align: center;
            background: rgba(99, 102, 241, 0.05);
            transition: all 0.2s;
            cursor: pointer;
        }

        .history-dropzone:hover,
        .history-dropzone.dragover {
            background: rgba(99, 102, 241, 0.1);
            border-color: #6366f1;
        }

        .history-dropzone-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .history-dropzone-text {
            font-size: 13px;
            color: #4338ca;
            margin-bottom: 2px;
        }

        .history-dropzone-hint {
            font-size: 11px;
            color: #6366f1;
        }

        .history-file-input {
            display: none;
        }

        .history-files {
            margin-top: 12px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .history-file-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            background: #fff;
            border: 1px solid #a5b4fc;
            border-radius: 4px;
            font-size: 12px;
            color: #3730a3;
        }

        .history-file-remove {
            cursor: pointer;
            color: #6366f1;
            font-weight: bold;
        }

        .history-file-remove:hover {
            color: #ef4444;
        }

        .history-actions {
            margin-top: 12px;
            display: flex;
            gap: 8px;
        }

        .history-btn {
            padding: 8px 16px;
            font-size: 13px;
            font-weight: 500;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .history-btn-primary {
            background: #4f46e5;
            color: #fff;
            border: none;
        }

        .history-btn-primary:hover {
            background: #4338ca;
        }

        .history-btn-primary:disabled {
            background: #a5b4fc;
            cursor: not-allowed;
        }

        .history-btn-secondary {
            background: transparent;
            color: #4338ca;
            border: 1px solid #6366f1;
        }

        .history-btn-secondary:hover {
            background: rgba(99, 102, 241, 0.1);
        }

        /* Trend Chart */
        .history-chart {
            margin-top: 16px;
            background: #fff;
            border-radius: 8px;
            padding: 16px;
            display: none;
        }

        .history-chart.visible {
            display: block;
        }

        .chart-title {
            font-size: 14px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 12px;
        }

        .chart-container {
            height: 200px;
            position: relative;
        }

        .chart-bars {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 160px;
            padding: 0 10px;
            border-bottom: 1px solid #e5e7eb;
        }

        .chart-bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            max-width: 80px;
        }

        .chart-bar {
            width: 32px;
            background: linear-gradient(180deg, #6366f1 0%, #4f46e5 100%);
            border-radius: 4px 4px 0 0;
            transition: height 0.3s ease;
            position: relative;
        }

        .chart-bar-value {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 11px;
            font-weight: 600;
            color: #4338ca;
        }

        .chart-bar-label {
            margin-top: 8px;
            font-size: 10px;
            color: #6b7280;
            text-align: center;
            max-width: 60px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .chart-grade {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            margin-top: 4px;
        }

        .chart-grade-a { background: #dcfce7; color: #166534; }
        .chart-grade-b { background: #fef3c7; color: #92400e; }
        .chart-grade-c { background: #fee2e2; color: #991b1b; }

        .chart-summary {
            margin-top: 16px;
            padding: 12px;
            background: #f5f3ff;
            border-radius: 6px;
        }

        .chart-summary-title {
            font-size: 13px;
            font-weight: 600;
            color: #4338ca;
            margin-bottom: 8px;
        }

        .chart-summary-item {
            font-size: 12px;
            color: #3730a3;
            margin-bottom: 4px;
        }

        .chart-export-btn {
            margin-top: 12px;
            width: 100%;
        }

        /* Stats badge on welcome page */
        .stats-badge {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            margin-top: 8px;
            padding: 8px 16px;
            background: #f5f5f5;
            border-radius: 20px;
            font-size: 12px;
            color: #666;
        }

        .stats-badge span {
            display: flex;
            align-items: center;
            gap: 4px;
        }
    </style>
</head>
<body>
        <!-- Reminder Settings Button -->
        <button class="lang-btn" onclick="openReminderSettings()" style="right:auto;left:24px;">
            <span style="font-size:14px;">‚öôÔ∏è</span>
        </button>

        <!-- Language Switcher -->
        <button class="lang-btn" onclick="toggleLanguage()">
            <span class="globe-icon">üåê</span>
            <span id="lang-label">EN</span>
        </button>

        <!-- Onboarding Modal -->
        <div id="onboarding-modal" class="modal-overlay hidden">
            <div class="modal">
                <div class="modal-header">
                    <div class="modal-logo">üéØ</div>
                    <h2 class="modal-title">Welcome to Articulator</h2>
                    <p class="modal-subtitle">Transform messy thoughts into structured expression ‚Äî whether you speak it or write it.</p>
                </div>

                <div class="modal-body">
                    <div class="onboarding-steps">
                        <div class="onboarding-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">Pick a function</div>
                                <div class="step-desc">12 tools for different communication needs: meetings, pitches, articles, Q&A prep, and more.</div>
                            </div>
                        </div>
                        <div class="onboarding-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">Fill in your context</div>
                                <div class="step-desc">Describe your situation, audience, and goals. The more specific, the better.</div>
                            </div>
                        </div>
                        <div class="onboarding-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">Get structured output</div>
                                <div class="step-desc">Copy the JSON command to Claude. Get a structured, ready-to-use response in seconds.</div>
                            </div>
                        </div>
                    </div>

                    <div class="scenario-selector">
                        <label class="scenario-label">What brings you here today?</label>
                        <div class="scenario-options">
                            <div class="scenario-option" data-target="training" onclick="selectScenario(this)">
                                <span class="scenario-icon">üéØ</span>
                                <div class="scenario-text">
                                    <div class="scenario-name">Practice impromptu speaking</div>
                                    <div class="scenario-hint">Get random prompts and feedback</div>
                                </div>
                            </div>
                            <div class="scenario-option" data-target="oral" onclick="selectScenario(this)">
                                <span class="scenario-icon">üé§</span>
                                <div class="scenario-text">
                                    <div class="scenario-name">Prepare for a meeting or presentation</div>
                                    <div class="scenario-hint">Structure your talking points</div>
                                </div>
                            </div>
                            <div class="scenario-option" data-target="written" onclick="selectScenario(this)">
                                <span class="scenario-icon">‚úèÔ∏è</span>
                                <div class="scenario-text">
                                    <div class="scenario-name">Improve my writing</div>
                                    <div class="scenario-hint">Rate and revise articles</div>
                                </div>
                            </div>
                            <div class="scenario-option" data-target="combo" onclick="selectScenario(this)">
                                <span class="scenario-icon">‚ö°</span>
                                <div class="scenario-text">
                                    <div class="scenario-name">Full scenario preparation</div>
                                    <div class="scenario-hint">Multi-step combo workflows</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button class="btn-start" onclick="startWithScenario()">Get Started</button>
                    <button class="btn-skip" onclick="skipOnboarding()">Skip, I know what I'm doing</button>
                </div>
            </div>
        </div>

        <!-- Help Button (shows onboarding again) -->
        <button class="help-btn" onclick="showOnboarding()" title="Show guide">?</button>

        <div class="container welcome-container">
        <!-- Welcome Page -->
        <div id="welcome-page" class="page">
            <div class="header">
                <h1>Articulator</h1>
                <p>Structure your thoughts. Speak it. Write it.</p>
            </div>

            <div class="welcome-layout">
                <!-- Left Panel: Personal Data -->
                <div class="welcome-left">
                    <!-- Recent Section -->
                    <div id="recent-section" class="panel-card hidden">
                        <div class="panel-card-header">
                            <span class="panel-card-title" data-i18n="recentTitle">‚è±Ô∏è Recent</span>
                            <button class="panel-card-action" onclick="clearRecentHistory()" data-i18n="recentClear">Clear</button>
                        </div>
                        <div id="recent-list" class="recent-list">
                            <!-- Populated by JS -->
                        </div>
                    </div>

                    <!-- Learning History Section -->
                    <div class="panel-card">
                        <div class="panel-card-header">
                            <span class="panel-card-title" data-i18n="historyTitle">üìà Learning History</span>
                        </div>
                        
                        <div class="history-dropzone" id="history-dropzone" onclick="document.getElementById('history-file-input').click()">
                            <div class="history-dropzone-icon">üìÑ</div>
                            <div class="history-dropzone-text" data-i18n="historyDropText">Drop reports here</div>
                            <div class="history-dropzone-hint" data-i18n="historyDropHint">or click to select HTML files</div>
                        </div>
                        <input type="file" id="history-file-input" class="history-file-input" multiple accept=".html">
                        
                        <div class="history-files" id="history-files"></div>
                        
                        <div class="history-actions" id="history-actions" style="display: none;">
                            <button class="history-btn history-btn-primary" id="history-analyze-btn" onclick="analyzeHistory()" data-i18n="historyAnalyze">
                                Analyze Trend
                            </button>
                            <button class="history-btn history-btn-secondary" onclick="clearHistoryFiles()" data-i18n="historyClear">
                                Clear
                            </button>
                        </div>
                        
                        <div class="history-chart" id="history-chart">
                            <div class="chart-title" data-i18n="historyChartTitle">üìä Score Trend</div>
                            <div class="chart-container">
                                <div class="chart-bars" id="chart-bars"></div>
                            </div>
                            <div class="chart-summary" id="chart-summary"></div>
                            <button class="history-btn history-btn-secondary chart-export-btn" onclick="exportAnalysisPrompt()" data-i18n="historyExport">
                                üìã Generate Analysis Prompt
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Right Panel: Function Categories -->
                <div class="welcome-right">
                    <div class="category-list">
                        <div class="category-card highlight" onclick="showCategory('training')">
                            <span class="category-icon">üéØ</span>
                            <div class="category-info">
                                <div class="category-name">Training Âç≥ËààÁ∑¥Áøí</div>
                                <div class="category-desc">T - ÂãïÊÖãÂá∫È°åËàáÂõûÈ•ã</div>
                            </div>
                            <span class="category-arrow">‚Ä∫</span>
                        </div>

                        <div class="category-card" onclick="showCategory('oral')">
                            <span class="category-icon">üé§</span>
                            <div class="category-info">
                                <div class="category-name">Oral Âè£Ë™ûË°®ÈÅî</div>
                                <div class="category-desc">M, V, E, P, D, Q</div>
                            </div>
                            <span class="category-arrow">‚Ä∫</span>
                        </div>

                        <div class="category-card" onclick="showCategory('written')">
                            <span class="category-icon">‚úèÔ∏è</span>
                            <div class="category-info">
                                <div class="category-name">Written Êõ∏Èù¢ÂÖßÂÆπ</div>
                                <div class="category-desc">A, W</div>
                            </div>
                            <span class="category-arrow">‚Ä∫</span>
                        </div>

                        <div class="category-card" onclick="showCategory('library')">
                            <span class="category-icon">üìö</span>
                            <div class="category-info">
                                <div class="category-name">Library ÂÖßÂÆπÂ∫´</div>
                                <div class="category-desc">G, X, R</div>
                            </div>
                            <span class="category-arrow">‚Ä∫</span>
                        </div>

                        <div class="category-card" onclick="showCategory('combo')">
                            <span class="category-icon">‚ö°</span>
                            <div class="category-info">
                                <div class="category-name">Combo ÁµÑÂêàÊã≥</div>
                                <div class="category-desc">#1-#8 È†êË®≠Â•óË∑Ø</div>
                            </div>
                            <span class="category-arrow">‚Ä∫</span>
                        </div>

                        <div class="category-card" onclick="showCategory('plans')" style="background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); border-color: #0ea5e9;">
                            <span class="category-icon">üìñ</span>
                            <div class="category-info">
                                <div class="category-name">Ê∫ùÈÄöÂ∑•ÂÖ∑ÁÆ±</div>
                                <div class="category-desc">TOYF ÁµêÊßã + Dan Koe Ê°ÜÊû∂</div>
                            </div>
                            <span class="category-arrow">‚Ä∫</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <div class="container">

        <!-- Plans Reference Page -->
        <div id="plans-page" class="page hidden">
            <button class="back-btn" onclick="showWelcome()">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="header">
                <h1>üìñ Ê∫ùÈÄöÂ∑•ÂÖ∑ÁÆ±</h1>
                <p>TOYF ÁµêÊßã + Dan Koe ÂÖßÂÆπÊ°ÜÊû∂</p>
            </div>

            <!-- Structure Frameworks -->
            <div class="toolbox-section" id="structure-section">
                <div class="toolbox-section-title">ÁµêÊßãÊ°ÜÊû∂ ‚Äî ÁµÑÁπî‰Ω†ÁöÑÊÄùË∑Ø</div>

                <div class="plan-card">
                    <div class="plan-card-header">
                        <div class="plan-icon">üïê</div>
                        <div class="plan-title">
                            <div class="plan-name">ÊôÇÈêòË®àÁï´</div>
                            <div class="plan-name-en">Clock Plan</div>
                        </div>
                    </div>
                    <div class="plan-structure">ÈÅéÂéª ‚Üí ÁèæÂú® ‚Üí Êú™‰æÜ</div>
                    <div class="plan-usage">
                        <strong>ÈÅ©Áî®:</strong>ÈÄ≤Â∫¶Â†±Âëä„ÄÅÊµÅÁ®ãË™™Êòé„ÄÅËÅ∑Ê∂ØÁôºÂ±ï„ÄÅPDCA
                    </div>
                </div>

                <div class="plan-card">
                    <div class="plan-card-header">
                        <div class="plan-icon">üåç</div>
                        <div class="plan-title">
                            <div class="plan-name">Áí∞ÁêÉË®àÁï´</div>
                            <div class="plan-name-en">Globe Plan</div>
                        </div>
                    </div>
                    <div class="plan-structure">Âú∞ÈªûA ‚Üí Âú∞ÈªûB ‚Üí Âú∞ÈªûC</div>
                    <div class="plan-usage">
                        <strong>ÈÅ©Áî®:</strong>Â§öÊìöÈªûË™™Êòé„ÄÅË∑®ÂçÄÂüüÊØîËºÉ„ÄÅÁ©∫ÈñìÂ∞éË¶Ω
                    </div>
                </div>

                <div class="plan-card">
                    <div class="plan-card-header">
                        <div class="plan-icon">üî∫</div>
                        <div class="plan-title">
                            <div class="plan-name">‰∏âËßíË®àÁï´</div>
                            <div class="plan-name-en">Triangle Plan</div>
                        </div>
                    </div>
                    <div class="plan-structure">ËßíÂ∫¶A ‚Üí ËßíÂ∫¶B ‚Üí ËßíÂ∫¶C</div>
                    <div class="plan-usage">
                        <strong>ÈÅ©Áî®:</strong>Â§öÈù¢ÂêëÂàÜÊûê„ÄÅÂ±ïÁèæÂÆ¢ËßÄ„ÄÅSWOT
                    </div>
                </div>

                <div class="plan-card">
                    <div class="plan-card-header">
                        <div class="plan-icon">üîç</div>
                        <div class="plan-title">
                            <div class="plan-name">ËÆäÁÑ¶Ë®àÁï´</div>
                            <div class="plan-name-en">Zoom Plan</div>
                        </div>
                    </div>
                    <div class="plan-structure">Êï¥È´î ‚Üí ‰∏≠Â±§ ‚Üí Á¥∞ÁØÄ(ÊàñÂèçÂêë)</div>
                    <div class="plan-usage">
                        <strong>ÈÅ©Áî®:</strong>ÊïèÊÑüË≠∞È°å„ÄÅÂ±§Ê¨°Ë™™Êòé„ÄÅËÅöÁÑ¶/Êì¥Â±ï
                    </div>
                </div>

                <div class="plan-card">
                    <div class="plan-card-header">
                        <div class="plan-icon">‚öñÔ∏è</div>
                        <div class="plan-title">
                            <div class="plan-name">ÈêòÊì∫Ë®àÁï´</div>
                            <div class="plan-name-en">Pendulum Plan</div>
                        </div>
                    </div>
                    <div class="plan-structure">‰∏ÄÊñπÈù¢ ‚Üí Âè¶‰∏ÄÊñπÈù¢ ‚Üí ‰∏≠Â∫∏‰πãÈÅì</div>
                    <div class="plan-usage">
                        <strong>ÈÅ©Áî®:</strong>Ë´áÂà§Êñ°Êóã„ÄÅÂπ≥Ë°°ËßÄÈªû„ÄÅÊççË°õÁèæÁãÄ
                    </div>
                </div>

                <div class="plan-card">
                    <div class="plan-card-header">
                        <div class="plan-icon">üíé</div>
                        <div class="plan-title">
                            <div class="plan-name">Êî∂ÁõäË®àÁï´</div>
                            <div class="plan-name-en">Benefits Plan</div>
                        </div>
                    </div>
                    <div class="plan-structure">Â•ΩËôïA ‚Üí Â•ΩËôïB ‚Üí Â•ΩËôïC</div>
                    <div class="plan-usage">
                        <strong>ÈÅ©Áî®:</strong>Êé®Èä∑Ë™™Êúç„ÄÅÁî¢ÂìÅ‰ªãÁ¥π„ÄÅÊèêÊ°à
                    </div>
                </div>

                <div class="plan-card">
                    <div class="plan-card-header">
                        <div class="plan-icon">ü™ù</div>
                        <div class="plan-title">
                            <div class="plan-name">Micro Story Hook</div>
                            <div class="plan-name-en">ÈñãÂ†¥Èâ§Â≠ê</div>
                        </div>
                    </div>
                    <div class="plan-structure">Problem ‚Üí Amplify ‚Üí Solution Preview</div>
                    <div class="plan-usage">
                        <strong>ÈÅ©Áî®:</strong>‰ªª‰ΩïÈúÄË¶ÅÊäì‰ΩèÊ≥®ÊÑèÂäõÁöÑÈñãÂ†¥„ÄÇÂÖàË™™ÁóõÈªû,ÊîæÂ§ßÂæåÊûú,È†êÂëäËß£Ê≥ï„ÄÇ
                    </div>
                </div>
            </div>

            <!-- Content Material -->
            <div class="toolbox-section" id="content-section">
                <div class="toolbox-section-title">ÂÖßÂÆπÁ¥†Êùê ‚Äî Â°´ÂÖÖ‰Ω†ÁöÑÈ™®Êû∂</div>

                <div class="plan-card">
                    <div class="plan-card-header">
                        <div class="plan-icon">üß±</div>
                        <div class="plan-title">
                            <div class="plan-name">ÊÉ≥Ê≥ïÁ©çÊú®</div>
                            <div class="plan-name-en">Idea Bricks</div>
                        </div>
                    </div>
                    <div class="plan-structure">8 Á®ÆÂ°´ÂÖÖÁ¥†Êùê,ËÆìÈ™®Êû∂ËÆäÊàêÊïÖ‰∫ã</div>
                    <div class="plan-usage">
                        <strong>Áî®Ê≥ï:</strong>ÊØèÂÄãÊÆµËêΩËá≥Â∞ëÁî®‰∏ÄÂ°äÁ©çÊú®,ËÆìÊäΩË±°ËÆäÂÖ∑È´î„ÄÇ
                    </div>
                    <div class="brick-tags">
                        <span class="brick-tag"><span class="brick-icon">üî¥</span> Pain Point</span>
                        <span class="brick-tag"><span class="brick-icon">üü¢</span> Example</span>
                        <span class="brick-tag"><span class="brick-icon">üîµ</span> Personal Story</span>
                        <span class="brick-tag"><span class="brick-icon">üü°</span> Statistic</span>
                        <span class="brick-tag"><span class="brick-icon">üü£</span> Metaphor</span>
                        <span class="brick-tag"><span class="brick-icon">üü†</span> Quote</span>
                        <span class="brick-tag"><span class="brick-icon">‚ö™</span> Reframe</span>
                        <span class="brick-tag"><span class="brick-icon">‚ö´</span> What/How/Why</span>
                    </div>
                </div>
            </div>

            <!-- Strategic Reserve -->
            <div class="toolbox-section" id="strategy-section">
                <div class="toolbox-section-title">Á≠ñÁï•ÂÑ≤ÂÇô ‚Äî ÊèêÂâçÊ∫ñÂÇôÁöÑÂΩàËó•</div>

                <div class="plan-card">
                    <div class="plan-card-header">
                        <div class="plan-icon">‚≠ê</div>
                        <div class="plan-title">
                            <div class="plan-name">Greatest Hits</div>
                            <div class="plan-name-en">Ê†∏ÂøÉÊÉ≥Ê≥ïÂ∫´</div>
                        </div>
                    </div>
                    <div class="plan-structure">8-10 ÂÄã‰Ω†ÂèçË¶Ü‰ΩøÁî®ÁöÑÊãõÁâåËßÄÈªû</div>
                    <div class="plan-usage">
                        <strong>Áî®Ê≥ï:</strong>ÊèêÂâçÊ∫ñÂÇô,Èö®ÊôÇË™øÁî®„ÄÇÂú®‰ªª‰ΩïÂ†¥ÂêàÈÉΩËÉΩÂø´ÈÄüÈÄ£ÁµêÂà∞‰Ω†ÁöÑÊ†∏ÂøÉÂÉπÂÄº‰∏ªÂºµ„ÄÇ
                    </div>
                </div>
            </div>
        </div>

        <!-- Training Category Page -->
        <div id="training-page" class="page hidden">
            <button class="back-btn" onclick="showWelcome()">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="header">
                <h1>üéØ Training Âç≥ËààÁ∑¥Áøí</h1>
            </div>

            <div class="function-list">
                <div class="function-card" onclick="showFunction('T')">
                    <div class="function-code training">T</div>
                    <div class="function-info">
                        <div class="function-name">Training Âç≥ËààÁ∑¥Áøí</div>
                        <div class="function-desc">ÂãïÊÖãÂá∫È°å ‚Üí Ë™ûÈü≥ÂõûÁ≠î ‚Üí ÁµêÊßãÂõûÈ•ã</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>
            </div>
        </div>

        <!-- T Training Form -->
        <div id="t-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('training')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code training">T</div>
                <span>Training Âç≥ËààÁ∑¥Áøí</span>
            </div>

            <div class="training-tip">
                <strong>üí° ‰ΩøÁî®ÊèêÁ§∫</strong>
                T ÂäüËÉΩÊîØÊè¥ÂÖ©Á®ÆËº∏Âá∫:„ÄåÂø´ÈÄüÊåá‰ª§„ÄçÈÅ©ÂêàÁõ¥Êé•Â∞çË©±,„ÄåJSON Ê†ºÂºè„ÄçÈÅ©ÂêàÁµ±‰∏ÄÂ∑•‰ΩúÊµÅÁ®ã„ÄÇ
            </div>

            <button type="button" class="example-btn" onclick="showExample('T')">
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="7" cy="7" r="6"/>
                    <path d="M7 4v4M7 10v.5"/>
                </svg>
                View Example
            </button>

            <form id="t-form" onsubmit="generateJSON('T'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">Á∑¥ÁøíÈ°ûÂûã</label>
                        <select class="form-select" id="t-type">
                            <option value="random">Èö®Ê©ü(ËÆì Claude Ê±∫ÂÆö)</option>
                            <option value="M">M - ÊúÉË≠∞ÁôºË®Ä</option>
                            <option value="V">V - ÈõªÊ¢ØÁ∞°Â†±</option>
                            <option value="E">E - Ê¶ÇÂøµËß£Ë™™</option>
                            <option value="P">P - Á∞°Â†±Ë¨õÁ®ø</option>
                            <option value="D">D - ÊïèÊÑüÂ∞çË©±</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Èõ£Â∫¶</label>
                        <div class="radio-group">
                            <div class="radio-option" data-value="ÂÖ•ÈñÄ" onclick="selectRadio(this, 't-difficulty')">ÂÖ•ÈñÄ</div>
                            <div class="radio-option selected" data-value="‰∏≠Á≠â" onclick="selectRadio(this, 't-difficulty')">‰∏≠Á≠â</div>
                            <div class="radio-option" data-value="ÊåëÊà∞" onclick="selectRadio(this, 't-difficulty')">ÊåëÊà∞</div>
                        </div>
                        <input type="hidden" id="t-difficulty" value="‰∏≠Á≠â">
                    </div>

                    <div class="form-group">
                        <label class="form-label">È°åÊï∏</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="1" onclick="selectRadio(this, 't-count')">1 È°å</div>
                            <div class="radio-option" data-value="3" onclick="selectRadio(this, 't-count')">3 È°å</div>
                            <div class="radio-option" data-value="5" onclick="selectRadio(this, 't-count')">5 È°å</div>
                        </div>
                        <input type="hidden" id="t-count" value="1">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëá™Ë®ÇÊÉÖÂ¢É <span class="optional">(ÈÅ∏Â°´)</span></label>
                        <textarea class="form-textarea" id="t-context" placeholder="Ëã•ÊÉ≥ÈáùÂ∞çÁâπÂÆöÊÉÖÂ¢ÉÁ∑¥Áøí,ÂèØÂú®Ê≠§ÊèèËø∞„ÄÇÁïôÁ©∫ÂâáÁî± Claude Ê†πÊìö‰Ω†ÁöÑËÉåÊôØÂãïÊÖãÁîüÊàê„ÄÇ" style="min-height: 80px;"></textarea>
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="t-output" class="json-output hidden">
                <!-- Quick Command Output -->
                <div class="quick-output">
                    <div class="quick-header">
                        <span class="quick-title">‚ö° Âø´ÈÄüÊåá‰ª§(Áõ¥Êé•Ë≤º‰∏äÂ∞çË©±)</span>
                        <button class="copy-btn" onclick="copyQuickCommand()">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                                <rect x="5" y="5" width="9" height="9" rx="1"/>
                                <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                            </svg>
                            Ë§áË£Ω
                        </button>
                    </div>
                    <div class="quick-content" id="t-quick"></div>
                </div>

                <div class="output-divider">Êàñ‰ΩøÁî® JSON Ê†ºÂºè</div>

                <!-- JSON Output -->
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('t', 'T')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="t-json"></pre>
            </div>
        </div>

        <!-- Oral Category Page -->
        <div id="oral-page" class="page hidden">
            <button class="back-btn" onclick="showWelcome()">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="header">
                <h1>üé§ Oral Âè£Ë™ûË°®ÈÅî</h1>
            </div>

            <div class="function-list">
                <div class="function-card" onclick="showFunction('M')">
                    <div class="function-code">M</div>
                    <div class="function-info">
                        <div class="function-name">Meeting ÊúÉË≠∞ÁôºË®Ä</div>
                        <div class="function-desc">ÁîüÊàêÈôêÊôÇÊúÉË≠∞ÁôºË®ÄÁ®ø</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showFunction('V')">
                    <div class="function-code">V</div>
                    <div class="function-info">
                        <div class="function-name">Elevator Pitch ÈõªÊ¢ØÁ∞°Â†±</div>
                        <div class="function-desc">30/60/90ÁßíËá™ÊàëÊàñÂÖ¨Âè∏‰ªãÁ¥π</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showFunction('E')">
                    <div class="function-code">E</div>
                    <div class="function-info">
                        <div class="function-name">Explainer Ê¶ÇÂøµËß£Ë™™</div>
                        <div class="function-desc">ÁÇ∫ÈùûÂ∞àÊ•≠ËÅΩÁúæË®≠Ë®àËß£Ë™™ËÖ≥Êú¨</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showFunction('P')">
                    <div class="function-code">P</div>
                    <div class="function-info">
                        <div class="function-name">Pitch Á∞°Â†±Ë¨õÁ®ø</div>
                        <div class="function-desc">Êí∞ÂØ´Á∞°Â†±ÊàñÊèêÊ°àÁöÑÂè£Ëø∞Á®ø</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showFunction('D')">
                    <div class="function-code">D</div>
                    <div class="function-info">
                        <div class="function-name">Difficult ÊïèÊÑüÂ∞çË©±</div>
                        <div class="function-desc">Ê∫ñÂÇôÈõ£‰ª•ÈñãÂè£ÁöÑÂ∞çË©±</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showFunction('Q')">
                    <div class="function-code">Q</div>
                    <div class="function-info">
                        <div class="function-name">Q&A Simulator ÂïèÁ≠îÊ®°Êì¨</div>
                        <div class="function-desc">Ê®°Êì¨ÊèêÂïè‰∏¶Ê∫ñÂÇôÁµêÊßãÂåñÂõûÁ≠î</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>
            </div>
        </div>

        <!-- Written Category Page -->
        <div id="written-page" class="page hidden">
            <button class="back-btn" onclick="showWelcome()">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="header">
                <h1>‚úèÔ∏è Written Êõ∏Èù¢ÂÖßÂÆπ</h1>
            </div>

            <div class="function-list">
                <div class="function-card" onclick="showFunction('A')">
                    <div class="function-code">A</div>
                    <div class="function-info">
                        <div class="function-name">Rating ÊñáÁ´†Ë©ïÂàÜ</div>
                        <div class="function-desc">Ê†πÊìöÂπ≥Âè∞ÈÇèËºØË©ï‰º∞ÊñáÁ´†ÊïàÊûú</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showFunction('W')">
                    <div class="function-code">W</div>
                    <div class="function-info">
                        <div class="function-name">Revision ÊñáÁ´†‰øÆÊîπ</div>
                        <div class="function-desc">ÂàÜÊûê‰∏¶ÊîπÂñÑÊõ∏Èù¢ÊñáÁ´†ÁöÑÁµêÊßã</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>
            </div>
        </div>

        <!-- Library Category Page -->
        <div id="library-page" class="page hidden">
            <button class="back-btn" onclick="showWelcome()">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="header">
                <h1>üìö Library ÂÖßÂÆπÂ∫´</h1>
            </div>

            <div class="function-list">
                <div class="function-card" onclick="showFunction('G')">
                    <div class="function-code">G</div>
                    <div class="function-info">
                        <div class="function-name">Greatest Hits Ê†∏ÂøÉÊÉ≥Ê≥ï</div>
                        <div class="function-desc">Âª∫Á´ã„ÄÅÁÆ°ÁêÜ„ÄÅÁ≤æÁÖâÊ†∏ÂøÉÊÉ≥Ê≥ïÂ∫´</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showFunction('X')">
                    <div class="function-code">X</div>
                    <div class="function-info">
                        <div class="function-name">Cross Domain Ë∑®È†òÂüüÈÄ£Áµê</div>
                        <div class="function-desc">ÊâæÂà∞ÊîØÊåÅË´ñÈªûÁöÑË∑®È†òÂüüÈ°ûÊØî</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showFunction('R')">
                    <div class="function-code">R</div>
                    <div class="function-info">
                        <div class="function-name">Reverse Engineering ÂèçÂêëÊãÜËß£</div>
                        <div class="function-desc">ÊãÜËß£‰ªñ‰∫∫ÂÑ™ÁßÄÊ∫ùÈÄö,Â≠∏ÁøíÊäÄÂ∑ß</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>
            </div>
        </div>

        <!-- Combo Category Page -->
        <div id="combo-page" class="page hidden">
            <button class="back-btn" onclick="showWelcome()">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="header">
                <h1>‚ö° Combo ÁµÑÂêàÊã≥</h1>
            </div>

            <div class="function-list">
                <div class="function-card" onclick="showComboForm('1')">
                    <div class="function-code">#1</div>
                    <div class="function-info">
                        <div class="function-name">ÂÆ¢Êà∂ÈñãÁôº</div>
                        <div class="function-desc">G ‚Üí V ‚Üí E ‚Üí P ‚Üí Q ‚Üí D</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showComboForm('2')">
                    <div class="function-code">#2</div>
                    <div class="function-info">
                        <div class="function-name">ÂÖßÈÉ®ÊèêÊ°à</div>
                        <div class="function-desc">G ‚Üí M ‚Üí Q ‚Üí D</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showComboForm('3')">
                    <div class="function-code">#3</div>
                    <div class="function-info">
                        <div class="function-name">ÊÄùÊÉ≥È†òÂ∞é</div>
                        <div class="function-desc">G ‚Üí M ‚Üí W ‚Üí V</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showComboForm('4')">
                    <div class="function-code">#4</div>
                    <div class="function-info">
                        <div class="function-name">È´òÈ¢®Èö™ÊúÉË≠∞</div>
                        <div class="function-desc">G ‚Üí Q ‚Üí M ‚Üí D</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showComboForm('5')">
                    <div class="function-code">#5</div>
                    <div class="function-info">
                        <div class="function-name">ÊïôËÇ≤Ë®ìÁ∑¥</div>
                        <div class="function-desc">X ‚Üí E ‚Üí P ‚Üí Q</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showComboForm('6')">
                    <div class="function-code">#6</div>
                    <div class="function-info">
                        <div class="function-name">Âç±Ê©üÊ∫ùÈÄö</div>
                        <div class="function-desc">G ‚Üí Q ‚Üí D ‚Üí M ‚Üí W</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showComboForm('7')">
                    <div class="function-code">#7</div>
                    <div class="function-info">
                        <div class="function-name">ÂÄã‰∫∫ÂìÅÁâå</div>
                        <div class="function-desc">G ‚Üí X ‚Üí R ‚Üí W</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>

                <div class="function-card" onclick="showComboForm('8')">
                    <div class="function-code">#8</div>
                    <div class="function-info">
                        <div class="function-name">ÂÖßÂÆπÊ™¢Ê†∏</div>
                        <div class="function-desc">A ‚Üí W ‚Üí G</div>
                    </div>
                    <span class="category-arrow">‚Ä∫</span>
                </div>
            </div>
        </div>

        <!-- M Meeting Form -->
        <div id="m-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('oral')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">M</div>
                <span>Meeting ÊúÉË≠∞ÁôºË®Ä</span>
            </div>

            <button type="button" class="example-btn" onclick="showExample('M')">
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="7" cy="7" r="6"/>
                    <path d="M7 4v4M7 10v.5"/>
                </svg>
                View Example
            </button>

            <form id="m-form" onsubmit="generateJSON('M'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">ÊúÉË≠∞‰∏ªÈ°å</label>
                        <input type="text" class="form-input" id="m-topic" placeholder="‰æãÂ¶Ç:Q1 Ê•≠Á∏æÊ™¢Ë®é„ÄÅÊñ∞Áî¢ÂìÅ‰∏äÂ∏ÇË¶èÂäÉ" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">‰Ω†ÁöÑËßíËâ≤/Á´ãÂ†¥</label>
                        <input type="text" class="form-input" id="m-role" placeholder="‰æãÂ¶Ç:Ë£ΩÁ®ã‰∏ªÁÆ°„ÄÅÂ∞àÊ°àË≤†Ë≤¨‰∫∫">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ê†∏ÂøÉË®äÊÅØ</label>
                        <textarea class="form-textarea" id="m-core-message" placeholder="‰Ω†Â∏åÊúõËÅΩÁúæË®ò‰ΩèÁöÑ‰∏Ä‰ª∂‰∫ãÊòØ‰ªÄÈ∫º?" required style="min-height: 80px;"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ÁôºË®ÄÊôÇÈñì</label>
                        <div class="time-selector">
                            <div class="time-option selected" data-value="1ÂàÜÈêò" onclick="selectTime(this, 'm-time')">1ÂàÜÈêò</div>
                            <div class="time-option" data-value="3ÂàÜÈêò" onclick="selectTime(this, 'm-time')">3ÂàÜÈêò</div>
                            <div class="time-option" data-value="5ÂàÜÈêò" onclick="selectTime(this, 'm-time')">5ÂàÜÈêò</div>
                        </div>
                        <input type="hidden" id="m-time" value="1ÂàÜÈêò">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê®°Âºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="standard" onclick="selectRadio(this, 'm-mode')">Ê®ôÊ∫ñÊ®°Âºè</div>
                            <div class="radio-option" data-value="conversational" onclick="selectRadio(this, 'm-mode')">Â∞çË©±Ê®°Âºè</div>
                        </div>
                        <input type="hidden" id="m-mode" value="standard">
                    </div>
                </div>

                <!-- Advanced Options -->
                <button type="button" class="advanced-toggle" onclick="toggleAdvanced('m')">
                    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                        <path d="M4 2l4 4-4 4V2z"/>
                    </svg>
                    Advanced Options
                </button>

                <div id="m-advanced" class="advanced-content">
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'm-add-hook')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âä†ÂÖ• Micro Story Hook ÈñãÂ†¥</span>
                        </div>
                        <input type="hidden" id="m-add-hook" value="false">
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'm-connect-gh')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âª∫Ë≠∞ÈÄ£Áµê Greatest Hits</span>
                        </div>
                        <input type="hidden" id="m-connect-gh" value="false">
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="m-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('m', 'M')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="m-json"></pre>
            </div>
        </div>

        <!-- V Elevator Pitch Form -->
        <div id="v-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('oral')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">V</div>
                <span>Elevator Pitch ÈõªÊ¢ØÁ∞°Â†±</span>
            </div>

            <button type="button" class="example-btn" onclick="showExample('V')">
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="7" cy="7" r="6"/>
                    <path d="M7 4v4M7 10v.5"/>
                </svg>
                View Example
            </button>

            <form id="v-form" onsubmit="generateJSON('V'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">‰Ω†ÊòØË™∞/ÂÅö‰ªÄÈ∫º</label>
                        <textarea class="form-textarea" id="v-subject" placeholder="‰Ω†ÁöÑË∫´‰ªΩ„ÄÅÂÖ¨Âè∏„ÄÅÁî¢ÂìÅÊàñÊúçÂãô" required style="min-height: 80px;"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Â∞çÊñπÊòØË™∞ <span class="optional">(ÈÅ∏Â°´)</span></label>
                        <input type="text" class="form-input" id="v-audience" placeholder="‰æãÂ¶Ç:ÊΩõÂú®ÊäïË≥á‰∫∫„ÄÅÊñ∞Ë™çË≠òÁöÑÊ•≠ÁïåÊúãÂèã">
                    </div>

                    <div class="form-group">
                        <label class="form-label">ÊÉ≥Áïô‰∏ãÁöÑÂç∞Ë±°</label>
                        <input type="text" class="form-input" id="v-impression" placeholder="‰æãÂ¶Ç:Â∞àÊ•≠ÂèØÈù†„ÄÅÂâµÊñ∞ÊúâÊ¥ªÂäõ„ÄÅÂÄºÂæóÊ∑±Ë´á">
                    </div>

                    <div class="form-group">
                        <label class="form-label">ÁâàÊú¨(multi-select)</label>
                        <div class="convert-options-inline">
                            <div class="checkbox-group compact checked" data-value="30Áßí" onclick="toggleVersionOption(this)">
                                <div class="checkbox-box">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                        <path d="M2 6l3 3 5-6"/>
                                    </svg>
                                </div>
                                <span class="checkbox-label">30Áßí</span>
                            </div>
                            <div class="checkbox-group compact" data-value="60Áßí" onclick="toggleVersionOption(this)">
                                <div class="checkbox-box">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                        <path d="M2 6l3 3 5-6"/>
                                    </svg>
                                </div>
                                <span class="checkbox-label">60Áßí</span>
                            </div>
                            <div class="checkbox-group compact" data-value="90Áßí" onclick="toggleVersionOption(this)">
                                <div class="checkbox-box">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                        <path d="M2 6l3 3 5-6"/>
                                    </svg>
                                </div>
                                <span class="checkbox-label">90Áßí</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê®°Âºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="standard" onclick="selectRadio(this, 'v-mode')">Ê®ôÊ∫ñÊ®°Âºè</div>
                            <div class="radio-option" data-value="conversational" onclick="selectRadio(this, 'v-mode')">Â∞çË©±Ê®°Âºè</div>
                        </div>
                        <input type="hidden" id="v-mode" value="standard">
                    </div>
                </div>

                <!-- Advanced Options -->
                <button type="button" class="advanced-toggle" onclick="toggleAdvanced('v')">
                    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                        <path d="M4 2l4 4-4 4V2z"/>
                    </svg>
                    Advanced Options
                </button>

                <div id="v-advanced" class="advanced-content">
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'v-add-hook')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âä†ÂÖ• Micro Story Hook ÈñãÂ†¥</span>
                        </div>
                        <input type="hidden" id="v-add-hook" value="false">
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'v-connect-gh')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âª∫Ë≠∞ÈÄ£Áµê Greatest Hits</span>
                        </div>
                        <input type="hidden" id="v-connect-gh" value="false">
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="v-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('v', 'V')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="v-json"></pre>
            </div>
        </div>

        <!-- E Explainer Form -->
        <div id="e-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('oral')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">E</div>
                <span>Explainer Ê¶ÇÂøµËß£Ë™™</span>
            </div>

            <form id="e-form" onsubmit="generateJSON('E'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">Ë¶ÅËß£ÈáãÁöÑÊ¶ÇÂøµ/ÊµÅÁ®ã</label>
                        <textarea class="form-textarea" id="e-concept" placeholder="‰æãÂ¶Ç:ÁÑ°ËèåÂÖÖÂ°´Ë£ΩÁ®ã„ÄÅGMP Ê≥ïË¶èË¶ÅÊ±Ç" required style="min-height: 80px;"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ËÅΩÁúæÂ∞àÊ•≠Á®ãÂ∫¶</label>
                        <select class="form-select" id="e-audience-level">
                            <option value="ÂÆåÂÖ®Â§ñË°å">ÂÆåÂÖ®Â§ñË°å</option>
                            <option value="Áï•ÊáÇÁöÆÊØõ" selected>Áï•ÊáÇÁöÆÊØõ</option>
                            <option value="ÊúâÂü∫Á§éÁü•Ë≠ò">ÊúâÂü∫Á§éÁü•Ë≠ò</option>
                            <option value="Â∞àÊ•≠‰∫∫Â£´">Â∞àÊ•≠‰∫∫Â£´</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ÂøÖÈ†àÊ∂µËìãÁöÑÈáçÈªû <span class="optional">(ÈÅ∏Â°´,Áî®ÈÄóËôüÂàÜÈöî)</span></label>
                        <input type="text" class="form-input" id="e-key-points" placeholder="‰æãÂ¶Ç:ÂÆâÂÖ®ÊÄß„ÄÅÊïàÁéá„ÄÅÊàêÊú¨">
                    </div>

                    <div class="form-group">
                        <label class="form-label">ÊôÇÈñìÈï∑Â∫¶ <span class="optional">(ÈÅ∏Â°´)</span></label>
                        <select class="form-select" id="e-time-limit">
                            <option value="">‰∏çÈôê</option>
                            <option value="1ÂàÜÈêò">1ÂàÜÈêò</option>
                            <option value="3ÂàÜÈêò">3ÂàÜÈêò</option>
                            <option value="5ÂàÜÈêò">5ÂàÜÈêò</option>
                            <option value="10ÂàÜÈêò">10ÂàÜÈêò</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê®°Âºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="standard" onclick="selectRadio(this, 'e-mode')">Ê®ôÊ∫ñÊ®°Âºè</div>
                            <div class="radio-option" data-value="conversational" onclick="selectRadio(this, 'e-mode')">Â∞çË©±Ê®°Âºè</div>
                        </div>
                        <input type="hidden" id="e-mode" value="standard">
                    </div>
                </div>

                <!-- Advanced Options -->
                <button type="button" class="advanced-toggle" onclick="toggleAdvanced('e')">
                    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                        <path d="M4 2l4 4-4 4V2z"/>
                    </svg>
                    Advanced Options
                </button>

                <div id="e-advanced" class="advanced-content">
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'e-add-cross-domain')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âä†ÂÖ•Ë∑®È†òÂüüÈ°ûÊØîÂª∫Ë≠∞</span>
                        </div>
                        <input type="hidden" id="e-add-cross-domain" value="false">
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="e-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('e', 'E')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="e-json"></pre>
            </div>
        </div>

        <!-- P Pitch Form -->
        <div id="p-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('oral')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">P</div>
                <span>Pitch Á∞°Â†±Ë¨õÁ®ø</span>
            </div>

            <form id="p-form" onsubmit="generateJSON('P'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">Á∞°Â†±‰∏ªÈ°å/Â§ßÁ∂±</label>
                        <textarea class="form-textarea" id="p-topic" placeholder="Á∞°Â†±ÁöÑ‰∏ªÈ°åÊàñÂ§ßÁ∂±ÂÖßÂÆπ" required></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ËÅΩÁúæÈ°ûÂûã</label>
                        <select class="form-select" id="p-audience">
                            <option value="Ê±∫Á≠ñËÄÖ">Ê±∫Á≠ñËÄÖ</option>
                            <option value="ÊäÄË°ì‰∫∫Âì°" selected>ÊäÄË°ì‰∫∫Âì°</option>
                            <option value="ÊäïË≥á‰∫∫">ÊäïË≥á‰∫∫</option>
                            <option value="‰∏ÄËà¨ËÅΩÁúæ">‰∏ÄËà¨ËÅΩÁúæ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Â∏åÊúõÈÅîÊàêÁöÑË°åÂãï (CTA)</label>
                        <input type="text" class="form-input" id="p-cta" placeholder="‰æãÂ¶Ç:Áç≤ÂæóÈ†êÁÆóÊâπÂáÜ„ÄÅÈÄ≤ÂÖ•‰∏ã‰∏ÄËº™Ë©ï‰º∞">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Á∏ΩÊôÇÈï∑</label>
                        <select class="form-select" id="p-total-time">
                            <option value="5ÂàÜÈêò">5ÂàÜÈêò</option>
                            <option value="10ÂàÜÈêò" selected>10ÂàÜÈêò</option>
                            <option value="15ÂàÜÈêò">15ÂàÜÈêò</option>
                            <option value="20ÂàÜÈêò">20ÂàÜÈêò</option>
                            <option value="30ÂàÜÈêò">30ÂàÜÈêò</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê®°Âºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="standard" onclick="selectRadio(this, 'p-mode')">Ê®ôÊ∫ñÊ®°Âºè</div>
                            <div class="radio-option" data-value="conversational" onclick="selectRadio(this, 'p-mode')">Â∞çË©±Ê®°Âºè</div>
                        </div>
                        <input type="hidden" id="p-mode" value="standard">
                    </div>
                </div>

                <!-- Advanced Options -->
                <button type="button" class="advanced-toggle" onclick="toggleAdvanced('p')">
                    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                        <path d="M4 2l4 4-4 4V2z"/>
                    </svg>
                    Advanced Options
                </button>

                <div id="p-advanced" class="advanced-content">
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'p-add-hook')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âä†ÂÖ• Micro Story Hook ÈñãÂ†¥</span>
                        </div>
                        <input type="hidden" id="p-add-hook" value="false">
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'p-connect-gh')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âª∫Ë≠∞ÈÄ£Áµê Greatest Hits</span>
                        </div>
                        <input type="hidden" id="p-connect-gh" value="false">
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'p-include-qa')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">ÂåÖÂê´ Q&A È†êÊ∏¨(3-5È°å)</span>
                        </div>
                        <input type="hidden" id="p-include-qa" value="false">
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="p-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('p', 'P')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="p-json"></pre>
            </div>
        </div>

        <!-- D Difficult Conversation Form -->
        <div id="d-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('oral')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">D</div>
                <span>Difficult ÊïèÊÑüÂ∞çË©±</span>
            </div>

            <form id="d-form" onsubmit="generateJSON('D'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">Â∞çË©±ÊÉÖÂ¢É</label>
                        <textarea class="form-textarea" id="d-context" placeholder="ÊèèËø∞‰Ω†ÈúÄË¶ÅÈÄ≤Ë°åÁöÑÂ∞çË©±ÊÉÖÂ¢É" required></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Â∞çÊñπÂèØËÉΩÁöÑÁ´ãÂ†¥/ÊÉÖÁ∑í</label>
                        <textarea class="form-textarea" id="d-other-party" placeholder="Â∞çÊñπÂèØËÉΩÊúÉÊúâ‰ªÄÈ∫ºÂèçÊáâ„ÄÅÊìîÊÜÇÊàñÊÉÖÁ∑í?" style="min-height: 80px;"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">‰Ω†ÁöÑÂ∫ïÁ∑ö/ÁõÆÊ®ô</label>
                        <input type="text" class="form-input" id="d-bottom-line" placeholder="ÈÄôÊ¨°Â∞çË©±‰Ω†ÂøÖÈ†àÈÅîÊàê‰ªÄÈ∫º?">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Â∏åÊúõÁ∂≠ÊåÅÁöÑÈóú‰øÇÁ®ãÂ∫¶</label>
                        <select class="form-select" id="d-relationship">
                            <option value="Á∂≠ÊåÅËâØÂ•ΩÈóú‰øÇ" selected>Á∂≠ÊåÅËâØÂ•ΩÈóú‰øÇ</option>
                            <option value="Á∂≠ÊåÅÂ∑•‰ΩúÈóú‰øÇÂç≥ÂèØ">Á∂≠ÊåÅÂ∑•‰ΩúÈóú‰øÇÂç≥ÂèØ</option>
                            <option value="Èóú‰øÇ‰∏çÊòØÂÑ™ÂÖàËÄÉÈáè">Èóú‰øÇ‰∏çÊòØÂÑ™ÂÖàËÄÉÈáè</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê®°Âºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="standard" onclick="selectRadio(this, 'd-mode')">Ê®ôÊ∫ñÊ®°Âºè</div>
                            <div class="radio-option" data-value="conversational" onclick="selectRadio(this, 'd-mode')">Â∞çË©±Ê®°Âºè</div>
                        </div>
                        <input type="hidden" id="d-mode" value="standard">
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="d-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('d', 'D')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="d-json"></pre>
            </div>
        </div>

        <!-- Q Q&A Simulator Form -->
        <div id="q-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('oral')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">Q</div>
                <span>Q&A Simulator ÂïèÁ≠îÊ®°Êì¨</span>
            </div>

            <button type="button" class="example-btn" onclick="showExample('Q')">
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="7" cy="7" r="6"/>
                    <path d="M7 4v4M7 10v.5"/>
                </svg>
                View Example
            </button>

            <form id="q-form" onsubmit="generateJSON('Q'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">ÊÉÖÂ¢ÉË™™Êòé</label>
                        <textarea class="form-textarea" id="q-context" placeholder="‰æãÂ¶Ç:ÂêëÊó•Êú¨Ëó•Âª†‰ªãÁ¥πÁÑ°ËèåÂÖÖÂ°´ÊúçÂãôÂæåÁöÑ Q&A Áí∞ÁØÄ" required></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Â∞çË±°È°ûÂûã</label>
                        <select class="form-select" id="q-audience">
                            <option value="Ê±∫Á≠ñËÄÖ">Ê±∫Á≠ñËÄÖ</option>
                            <option value="ÊäÄË°ì‰∫∫Âì°" selected>ÊäÄË°ì‰∫∫Âì°</option>
                            <option value="ÊäïË≥á‰∫∫">ÊäïË≥á‰∫∫</option>
                            <option value="‰∏ÄËà¨ËÅΩÁúæ">‰∏ÄËà¨ËÅΩÁúæ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">‰Ω†ÁöÑÁ´ãÂ†¥</label>
                        <input type="text" class="form-input" id="q-position" placeholder="‰æãÂ¶Ç:Êé®Ëñ¶ÊàëÂÄëÁöÑÊúçÂãô„ÄÅÁà≠ÂèñÂêà‰ΩúÊ©üÊúÉ" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Â∑≤Áü•Âº±Èªû <span class="optional">(ÈÅ∏Â°´)</span></label>
                        <input type="text" class="form-input" id="q-weakness" placeholder="‰æãÂ¶Ç:ÂÉπÊ†ºËºÉÈ´ò„ÄÅÂ∞öÊú™Êé•ÂèóÈÅéÂúãÈöõÊü•Âª†">
                    </div>

                    <div class="form-group">
                        <label class="form-label">È°åÊï∏</label>
                        <div class="radio-group">
                            <div class="radio-option" data-value="3" onclick="selectRadio(this, 'q-count')">3 È°å</div>
                            <div class="radio-option selected" data-value="5" onclick="selectRadio(this, 'q-count')">5 È°å</div>
                            <div class="radio-option" data-value="10" onclick="selectRadio(this, 'q-count')">10 È°å</div>
                        </div>
                        <input type="hidden" id="q-count" value="5">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Èõ£Â∫¶</label>
                        <div class="radio-group">
                            <div class="radio-option" data-value="ÂèãÂñÑ" onclick="selectRadio(this, 'q-difficulty')">ÂèãÂñÑ</div>
                            <div class="radio-option selected" data-value="‰∏≠ÊÄß" onclick="selectRadio(this, 'q-difficulty')">‰∏≠ÊÄß</div>
                            <div class="radio-option" data-value="ÂàÅÈëΩ" onclick="selectRadio(this, 'q-difficulty')">ÂàÅÈëΩ</div>
                        </div>
                        <input type="hidden" id="q-difficulty" value="‰∏≠ÊÄß">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê®°Âºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="standard" onclick="selectRadio(this, 'q-mode')">Ê®ôÊ∫ñÊ®°Âºè</div>
                            <div class="radio-option" data-value="conversational" onclick="selectRadio(this, 'q-mode')">Â∞çË©±Ê®°Âºè</div>
                        </div>
                        <input type="hidden" id="q-mode" value="standard">
                    </div>
                </div>

                <!-- Advanced Options -->
                <button type="button" class="advanced-toggle" onclick="toggleAdvanced('q')">
                    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                        <path d="M4 2l4 4-4 4V2z"/>
                    </svg>
                    Advanced Options
                </button>

                <div id="q-advanced" class="advanced-content">
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'q-add-hook')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">ÂõûÁ≠î‰∏≠Âä†ÂÖ• Micro Story Hook</span>
                        </div>
                        <input type="hidden" id="q-add-hook" value="false">
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'q-connect-gh')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âª∫Ë≠∞ÈÄ£Áµê Greatest Hits</span>
                        </div>
                        <input type="hidden" id="q-connect-gh" value="false">
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="q-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('q', 'Q')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="q-json"></pre>
            </div>
        </div>

        <!-- G Greatest Hits Form -->
        <div id="g-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('library')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">G</div>
                <span>Greatest Hits Ê†∏ÂøÉÊÉ≥Ê≥ï</span>
            </div>

            <form id="g-form" onsubmit="generateJSON('G'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">Ê®°Âºè</label>
                        <select class="form-select" id="g-mode-select">
                            <option value="build" selected>build - Âª∫Á´ãÊ†∏ÂøÉÊÉ≥Ê≥ï</option>
                            <option value="refine">refine - Á≤æÁÖâË°®ÈÅîÁâàÊú¨</option>
                            <option value="connect">connect - Âª∫Á´ãÊÉ≥Ê≥ïÈóúËÅØ</option>
                            <option value="track">track - ËøΩËπ§‰ΩøÁî®ÊÉÖÊ≥Å</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Áõ∏ÈóúÂÖßÂÆπ <span class="optional">(ÈÅ∏Â°´)</span></label>
                        <textarea class="form-textarea" id="g-content" placeholder="Ëã•ÊúâÁõ∏ÈóúÂÖßÂÆπÂèØË≤º‰∏ä,ÊàñÁïôÁ©∫ËÆìÁ≥ªÁµ±ÂºïÂ∞é‰Ω†"></textarea>
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="g-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('g', 'G')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="g-json"></pre>
            </div>
        </div>

        <!-- X Cross Domain Form -->
        <div id="x-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('library')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">X</div>
                <span>Cross Domain Ë∑®È†òÂüüÈÄ£Áµê</span>
            </div>

            <form id="x-form" onsubmit="generateJSON('X'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">Ê†∏ÂøÉË´ñÈªû</label>
                        <textarea class="form-textarea" id="x-core-point" placeholder="‰Ω†ÊÉ≥Ë°®ÈÅîÁöÑÊ†∏ÂøÉËßÄÈªûÊòØ‰ªÄÈ∫º?" required style="min-height: 80px;"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ÊÉ≥ÈÄ£ÁµêÁöÑÈ†òÂüü <span class="optional">(ÈÅ∏Â°´,Áî®ÈÄóËôüÂàÜÈöî)</span></label>
                        <input type="text" class="form-input" id="x-domains" placeholder="‰æãÂ¶Ç:ÁßëÂ≠∏„ÄÅÂïÜÊ•≠„ÄÅ‰∫∫Êñá„ÄÅÈÅãÂãï">
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="x-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('x', 'X')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="x-json"></pre>
            </div>
        </div>

        <!-- R Reverse Engineering Form -->
        <div id="r-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('library')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">R</div>
                <span>Reverse Engineering ÂèçÂêëÊãÜËß£</span>
            </div>

            <form id="r-form" onsubmit="generateJSON('R'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">ÂÖßÂÆπ <span class="optional">(ÂèØË≤ºÊñáÁ´†Êàñ URL)</span></label>
                        <textarea class="form-textarea" id="r-content" placeholder="Ë≤º‰∏äË¶ÅÊãÜËß£ÁöÑÊñáÁ´†„ÄÅÊºîË¨õÈÄêÂ≠óÁ®ø,ÊàñÁõ¥Êé•Ë≤º‰∏ä URL(Â¶Ç https://...)" required style="min-height: 200px;"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ÂÖßÂÆπÈ°ûÂûã</label>
                        <select class="form-select" id="r-content-type">
                            <option value="article" selected>ÊñáÁ´†</option>
                            <option value="speech">ÊºîË¨õ</option>
                            <option value="dialogue">Â∞çË©±</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê®°Âºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="standard" onclick="selectRadio(this, 'r-mode')">Ê®ôÊ∫ñÊ®°Âºè</div>
                            <div class="radio-option" data-value="conversational" onclick="selectRadio(this, 'r-mode')">Â∞çË©±Ê®°Âºè</div>
                        </div>
                        <input type="hidden" id="r-mode" value="standard">
                    </div>
                </div>

                <!-- Advanced Options -->
                <button type="button" class="advanced-toggle" onclick="toggleAdvanced('r')">
                    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                        <path d="M4 2l4 4-4 4V2z"/>
                    </svg>
                    Advanced Options
                </button>

                <div id="r-advanced" class="advanced-content">
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleIncludeRating(this)">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Include A (rate by platform logic)</span>
                        </div>
                        <input type="hidden" id="r-include-rating" value="false">
                    </div>

                    <!-- Platform selector (conditional) -->
                    <div class="form-group hidden" id="r-platform-group">
                        <label class="form-label">Rating Platform</label>
                        <select class="form-select" id="r-platform">
                            <option value="Substack" selected>Substack</option>
                            <option value="LinkedIn">LinkedIn</option>
                            <option value="X">X</option>
                            <option value="Facebook">Facebook</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'r-extract-gh')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Extract learnable Greatest Hits</span>
                        </div>
                        <input type="hidden" id="r-extract-gh" value="false">
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="r-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('r', 'R')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="r-json"></pre>
            </div>
        </div>

        <!-- A Rating Form -->
        <div id="a-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('written')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">A</div>
                <span>Rating ÊñáÁ´†Ë©ïÂàÜ</span>
            </div>

            <button type="button" class="example-btn" onclick="showExample('A')">
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="7" cy="7" r="6"/>
                    <path d="M7 4v4M7 10v.5"/>
                </svg>
                View Example
            </button>

            <form id="a-form" onsubmit="generateJSON('A'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">Âπ≥Âè∞</label>
                        <select class="form-select" id="a-platform" onchange="updateConvertOptionsA()">
                            <option value="Substack" selected>Substack</option>
                            <option value="LinkedIn">LinkedIn</option>
                            <option value="X">X</option>
                            <option value="Facebook">Facebook</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ÂÖßÂÆπ <span class="optional">(ÂèØË≤ºÊñáÁ´†Êàñ URL)</span></label>
                        <textarea class="form-textarea" id="a-content" placeholder="Ë≤º‰∏äÊñáÁ´†ÂÖßÂÆπ,ÊàñÁõ¥Êé•Ë≤º‰∏ä URL(Â¶Ç https://...)" required></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ÁõÆÊ®ô <span class="optional">(ÈÅ∏Â°´)</span></label>
                        <input type="text" class="form-input" id="a-goal" placeholder="ÊèêÈ´ò‰∫íÂãïÁéá„ÄÅÂª∫Á´ãÂ∞àÊ•≠ÂΩ¢Ë±°„ÄÅÂºïÁôºË®éË´ñ„ÄÅÂ∞éÊµÅË®ÇÈñ±...">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê®°Âºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="standard" onclick="selectRadio(this, 'a-mode')">Ê®ôÊ∫ñÊ®°Âºè</div>
                            <div class="radio-option" data-value="conversational" onclick="selectRadio(this, 'a-mode')">Â∞çË©±Ê®°Âºè</div>
                        </div>
                        <input type="hidden" id="a-mode" value="standard">
                    </div>
                </div>

                <!-- Advanced Options -->
                <button type="button" class="advanced-toggle" onclick="toggleAdvanced('a')">
                    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                        <path d="M4 2l4 4-4 4V2z"/>
                    </svg>
                    Advanced Options
                </button>

                <div id="a-advanced" class="advanced-content">
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleIncludeRevision(this)">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Include W (revise after rating)</span>
                        </div>
                        <input type="hidden" id="a-include-revision" value="false">
                    </div>

                    <!-- Convert To (conditional) -->
                    <div class="form-group hidden" id="a-convert-group">
                        <label class="form-label">Convert to other platforms <span class="optional">(multi-select)</span></label>
                        <div class="convert-options-inline" id="a-convert-options">
                            <div class="checkbox-group compact" data-value="LinkedIn" onclick="toggleLinkedInOptionA(this)">
                                <div class="checkbox-box">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                        <path d="M2 6l3 3 5-6"/>
                                    </svg>
                                </div>
                                <span class="checkbox-label">LinkedIn</span>
                            </div>
                            <div class="checkbox-group compact" data-value="X" onclick="toggleConvertOptionA(this)">
                                <div class="checkbox-box">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                        <path d="M2 6l3 3 5-6"/>
                                    </svg>
                                </div>
                                <span class="checkbox-label">X</span>
                            </div>
                            <div class="checkbox-group compact" data-value="Facebook" onclick="toggleConvertOptionA(this)">
                                <div class="checkbox-box">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                        <path d="M2 6l3 3 5-6"/>
                                    </svg>
                                </div>
                                <span class="checkbox-label">Facebook</span>
                            </div>
                            <div class="checkbox-group compact" data-value="Substack" onclick="toggleConvertOptionA(this)" style="display: none;">
                                <div class="checkbox-box">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                        <path d="M2 6l3 3 5-6"/>
                                    </svg>
                                </div>
                                <span class="checkbox-label">Substack</span>
                            </div>
                        </div>
                        <!-- LinkedIn Sub-options -->
                        <div class="linkedin-suboptions" id="a-linkedin-suboptions">
                            <div class="checkbox-group compact" data-value="carousel" onclick="this.classList.toggle('checked')">
                                <div class="checkbox-box">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                        <path d="M2 6l3 3 5-6"/>
                                    </svg>
                                </div>
                                <span class="checkbox-label">Convert to Carousel</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'a-identify-toyf')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Identify TOYF plan used</span>
                        </div>
                        <input type="hidden" id="a-identify-toyf" value="false">
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="a-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('a', 'A')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="a-json"></pre>
            </div>
        </div>

        <!-- W Revision Form -->
        <div id="w-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('written')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code">W</div>
                <span>Revision ÊñáÁ´†‰øÆÊîπ</span>
            </div>

            <form id="w-form" onsubmit="generateJSON('W'); return false;">
                <div class="form-section">
                    <!-- Has Rating Checkbox -->
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleHasRating(this)">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Â∑≤Êúâ A ÁöÑË©ïÂàÜÁµêÊûú</span>
                        </div>
                        <input type="hidden" id="w-has-rating" value="false">
                    </div>

                    <!-- Rating Result (conditional) -->
                    <div class="form-group hidden" id="w-rating-group">
                        <label class="form-label">Ë©ïÂàÜÁµêÊûú</label>
                        <textarea class="form-textarea" id="w-rating-result" placeholder="Ë´ãË≤º‰∏ä A ÁöÑË©ïÂàÜÁµêÊûú..."></textarea>
                        <div id="w-auto-fill-notice" class="auto-fill-notice hidden">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="currentColor">
                                <path d="M7 0a7 7 0 100 14A7 7 0 007 0zm1 10H6V6h2v4zm0-5H6V3h2v2z"/>
                            </svg>
                            Â∑≤Â∏∂ÂÖ•ÊúÄËøëË©ïÂàÜÁµêÊûú,ÂèØ‰øÆÊîπ
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ÂÖßÂÆπ <span class="optional">(ÂèØË≤ºÊñáÁ´†Êàñ URL)</span></label>
                        <textarea class="form-textarea" id="w-content" placeholder="Ë≤º‰∏äÊñáÁ´†ÂÖßÂÆπ,ÊàñÁõ¥Êé•Ë≤º‰∏ä URL(Â¶Ç https://...)" required></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">‰øÆÊîπÁÑ¶Èªû</label>
                        <select class="form-select" id="w-focus">
                            <option value="ÂÖ®Èù¢‰øÆÊîπ" selected>ÂÖ®Èù¢‰øÆÊîπ</option>
                            <option value="ÁµêÊßãÂÑ™Âåñ">ÁµêÊßãÂÑ™Âåñ</option>
                            <option value="ÈñãÂ†¥Âº∑Âåñ">ÈñãÂ†¥Âº∑Âåñ</option>
                            <option value="ÁµêË´ñÂº∑Âåñ">ÁµêË´ñÂº∑Âåñ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê†ºÂºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="Âª∫Ë≠∞Ê∏ÖÂñÆ" onclick="selectRadio(this, 'w-output-format')">Âª∫Ë≠∞Ê∏ÖÂñÆ</div>
                            <div class="radio-option" data-value="ÊîπÂØ´ÂÖ®Êñá" onclick="selectRadio(this, 'w-output-format')">ÊîπÂØ´ÂÖ®Êñá</div>
                            <div class="radio-option" data-value="ÂÖ©ËÄÖÈÉΩË¶Å" onclick="selectRadio(this, 'w-output-format')">ÂÖ©ËÄÖÈÉΩË¶Å</div>
                        </div>
                        <input type="hidden" id="w-output-format" value="Âª∫Ë≠∞Ê∏ÖÂñÆ">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê®°Âºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="standard" onclick="selectRadio(this, 'w-mode')">Ê®ôÊ∫ñÊ®°Âºè</div>
                            <div class="radio-option" data-value="conversational" onclick="selectRadio(this, 'w-mode')">Â∞çË©±Ê®°Âºè</div>
                        </div>
                        <input type="hidden" id="w-mode" value="standard">
                    </div>
                </div>

                <!-- Advanced Options -->
                <button type="button" class="advanced-toggle" onclick="toggleAdvanced('w')">
                    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                        <path d="M4 2l4 4-4 4V2z"/>
                    </svg>
                    Advanced Options
                </button>

                <div id="w-advanced" class="advanced-content">
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'w-identify-toyf')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Ë≠òÂà•ÁõÆÂâç‰ΩøÁî®ÁöÑ TOYF Ë®àÁï´</span>
                        </div>
                        <input type="hidden" id="w-identify-toyf" value="false">
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'w-suggest-toyf')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âª∫Ë≠∞Êõ¥ÈÅ©ÂêàÁöÑ TOYF Ë®àÁï´</span>
                        </div>
                        <input type="hidden" id="w-suggest-toyf" value="false">
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'w-add-hook')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âä†ÂÖ• Micro Story Hook Âª∫Ë≠∞</span>
                        </div>
                        <input type="hidden" id="w-add-hook" value="false">
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleCheckbox(this, 'w-connect-gh')">
                            <div class="checkbox-box">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                    <path d="M2 6l3 3 5-6"/>
                                </svg>
                            </div>
                            <span class="checkbox-label">Âª∫Ë≠∞ÈÄ£Áµê Greatest Hits</span>
                        </div>
                        <input type="hidden" id="w-connect-gh" value="false">
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="w-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('w', 'W')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="w-json"></pre>
            </div>
        </div>

        <!-- Combo Form Page -->
        <div id="combo-form-page" class="page hidden">
            <button class="back-btn" onclick="showCategory('combo')">
                <span>‚Üê</span> ËøîÂõû
            </button>

            <div class="form-title">
                <div class="function-code" id="combo-code">#1</div>
                <span id="combo-title">ÂÆ¢Êà∂ÈñãÁôº</span>
            </div>

            <div class="form-section" style="margin-bottom: 24px;">
                <div style="background: #f5f5f5; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="font-size: 13px; color: #666; margin-bottom: 8px;">Âü∑Ë°åÊµÅÁ®ã</div>
                    <div id="combo-flow" style="font-size: 15px; font-weight: 500;">G ‚Üí V ‚Üí E ‚Üí P ‚Üí Q ‚Üí D</div>
                    <div id="combo-time" style="font-size: 12px; color: #888; margin-top: 8px;">Est. Time: 75-100 min</div>
                </div>

                <div id="combo-description" style="font-size: 14px; color: #555; line-height: 1.6; margin-bottom: 20px;">
                    ÂæûÁ¢∫Ë™çÊ†∏ÂøÉÊÉ≥Ê≥ïÈñãÂßã,‰æùÂ∫èÊ∫ñÂÇôÈõªÊ¢ØÁ∞°Â†±„ÄÅÁî¢ÂìÅËß£Ë™™„ÄÅÊ≠£ÂºèÊèêÊ°à„ÄÅQ&A Ê®°Êì¨,ÊúÄÂæåÊ∫ñÂÇôË≠∞ÂÉπË´áÂà§„ÄÇ
                </div>
            </div>

            <form id="combo-form" onsubmit="generateJSON('Combo'); return false;">
                <div class="form-section">
                    <div class="form-group">
                        <label class="form-label">ÊÉÖÂ¢ÉË™™Êòé</label>
                        <textarea class="form-textarea" id="combo-context" placeholder="ÊèèËø∞‰Ω†Èù¢Ëá®ÁöÑÊÉÖÂ¢É,‰æãÂ¶Ç:‰∏ãÈÄ±Ë¶ÅÊãúË®™Êó•Êú¨Ëó•Âª†,‰ªãÁ¥πÊàëÂÄëÁöÑÁÑ°ËèåÂÖÖÂ°´ÊúçÂãô" required></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Ëº∏Âá∫Ê®°Âºè</label>
                        <div class="radio-group">
                            <div class="radio-option selected" data-value="standard" onclick="selectRadio(this, 'combo-mode')">Ê®ôÊ∫ñÊ®°Âºè</div>
                            <div class="radio-option" data-value="conversational" onclick="selectRadio(this, 'combo-mode')">Â∞çË©±Ê®°Âºè</div>
                        </div>
                        <input type="hidden" id="combo-mode" value="standard">
                    </div>
                </div>

                <!-- Advanced Options (only for #8) -->
                <div id="combo-advanced-section" class="hidden">
                    <button type="button" class="advanced-toggle" onclick="toggleAdvanced('combo')">
                        <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                            <path d="M4 2l4 4-4 4V2z"/>
                        </svg>
                        Advanced Options
                    </button>

                    <div id="combo-advanced" class="advanced-content">
                        <div class="form-group">
                            <label class="form-label">Rating Platform</label>
                            <select class="form-select" id="combo-platform" onchange="updateConvertOptionsCombo()">
                                <option value="Substack" selected>Substack</option>
                                <option value="LinkedIn">LinkedIn</option>
                                <option value="X">X</option>
                                <option value="Facebook">Facebook</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <div class="checkbox-group" onclick="toggleComboIncludeRevision(this)">
                                <div class="checkbox-box">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                        <path d="M2 6l3 3 5-6"/>
                                    </svg>
                                </div>
                                <span class="checkbox-label">Include W (revise after rating)</span>
                            </div>
                            <input type="hidden" id="combo-include-revision" value="false">
                        </div>

                        <!-- Convert To (conditional) -->
                        <div class="form-group hidden" id="combo-convert-group">
                            <label class="form-label">Convert to other platforms <span class="optional">(multi-select)</span></label>
                            <div class="convert-options-inline" id="combo-convert-options">
                                <div class="checkbox-group compact" data-value="LinkedIn" onclick="toggleLinkedInOptionCombo(this)">
                                    <div class="checkbox-box">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                            <path d="M2 6l3 3 5-6"/>
                                        </svg>
                                    </div>
                                    <span class="checkbox-label">LinkedIn</span>
                                </div>
                                <div class="checkbox-group compact" data-value="X" onclick="toggleConvertOptionCombo(this)">
                                    <div class="checkbox-box">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                            <path d="M2 6l3 3 5-6"/>
                                        </svg>
                                    </div>
                                    <span class="checkbox-label">X</span>
                                </div>
                                <div class="checkbox-group compact" data-value="Facebook" onclick="toggleConvertOptionCombo(this)">
                                    <div class="checkbox-box">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                            <path d="M2 6l3 3 5-6"/>
                                        </svg>
                                    </div>
                                    <span class="checkbox-label">Facebook</span>
                                </div>
                                <div class="checkbox-group compact" data-value="Substack" onclick="toggleConvertOptionCombo(this)" style="display: none;">
                                    <div class="checkbox-box">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                            <path d="M2 6l3 3 5-6"/>
                                        </svg>
                                    </div>
                                    <span class="checkbox-label">Substack</span>
                                </div>
                            </div>
                            <!-- LinkedIn Sub-options -->
                            <div class="linkedin-suboptions" id="combo-linkedin-suboptions">
                                <div class="checkbox-group compact" data-value="carousel" onclick="this.classList.toggle('checked')">
                                    <div class="checkbox-box">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                            <path d="M2 6l3 3 5-6"/>
                                        </svg>
                                    </div>
                                    <span class="checkbox-label">Convert to Carousel</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="checkbox-group" onclick="toggleCheckbox(this, 'combo-identify-toyf')">
                                <div class="checkbox-box">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="white" stroke-width="2">
                                        <path d="M2 6l3 3 5-6"/>
                                    </svg>
                                </div>
                                <span class="checkbox-label">Identify TOYF plan used</span>
                            </div>
                            <input type="hidden" id="combo-identify-toyf" value="false">
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-primary">Áî¢ÁîüÊåá‰ª§</button>
            </form>

            <div id="combo-output" class="json-output hidden">
                <div class="json-header">
                    <span class="json-title">JSON Ëº∏Âá∫</span>
                    <button class="copy-btn" onclick="copyLog('combo', 'Combo')">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    </button>
                </div>
                <pre class="json-content" id="combo-json"></pre>
            </div>
        </div>
    </div>

    <script>
        // localStorage keys
        const STORAGE_KEY_A_RESULT = 'toyf_last_a_result';
        const STORAGE_KEY_ONBOARDING = 'articulator_onboarding_done';
        const STORAGE_KEY_LANG = 'articulator_lang';
        const STORAGE_KEY_RECENT = 'articulator_recent';
        const STORAGE_KEY_STATS = 'articulator_stats';

        // =====================
        // Recent History System (with persistent storage fallback)
        // =====================
        
        // Function names mapping
        const functionNames = {
            'T': { en: 'Training', zh: 'Âç≥ËààÁ∑¥Áøí' },
            'M': { en: 'Meeting', zh: 'ÊúÉË≠∞ÁôºË®Ä' },
            'V': { en: 'Elevator Pitch', zh: 'ÈõªÊ¢ØÁ∞°Â†±' },
            'E': { en: 'Explainer', zh: 'Ê¶ÇÂøµËß£Ë™™' },
            'P': { en: 'Pitch', zh: 'Á∞°Â†±Ë¨õÁ®ø' },
            'D': { en: 'Difficult Conv.', zh: 'ÊïèÊÑüÂ∞çË©±' },
            'Q': { en: 'Q&A Simulator', zh: 'ÂïèÁ≠îÊ®°Êì¨' },
            'G': { en: 'Greatest Hits', zh: 'Ê†∏ÂøÉÊÉ≥Ê≥ï' },
            'X': { en: 'Cross Domain', zh: 'Ë∑®È†òÂüü' },
            'R': { en: 'Reverse Eng.', zh: 'ÂèçÂêëÊãÜËß£' },
            'A': { en: 'Article Rating', zh: 'ÊñáÁ´†Ë©ïÂàÜ' },
            'W': { en: 'Article Revision', zh: 'ÊñáÁ´†‰øÆÊîπ' },
            'Combo': { en: 'Combo', zh: 'ÁµÑÂêàÊã≥' }
        };

        // Storage helper with Claude persistent storage fallback
        const storageHelper = {
            async get(key) {
                // Always try localStorage first for reliability
                try {
                    const stored = localStorage.getItem(key);
                    if (stored) {
                        return JSON.parse(stored);
                    }
                } catch (e) {
                    console.log('localStorage read error:', e);
                }
                
                // Then try Claude's persistent storage
                try {
                    if (window.storage && typeof window.storage.get === 'function') {
                        const result = await window.storage.get(key);
                        if (result && result.value) {
                            return JSON.parse(result.value);
                        }
                    }
                } catch (e) {
                    // Key doesn't exist or storage not available - this is normal
                }
                
                return null;
            },
            
            async set(key, value) {
                const json = JSON.stringify(value);
                // Always save to localStorage first
                try {
                    localStorage.setItem(key, json);
                } catch (e) {
                    console.log('localStorage write error:', e);
                }
                // Then try Claude's persistent storage
                try {
                    if (window.storage && typeof window.storage.set === 'function') {
                        await window.storage.set(key, json);
                    }
                } catch (e) {
                    // Persistent storage not available - this is fine
                }
            },
            
            async delete(key) {
                try {
                    localStorage.removeItem(key);
                } catch (e) {}
                try {
                    if (window.storage && typeof window.storage.delete === 'function') {
                        await window.storage.delete(key);
                    }
                } catch (e) {}
            }
        };

        // Recent history management
        async function getRecentHistory() {
            const recent = await storageHelper.get(STORAGE_KEY_RECENT);
            return recent || [];
        }

        async function addToRecentHistory(funcCode, label) {
            try {
                const recent = await getRecentHistory();
                const now = new Date().toISOString();
                
                // Remove existing entry for same function if exists
                const filtered = recent.filter(item => item.func !== funcCode);
                
                // Add new entry at the beginning
                filtered.unshift({
                    func: funcCode,
                    label: label || '',
                    ts: now
                });
                
                // Keep only last 5 items
                const trimmed = filtered.slice(0, 5);
                
                await storageHelper.set(STORAGE_KEY_RECENT, trimmed);
                
                // Update stats
                await updateStats(funcCode);
                
                // Refresh UI
                await renderRecentSection();
            } catch (e) {
                console.log('addToRecentHistory error:', e);
            }
        }

        async function updateStats(funcCode) {
            try {
                const stats = await storageHelper.get(STORAGE_KEY_STATS) || {};
                stats[funcCode] = (stats[funcCode] || 0) + 1;
                stats.lastSession = new Date().toISOString();
                await storageHelper.set(STORAGE_KEY_STATS, stats);
            } catch (e) {
                console.log('updateStats error:', e);
            }
        }

        async function clearRecentHistory() {
            await storageHelper.delete(STORAGE_KEY_RECENT);
            await renderRecentSection();
        }

        async function renderRecentSection() {
            try {
                const recent = await getRecentHistory();
                const section = document.getElementById('recent-section');
                const list = document.getElementById('recent-list');
                
                if (!section || !list) return; // Elements not ready yet
                
                if (!recent || recent.length === 0) {
                    section.classList.add('hidden');
                    return;
                }
                
                section.classList.remove('hidden');
                
                const lang = localStorage.getItem(STORAGE_KEY_LANG) || 'en';
                
                list.innerHTML = recent.map(item => {
                    const funcInfo = functionNames[item.func] || { en: item.func, zh: item.func };
                    const name = lang === 'zh' ? funcInfo.zh : funcInfo.en;
                    const timeAgo = getTimeAgo(item.ts, lang);
                    
                    return `
                        <div class="recent-item" onclick="jumpToFunction('${item.func}')">
                            <div class="recent-item-code">${item.func}</div>
                            <div class="recent-item-info">
                                <div class="recent-item-name">${name}</div>
                                <div class="recent-item-time">${timeAgo}</div>
                            </div>
                        </div>
                    `;
                }).join('');
            } catch (e) {
                console.log('renderRecentSection error:', e);
            }
        }

        function getTimeAgo(isoString, lang) {
            const now = new Date();
            const then = new Date(isoString);
            const diffMs = now - then;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMs / 3600000);
            const diffDays = Math.floor(diffMs / 86400000);
            
            if (lang === 'zh') {
                if (diffMins < 1) return 'ÂâõÂâõ';
                if (diffMins < 60) return `${diffMins} ÂàÜÈêòÂâç`;
                if (diffHours < 24) return `${diffHours} Â∞èÊôÇÂâç`;
                if (diffDays < 7) return `${diffDays} Â§©Ââç`;
                return then.toLocaleDateString('zh-TW');
            } else {
                if (diffMins < 1) return 'just now';
                if (diffMins < 60) return `${diffMins}m ago`;
                if (diffHours < 24) return `${diffHours}h ago`;
                if (diffDays < 7) return `${diffDays}d ago`;
                return then.toLocaleDateString('en-US');
            }
        }

        function jumpToFunction(funcCode) {
            if (funcCode.startsWith('#') || funcCode === 'Combo') {
                const comboId = funcCode.replace('#', '') || '1';
                showComboForm(comboId);
            } else {
                showFunction(funcCode);
            }
        }

        // Language Pack
        const i18n = {
            en: {
                // Header
                appName: 'Articulator',
                tagline: 'Structure your thoughts. Speak it. Write it.',
                
                // Categories
                catTraining: 'Training',
                catTrainingDesc: 'T - Dynamic prompts & feedback',
                catOral: 'Oral Expression',
                catOralDesc: 'M, V, E, P, D, Q',
                catWritten: 'Written Content',
                catWrittenDesc: 'A, W',
                catLibrary: 'Content Library',
                catLibraryDesc: 'G, X, R',
                catCombo: 'Combo Workflows',
                catComboDesc: '#1-#8 Preset sequences',
                catPlans: 'Toolbox',
                catPlansDesc: 'TOYF Structure + Dan Koe Content',
                
                // Plans Page
                plansTitle: 'üìñ Communication Toolbox',
                plansSubtitle: 'TOYF Structure + Dan Koe Content Framework',
                sectionStructure: 'STRUCTURE FRAMEWORKS ‚Äî Organize Your Thoughts',
                sectionContent: 'CONTENT MATERIAL ‚Äî Fill Your Skeleton',
                sectionStrategy: 'STRATEGIC RESERVE ‚Äî Pre-loaded Ammunition',
                planClock: 'Clock Plan',
                planClockStructure: 'Past ‚Üí Present ‚Üí Future',
                planClockUsage: 'Progress reports, process descriptions, career development, PDCA',
                planGlobe: 'Globe Plan',
                planGlobeStructure: 'Location A ‚Üí Location B ‚Üí Location C',
                planGlobeUsage: 'Multi-site explanations, cross-regional comparisons, spatial tours',
                planTriangle: 'Triangle Plan',
                planTriangleStructure: 'Angle A ‚Üí Angle B ‚Üí Angle C',
                planTriangleUsage: 'Multi-faceted analysis, showing objectivity, SWOT',
                planZoom: 'Zoom Plan',
                planZoomStructure: 'Overview ‚Üí Middle ‚Üí Detail (or reverse)',
                planZoomUsage: 'Sensitive topics, layered explanations, focus/expand',
                planPendulum: 'Pendulum Plan',
                planPendulumStructure: 'On one hand ‚Üí On the other ‚Üí Middle ground',
                planPendulumUsage: 'Negotiation, balancing viewpoints, defending status quo',
                planBenefits: 'Benefits Plan',
                planBenefitsStructure: 'Benefit A ‚Üí Benefit B ‚Üí Benefit C',
                planBenefitsUsage: 'Sales pitches, product introductions, proposals',
                planUsageLabel: 'Best for: ',
                
                // Dan Koe Content Tools
                toolHook: 'Micro Story Hook',
                toolHookSub: 'Opening Hook',
                toolHookStructure: 'Problem ‚Üí Amplify ‚Üí Solution Preview',
                toolHookUsage: 'Any opening that needs to grab attention. State pain, amplify consequences, preview solution.',
                toolBricks: 'Idea Bricks',
                toolBricksSub: 'Content Building Blocks',
                toolBricksStructure: '8 types of material to turn skeleton into story',
                toolBricksUsage: 'Use at least one brick per paragraph to make abstract concrete.',
                toolGH: 'Greatest Hits',
                toolGHSub: 'Core Ideas Library',
                toolGHStructure: '8-10 signature points you use repeatedly',
                toolGHUsage: 'Prepare in advance, deploy anytime. Quickly connect to your core value proposition in any situation.',
                usageLabel: 'Usage: ',
                
                // Examples
                viewExample: 'View Example',
                exampleScenario: 'Scenario',
                exampleDifficulty: 'Difficulty',
                exampleTopic: 'Topic',
                exampleRole: 'Role',
                exampleCoreMessage: 'Core Message',
                exampleSubject: 'Subject',
                exampleAudience: 'Audience',
                exampleImpression: 'Impression',
                exampleContext: 'Context',
                exampleWeakness: 'Weakness',
                examplePlatform: 'Platform',
                exampleGoal: 'Goal',
                exampleJson: 'JSON Command',
                
                // Training
                trainingTitle: 'üéØ Training',
                trainingFunc: 'Training Practice',
                trainingFuncDesc: 'Dynamic prompts ‚Üí Voice answer ‚Üí Structured feedback',
                trainingTip: 'üí° Tip: T function supports two outputs: "Quick Command" for direct conversation, "JSON format" for unified workflow.',
                trainingType: 'Practice Type',
                trainingTypeRandom: 'Random (let Claude decide)',
                trainingTypeM: 'M - Meeting remarks',
                trainingTypeV: 'V - Elevator pitch',
                trainingTypeE: 'E - Concept explainer',
                trainingTypeP: 'P - Presentation script',
                trainingTypeD: 'D - Difficult conversation',
                difficulty: 'Difficulty',
                diffBeginner: 'Beginner',
                diffMedium: 'Medium',
                diffChallenge: 'Challenge',
                questionCount: 'Questions',
                customContext: 'Custom Context',
                customContextPh: 'Describe a specific scenario to practice. Leave empty for Claude to generate based on your background.',
                
                // Oral functions
                oralTitle: 'üé§ Oral Expression',
                meetingTitle: 'Meeting Talking Points',
                meetingDesc: 'Generate timed meeting remarks',
                elevatorTitle: 'Elevator Pitch',
                elevatorDesc: '30/60/90 sec self or company intro',
                explainerTitle: 'Concept Explainer',
                explainerDesc: 'Design explanations for non-experts',
                pitchTitle: 'Pitch Script',
                pitchDesc: 'Write presentation or proposal scripts',
                difficultTitle: 'Difficult Conversation',
                difficultDesc: 'Prepare for tough conversations',
                qnaTitle: 'Q&A Simulator',
                qnaDesc: 'Simulate questions and prepare structured answers',
                
                // Written functions
                writtenTitle: '‚úèÔ∏è Written Content',
                ratingTitle: 'Article Rating',
                ratingDesc: 'Evaluate article effectiveness by platform logic',
                revisionTitle: 'Article Revision',
                revisionDesc: 'Analyze and improve article structure',
                
                // Library functions
                libraryTitle: 'üìö Content Library',
                ghTitle: 'Greatest Hits',
                ghDesc: 'Build, manage, refine core ideas library',
                crossTitle: 'Cross Domain',
                crossDesc: 'Find cross-domain analogies for your points',
                reverseTitle: 'Reverse Engineering',
                reverseDesc: 'Deconstruct excellent communication, learn techniques',
                
                // Combo
                comboTitle: '‚ö° Combo Workflows',
                comboContext: 'Situation Description',
                comboContextPh: 'Describe your situation, e.g.: Meeting Japanese pharma next week to introduce our aseptic fill services',
                estimatedTime: 'Estimated time',
                
                // Form labels
                outputMode: 'Output Mode',
                modeStandard: 'Standard',
                modeConversational: 'Conversational',
                advancedOptions: 'Advanced Options',
                generateBtn: 'Generate Command',
                optional: '(optional)',
                
                // Output
                quickCommand: '‚ö° Quick Command (paste directly)',
                orUseJson: 'or use JSON format',
                jsonOutput: 'JSON Output',
                copyBtn: 'Copy Log',
                copiedBtn: 'Copied!',
                
                // Navigation
                back: 'Back',
                
                // T Form
                tFormTitle: 'Training Practice',
                tPracticeType: 'Practice Type',
                tTypeRandom: 'Random (let Claude decide)',
                tTypeM: 'M - Meeting remarks',
                tTypeV: 'V - Elevator pitch',
                tTypeE: 'E - Concept explainer',
                tTypeP: 'P - Presentation script',
                tTypeD: 'D - Difficult conversation',
                tDifficulty: 'Difficulty',
                tDiffBeginner: 'Beginner',
                tDiffMedium: 'Medium',
                tDiffChallenge: 'Challenge',
                tQuestionCount: 'Questions',
                tQ1: '1 Q',
                tQ3: '3 Q',
                tQ5: '5 Q',
                tCustomContext: 'Custom Context',
                tCustomContextPh: 'Describe a specific scenario to practice. Leave empty for Claude to generate based on your background.',
                
                // M Form
                mFormTitle: 'Meeting Talking Points',
                mTopic: 'Meeting Topic',
                mTopicPh: 'e.g.: Q1 performance review, new product launch plan',
                mRole: 'Your Role/Position',
                mRolePh: 'e.g.: Production Manager, Project Lead',
                mCoreMessage: 'Core Message',
                mCoreMessagePh: 'What one thing do you want the audience to remember?',
                mTimeLimit: 'Speaking Time',
                mTime1: '1 min',
                mTime3: '3 min',
                mTime5: '5 min',
                mAddHook: 'Add Micro Story Hook opening',
                mConnectGH: 'Suggest linking to Greatest Hits',
                
                // V Form
                vFormTitle: 'Elevator Pitch',
                vSubject: 'Who you are / What you do',
                vSubjectPh: 'Your identity, company, product or service',
                vAudience: 'Who is the audience',
                vAudiencePh: 'e.g.: potential investor, new industry contact',
                vImpression: 'Desired impression',
                vImpressionPh: 'e.g.: professional & reliable, innovative & energetic, worth a deeper conversation',
                vVersions: 'Versions (multi-select)',
                v30s: '30s',
                v60s: '60s',
                v90s: '90s',
                vAddHook: 'Add Micro Story Hook opening',
                vConnectGH: 'Suggest linking to Greatest Hits',
                
                // E Form
                eFormTitle: 'Concept Explainer',
                eConcept: 'Concept/Process to explain',
                eConceptPh: 'e.g.: aseptic fill process, GMP regulatory requirements',
                eAudienceLevel: 'Audience expertise level',
                eLevelComplete: 'Complete outsider',
                eLevelBasic: 'Some basic awareness',
                eLevelFoundation: 'Has foundational knowledge',
                eLevelExpert: 'Industry professional',
                eKeyPoints: 'Must-cover points',
                eKeyPointsPh: 'e.g.: safety, efficiency, cost (comma separated)',
                eTimeLimit: 'Time length',
                eTimeNone: 'No limit',
                eTime1: '1 min',
                eTime3: '3 min',
                eTime5: '5 min',
                eTime10: '10 min',
                eAddCrossDomain: 'Add cross-domain analogy suggestions',
                
                // P Form
                pFormTitle: 'Pitch Script',
                pTopic: 'Presentation topic/outline',
                pTopicPh: 'The topic or outline content of the presentation',
                pAudience: 'Audience type',
                pAudienceDecision: 'Decision makers',
                pAudienceTech: 'Technical staff',
                pAudienceInvestor: 'Investors',
                pAudienceGeneral: 'General audience',
                pCTA: 'Desired action (CTA)',
                pCTAPh: 'e.g.: get budget approval, proceed to next evaluation round',
                pTotalTime: 'Total duration',
                pTime5: '5 min',
                pTime10: '10 min',
                pTime15: '15 min',
                pTime20: '20 min',
                pTime30: '30 min',
                pAddHook: 'Add Micro Story Hook opening',
                pConnectGH: 'Suggest linking to Greatest Hits',
                pIncludeQA: 'Include Q&A predictions (3-5 questions)',
                
                // D Form
                dFormTitle: 'Difficult Conversation',
                dContext: 'Conversation context',
                dContextPh: 'Describe the conversation situation you need to handle',
                dOtherParty: 'Other party\'s likely position/emotions',
                dOtherPartyPh: 'What reactions, concerns, or emotions might they have?',
                dBottomLine: 'Your bottom line/goal',
                dBottomLinePh: 'What must you achieve in this conversation?',
                dRelationship: 'Desired relationship level',
                dRelGood: 'Maintain good relationship',
                dRelWorking: 'Maintain working relationship',
                dRelNotPriority: 'Relationship not a priority',
                
                // Q Form
                qFormTitle: 'Q&A Simulator',
                qContext: 'Situation description',
                qContextPh: 'e.g.: Q&A session after presenting aseptic fill services to Japanese pharma',
                qAudience: 'Audience type',
                qPosition: 'Your position',
                qPositionPh: 'e.g.: recommend our services, seek collaboration opportunity',
                qWeakness: 'Known weaknesses',
                qWeaknessPh: 'e.g.: higher pricing, no international audit yet',
                qCount: 'Number of questions',
                qCount3: '3 Q',
                qCount5: '5 Q',
                qCount10: '10 Q',
                qDifficulty: 'Difficulty',
                qDiffFriendly: 'Friendly',
                qDiffNeutral: 'Neutral',
                qDiffChallenging: 'Challenging',
                qAddHook: 'Include Micro Story Hook in answers',
                qConnectGH: 'Suggest linking to Greatest Hits',
                
                // G Form
                gFormTitle: 'Greatest Hits Manager',
                gMode: 'Mode',
                gModeBuild: 'build - Create core ideas',
                gModeRefine: 'refine - Polish expression versions',
                gModeConnect: 'connect - Build idea connections',
                gModeTrack: 'track - Track usage',
                gContent: 'Related content',
                gContentPh: 'Paste related content if any, or leave empty for system guidance',
                
                // X Form
                xFormTitle: 'Cross Domain Connector',
                xCorePoint: 'Core argument',
                xCorePointPh: 'What is the core point you want to express?',
                xDomains: 'Domains to connect',
                xDomainsPh: 'e.g.: science, business, humanities, sports (comma separated)',
                
                // R Form
                rFormTitle: 'Reverse Engineering',
                rContent: 'Content',
                rContentPh: 'Paste article, speech transcript, or URL (e.g. https://...)',
                rContentType: 'Content type',
                rTypeArticle: 'Article',
                rTypeSpeech: 'Speech',
                rTypeDialogue: 'Dialogue',
                rIncludeRating: 'Pair with A (rate by platform logic)',
                rRatingPlatform: 'Rating platform',
                rExtractGH: 'Extract learnable Greatest Hits',
                
                // A Form
                aFormTitle: 'Article Rating',
                aPlatform: 'Platform',
                aContent: 'Content',
                aContentPh: 'Paste article content, or paste URL directly (e.g. https://...)',
                aGoal: 'Goal',
                aGoalPh: 'Increase engagement, build professional image, spark discussion, drive subscriptions...',
                aIncludeRevision: 'Pair with W (revise after rating)',
                aConvertTo: 'Convert to other platforms',
                aCarousel: 'Convert to Carousel',
                aIdentifyTOYF: 'Identify TOYF plan used in article',
                
                // W Form
                wFormTitle: 'Article Revision',
                wHasRating: 'Already have A rating result',
                wRatingResult: 'Rating result',
                wRatingResultPh: 'Please paste A rating result...',
                wAutoFill: 'Auto-filled with recent rating result, can modify',
                wContent: 'Content',
                wContentPh: 'Paste article content, or paste URL directly (e.g. https://...)',
                wFocus: 'Revision focus',
                wFocusFull: 'Full revision',
                wFocusStructure: 'Structure optimization',
                wFocusOpening: 'Opening enhancement',
                wFocusConclusion: 'Conclusion enhancement',
                wOutputFormat: 'Output format',
                wFormatList: 'Suggestion list',
                wFormatRewrite: 'Full rewrite',
                wFormatBoth: 'Both',
                wIdentifyTOYF: 'Identify current TOYF plan',
                wSuggestTOYF: 'Suggest better TOYF plan',
                wAddHook: 'Add Micro Story Hook suggestion',
                wConnectGH: 'Suggest linking to Greatest Hits',
                
                // Combo Form
                comboExecFlow: 'Execution flow',
                comboDesc1: 'Starting from core ideas, sequentially prepare elevator pitch, product explanation, formal proposal, Q&A simulation, and finally negotiation preparation.',
                comboDesc2: 'After selecting core idea, prepare meeting remarks, anticipate objections, then prepare manager persuasion strategy.',
                comboDesc3: 'Refine core ideas, organize oral expression into article, optimize and condense to social media version.',
                comboDesc4: 'Confirm core message, first anticipate opponent attacks, prepare proactive remarks, backup negotiation exit.',
                comboDesc5: 'Prepare cross-domain analogies, design concept explanation, write presentation script, anticipate audience questions.',
                comboDesc6: 'Select core position, anticipate challenges, prepare one-on-one response, write public statement, leave written record.',
                comboDesc7: 'Build core ideas, find unique analogies, learn benchmark techniques, produce original content.',
                comboDesc8: 'Evaluate existing content, optimize structure and expression, extract reusable core perspectives.',
                comboName1: 'Client Development',
                comboName2: 'Internal Proposal',
                comboName3: 'Thought Leadership',
                comboName4: 'High-Stakes Meeting',
                comboName5: 'Education & Training',
                comboName6: 'Crisis Communication',
                comboName7: 'Personal Branding',
                comboName8: 'Content Review',
                
                // Onboarding
                onboardWelcome: 'Welcome to Articulator',
                onboardSubtitle: 'Transform messy thoughts into structured expression ‚Äî whether you speak it or write it.',
                onboardStep1Title: 'Pick a function',
                onboardStep1Desc: '12 tools for different communication needs: meetings, pitches, articles, Q&A prep, and more.',
                onboardStep2Title: 'Fill in your context',
                onboardStep2Desc: 'Describe your situation, audience, and goals. The more specific, the better.',
                onboardStep3Title: 'Get structured output',
                onboardStep3Desc: 'Copy the JSON command to Claude. Get a structured, ready-to-use response in seconds.',
                onboardQuestion: 'What brings you here today?',
                onboardPractice: 'Practice impromptu speaking',
                onboardPracticeHint: 'Get random prompts and feedback',
                onboardMeeting: 'Prepare for a meeting or presentation',
                onboardMeetingHint: 'Structure your talking points',
                onboardWriting: 'Improve my writing',
                onboardWritingHint: 'Rate and revise articles',
                onboardCombo: 'Full scenario preparation',
                onboardComboHint: 'Multi-step combo workflows',
                onboardStart: 'Get Started',
                onboardSkip: 'Skip, I know what I\'m doing',
                
                // Learning History
                historyTitle: 'üìà Learning History',
                historyDropText: 'Drop reports here',
                historyDropHint: 'or click to select HTML files',
                historyAnalyze: 'Analyze Trend',
                historyClear: 'Clear',
                historyChartTitle: 'üìä Score Trend',
                historyExport: 'üìã Generate Analysis Prompt',
                
                // Recent
                recentTitle: '‚è±Ô∏è Recent',
                recentClear: 'Clear'
            },
            zh: {
                // Header
                appName: 'Articulator',
                tagline: 'ÁµêÊßãÂåñÊÄùËÄÉ,Ë™™ÂæóÂá∫,ÂØ´ÂæóÂ•Ω„ÄÇ',
                
                // Categories
                catTraining: 'Training Âç≥ËààÁ∑¥Áøí',
                catTrainingDesc: 'T - ÂãïÊÖãÂá∫È°åËàáÂõûÈ•ã',
                catOral: 'Oral Âè£Ë™ûË°®ÈÅî',
                catOralDesc: 'M, V, E, P, D, Q',
                catWritten: 'Written Êõ∏Èù¢ÂÖßÂÆπ',
                catWrittenDesc: 'A, W',
                catLibrary: 'Library ÂÖßÂÆπÂ∫´',
                catLibraryDesc: 'G, X, R',
                catCombo: 'Combo ÁµÑÂêàÊã≥',
                catComboDesc: '#1-#8 È†êË®≠Â•óË∑Ø',
                catPlans: 'Ê∫ùÈÄöÂ∑•ÂÖ∑ÁÆ±',
                catPlansDesc: 'TOYF ÁµêÊßã + Dan Koe ÂÖßÂÆπÊ°ÜÊû∂',
                
                // Plans Page
                plansTitle: 'üìñ Ê∫ùÈÄöÂ∑•ÂÖ∑ÁÆ±',
                plansSubtitle: 'TOYF ÁµêÊßã + Dan Koe ÂÖßÂÆπÊ°ÜÊû∂',
                sectionStructure: 'ÁµêÊßãÊ°ÜÊû∂ ‚Äî ÁµÑÁπî‰Ω†ÁöÑÊÄùË∑Ø',
                sectionContent: 'ÂÖßÂÆπÁ¥†Êùê ‚Äî Â°´ÂÖÖ‰Ω†ÁöÑÈ™®Êû∂',
                sectionStrategy: 'Á≠ñÁï•ÂÑ≤ÂÇô ‚Äî ÊèêÂâçÊ∫ñÂÇôÁöÑÂΩàËó•',
                planClock: 'ÊôÇÈêòË®àÁï´',
                planClockStructure: 'ÈÅéÂéª ‚Üí ÁèæÂú® ‚Üí Êú™‰æÜ',
                planClockUsage: 'ÈÄ≤Â∫¶Â†±Âëä„ÄÅÊµÅÁ®ãË™™Êòé„ÄÅËÅ∑Ê∂ØÁôºÂ±ï„ÄÅPDCA',
                planGlobe: 'Áí∞ÁêÉË®àÁï´',
                planGlobeStructure: 'Âú∞ÈªûA ‚Üí Âú∞ÈªûB ‚Üí Âú∞ÈªûC',
                planGlobeUsage: 'Â§öÊìöÈªûË™™Êòé„ÄÅË∑®ÂçÄÂüüÊØîËºÉ„ÄÅÁ©∫ÈñìÂ∞éË¶Ω',
                planTriangle: '‰∏âËßíË®àÁï´',
                planTriangleStructure: 'ËßíÂ∫¶A ‚Üí ËßíÂ∫¶B ‚Üí ËßíÂ∫¶C',
                planTriangleUsage: 'Â§öÈù¢ÂêëÂàÜÊûê„ÄÅÂ±ïÁèæÂÆ¢ËßÄ„ÄÅSWOT',
                planZoom: 'ËÆäÁÑ¶Ë®àÁï´',
                planZoomStructure: 'Êï¥È´î ‚Üí ‰∏≠Â±§ ‚Üí Á¥∞ÁØÄ(ÊàñÂèçÂêë)',
                planZoomUsage: 'ÊïèÊÑüË≠∞È°å„ÄÅÂ±§Ê¨°Ë™™Êòé„ÄÅËÅöÁÑ¶/Êì¥Â±ï',
                planPendulum: 'ÈêòÊì∫Ë®àÁï´',
                planPendulumStructure: '‰∏ÄÊñπÈù¢ ‚Üí Âè¶‰∏ÄÊñπÈù¢ ‚Üí ‰∏≠Â∫∏‰πãÈÅì',
                planPendulumUsage: 'Ë´áÂà§Êñ°Êóã„ÄÅÂπ≥Ë°°ËßÄÈªû„ÄÅÊççË°õÁèæÁãÄ',
                planBenefits: 'Êî∂ÁõäË®àÁï´',
                planBenefitsStructure: 'Â•ΩËôïA ‚Üí Â•ΩËôïB ‚Üí Â•ΩËôïC',
                planBenefitsUsage: 'Êé®Èä∑Ë™™Êúç„ÄÅÁî¢ÂìÅ‰ªãÁ¥π„ÄÅÊèêÊ°à',
                planUsageLabel: 'ÈÅ©Áî®:',
                
                // Dan Koe Content Tools
                toolHook: 'Micro Story Hook',
                toolHookSub: 'ÈñãÂ†¥Èâ§Â≠ê',
                toolHookStructure: 'Problem ‚Üí Amplify ‚Üí Solution Preview',
                toolHookUsage: '‰ªª‰ΩïÈúÄË¶ÅÊäì‰ΩèÊ≥®ÊÑèÂäõÁöÑÈñãÂ†¥„ÄÇÂÖàË™™ÁóõÈªû,ÊîæÂ§ßÂæåÊûú,È†êÂëäËß£Ê≥ï„ÄÇ',
                toolBricks: 'ÊÉ≥Ê≥ïÁ©çÊú®',
                toolBricksSub: 'Idea Bricks',
                toolBricksStructure: '8 Á®ÆÂ°´ÂÖÖÁ¥†Êùê,ËÆìÈ™®Êû∂ËÆäÊàêÊïÖ‰∫ã',
                toolBricksUsage: 'ÊØèÂÄãÊÆµËêΩËá≥Â∞ëÁî®‰∏ÄÂ°äÁ©çÊú®,ËÆìÊäΩË±°ËÆäÂÖ∑È´î„ÄÇ',
                toolGH: 'Greatest Hits',
                toolGHSub: 'Ê†∏ÂøÉÊÉ≥Ê≥ïÂ∫´',
                toolGHStructure: '8-10 ÂÄã‰Ω†ÂèçË¶Ü‰ΩøÁî®ÁöÑÊãõÁâåËßÄÈªû',
                toolGHUsage: 'ÊèêÂâçÊ∫ñÂÇô,Èö®ÊôÇË™øÁî®„ÄÇÂú®‰ªª‰ΩïÂ†¥ÂêàÈÉΩËÉΩÂø´ÈÄüÈÄ£ÁµêÂà∞‰Ω†ÁöÑÊ†∏ÂøÉÂÉπÂÄº‰∏ªÂºµ„ÄÇ',
                usageLabel: 'Áî®Ê≥ï:',
                
                // Examples
                viewExample: 'View Example',
                exampleScenario: 'ÊÉÖÂ¢É',
                exampleDifficulty: 'Èõ£Â∫¶',
                exampleTopic: '‰∏ªÈ°å',
                exampleRole: 'ËßíËâ≤',
                exampleCoreMessage: 'Ê†∏ÂøÉË®äÊÅØ',
                exampleSubject: '‰∏ªÈ´î',
                exampleAudience: 'Â∞çË±°',
                exampleImpression: 'Âç∞Ë±°',
                exampleContext: 'ÊÉÖÂ¢É',
                exampleWeakness: 'Âº±Èªû',
                examplePlatform: 'Âπ≥Âè∞',
                exampleGoal: 'ÁõÆÊ®ô',
                exampleJson: 'JSON Êåá‰ª§',
                
                // Training
                trainingTitle: 'üéØ Training Âç≥ËààÁ∑¥Áøí',
                trainingFunc: 'Training Âç≥ËààÁ∑¥Áøí',
                trainingFuncDesc: 'ÂãïÊÖãÂá∫È°å ‚Üí Ë™ûÈü≥ÂõûÁ≠î ‚Üí ÁµêÊßãÂõûÈ•ã',
                trainingTip: 'üí° ‰ΩøÁî®ÊèêÁ§∫:T ÂäüËÉΩÊîØÊè¥ÂÖ©Á®ÆËº∏Âá∫:„ÄåÂø´ÈÄüÊåá‰ª§„ÄçÈÅ©ÂêàÁõ¥Êé•Â∞çË©±,„ÄåJSON Ê†ºÂºè„ÄçÈÅ©ÂêàÁµ±‰∏ÄÂ∑•‰ΩúÊµÅÁ®ã„ÄÇ',
                trainingType: 'Á∑¥ÁøíÈ°ûÂûã',
                trainingTypeRandom: 'Èö®Ê©ü(ËÆì Claude Ê±∫ÂÆö)',
                trainingTypeM: 'M - ÊúÉË≠∞ÁôºË®Ä',
                trainingTypeV: 'V - ÈõªÊ¢ØÁ∞°Â†±',
                trainingTypeE: 'E - Ê¶ÇÂøµËß£Ë™™',
                trainingTypeP: 'P - Á∞°Â†±Ë¨õÁ®ø',
                trainingTypeD: 'D - ÊïèÊÑüÂ∞çË©±',
                difficulty: 'Èõ£Â∫¶',
                diffBeginner: 'ÂÖ•ÈñÄ',
                diffMedium: '‰∏≠Á≠â',
                diffChallenge: 'ÊåëÊà∞',
                questionCount: 'È°åÊï∏',
                customContext: 'Ëá™Ë®ÇÊÉÖÂ¢É',
                customContextPh: 'Ëã•ÊÉ≥ÈáùÂ∞çÁâπÂÆöÊÉÖÂ¢ÉÁ∑¥Áøí,ÂèØÂú®Ê≠§ÊèèËø∞„ÄÇÁïôÁ©∫ÂâáÁî± Claude Ê†πÊìö‰Ω†ÁöÑËÉåÊôØÂãïÊÖãÁîüÊàê„ÄÇ',
                
                // Oral functions
                oralTitle: 'üé§ Oral Âè£Ë™ûË°®ÈÅî',
                meetingTitle: 'Meeting ÊúÉË≠∞ÁôºË®Ä',
                meetingDesc: 'ÁîüÊàêÈôêÊôÇÊúÉË≠∞ÁôºË®ÄÁ®ø',
                elevatorTitle: 'Elevator Pitch ÈõªÊ¢ØÁ∞°Â†±',
                elevatorDesc: '30/60/90ÁßíËá™ÊàëÊàñÂÖ¨Âè∏‰ªãÁ¥π',
                explainerTitle: 'Explainer Ê¶ÇÂøµËß£Ë™™',
                explainerDesc: 'ÁÇ∫ÈùûÂ∞àÊ•≠ËÅΩÁúæË®≠Ë®àËß£Ë™™ËÖ≥Êú¨',
                pitchTitle: 'Pitch Á∞°Â†±Ë¨õÁ®ø',
                pitchDesc: 'Êí∞ÂØ´Á∞°Â†±ÊàñÊèêÊ°àÁöÑÂè£Ëø∞Á®ø',
                difficultTitle: 'Difficult ÊïèÊÑüÂ∞çË©±',
                difficultDesc: 'Ê∫ñÂÇôÈõ£‰ª•ÈñãÂè£ÁöÑÂ∞çË©±',
                qnaTitle: 'Q&A Simulator ÂïèÁ≠îÊ®°Êì¨',
                qnaDesc: 'Ê®°Êì¨ÊèêÂïè‰∏¶Ê∫ñÂÇôÁµêÊßãÂåñÂõûÁ≠î',
                
                // Written functions
                writtenTitle: '‚úèÔ∏è Written Êõ∏Èù¢ÂÖßÂÆπ',
                ratingTitle: 'Rating ÊñáÁ´†Ë©ïÂàÜ',
                ratingDesc: 'Ê†πÊìöÂπ≥Âè∞ÈÇèËºØË©ï‰º∞ÊñáÁ´†ÊïàÊûú',
                revisionTitle: 'Revision ÊñáÁ´†‰øÆÊîπ',
                revisionDesc: 'ÂàÜÊûê‰∏¶ÊîπÂñÑÊõ∏Èù¢ÊñáÁ´†ÁöÑÁµêÊßã',
                
                // Library functions
                libraryTitle: 'üìö Library ÂÖßÂÆπÂ∫´',
                ghTitle: 'Greatest Hits Ê†∏ÂøÉÊÉ≥Ê≥ï',
                ghDesc: 'Âª∫Á´ã„ÄÅÁÆ°ÁêÜ„ÄÅÁ≤æÁÖâÊ†∏ÂøÉÊÉ≥Ê≥ïÂ∫´',
                crossTitle: 'Cross Domain Ë∑®È†òÂüüÈÄ£Áµê',
                crossDesc: 'ÊâæÂà∞ÊîØÊåÅË´ñÈªûÁöÑË∑®È†òÂüüÈ°ûÊØî',
                reverseTitle: 'Reverse Engineering ÂèçÂêëÊãÜËß£',
                reverseDesc: 'ÊãÜËß£‰ªñ‰∫∫ÂÑ™ÁßÄÊ∫ùÈÄö,Â≠∏ÁøíÊäÄÂ∑ß',
                
                // Combo
                comboTitle: '‚ö° Combo ÁµÑÂêàÊã≥',
                comboContext: 'ÊÉÖÂ¢ÉË™™Êòé',
                comboContextPh: 'ÊèèËø∞‰Ω†Èù¢Ëá®ÁöÑÊÉÖÂ¢É,‰æãÂ¶Ç:‰∏ãÈÄ±Ë¶ÅÊãúË®™Êó•Êú¨Ëó•Âª†,‰ªãÁ¥πÊàëÂÄëÁöÑÁÑ°ËèåÂÖÖÂ°´ÊúçÂãô',
                estimatedTime: 'È†ê‰º∞ÊôÇÈñì',
                
                // Form labels
                outputMode: 'Ëº∏Âá∫Ê®°Âºè',
                modeStandard: 'Ê®ôÊ∫ñÊ®°Âºè',
                modeConversational: 'Â∞çË©±Ê®°Âºè',
                advancedOptions: 'Advanced Options',
                generateBtn: 'Áî¢ÁîüÊåá‰ª§',
                optional: '(ÈÅ∏Â°´)',
                
                // Output
                quickCommand: '‚ö° Âø´ÈÄüÊåá‰ª§(Áõ¥Êé•Ë≤º‰∏äÂ∞çË©±)',
                orUseJson: 'Êàñ‰ΩøÁî® JSON Ê†ºÂºè',
                jsonOutput: 'JSON Ëº∏Âá∫',
                copyBtn: 'Ë§áË£Ω Log',
                copiedBtn: 'Â∑≤Ë§áË£Ω!',
                
                // Navigation
                back: 'ËøîÂõû',
                
                // T Form
                tFormTitle: 'Training Âç≥ËààÁ∑¥Áøí',
                tPracticeType: 'Á∑¥ÁøíÈ°ûÂûã',
                tTypeRandom: 'Èö®Ê©ü(ËÆì Claude Ê±∫ÂÆö)',
                tTypeM: 'M - ÊúÉË≠∞ÁôºË®Ä',
                tTypeV: 'V - ÈõªÊ¢ØÁ∞°Â†±',
                tTypeE: 'E - Ê¶ÇÂøµËß£Ë™™',
                tTypeP: 'P - Á∞°Â†±Ë¨õÁ®ø',
                tTypeD: 'D - ÊïèÊÑüÂ∞çË©±',
                tDifficulty: 'Èõ£Â∫¶',
                tDiffBeginner: 'ÂÖ•ÈñÄ',
                tDiffMedium: '‰∏≠Á≠â',
                tDiffChallenge: 'ÊåëÊà∞',
                tQuestionCount: 'È°åÊï∏',
                tQ1: '1 È°å',
                tQ3: '3 È°å',
                tQ5: '5 È°å',
                tCustomContext: 'Ëá™Ë®ÇÊÉÖÂ¢É',
                tCustomContextPh: 'Ëã•ÊÉ≥ÈáùÂ∞çÁâπÂÆöÊÉÖÂ¢ÉÁ∑¥Áøí,ÂèØÂú®Ê≠§ÊèèËø∞„ÄÇÁïôÁ©∫ÂâáÁî± Claude Ê†πÊìö‰Ω†ÁöÑËÉåÊôØÂãïÊÖãÁîüÊàê„ÄÇ',
                
                // M Form
                mFormTitle: 'Meeting ÊúÉË≠∞ÁôºË®Ä',
                mTopic: 'ÊúÉË≠∞‰∏ªÈ°å',
                mTopicPh: '‰æãÂ¶Ç:Q1 Ê•≠Á∏æÊ™¢Ë®é„ÄÅÊñ∞Áî¢ÂìÅ‰∏äÂ∏ÇË¶èÂäÉ',
                mRole: '‰Ω†ÁöÑËßíËâ≤/Á´ãÂ†¥',
                mRolePh: '‰æãÂ¶Ç:Ë£ΩÁ®ã‰∏ªÁÆ°„ÄÅÂ∞àÊ°àË≤†Ë≤¨‰∫∫',
                mCoreMessage: 'Ê†∏ÂøÉË®äÊÅØ',
                mCoreMessagePh: '‰Ω†Â∏åÊúõËÅΩÁúæË®ò‰ΩèÁöÑ‰∏Ä‰ª∂‰∫ãÊòØ‰ªÄÈ∫º?',
                mTimeLimit: 'ÁôºË®ÄÊôÇÈñì',
                mTime1: '1ÂàÜÈêò',
                mTime3: '3ÂàÜÈêò',
                mTime5: '5ÂàÜÈêò',
                mAddHook: 'Âä†ÂÖ• Micro Story Hook ÈñãÂ†¥',
                mConnectGH: 'Âª∫Ë≠∞ÈÄ£Áµê Greatest Hits',
                
                // V Form
                vFormTitle: 'Elevator Pitch ÈõªÊ¢ØÁ∞°Â†±',
                vSubject: '‰Ω†ÊòØË™∞/ÂÅö‰ªÄÈ∫º',
                vSubjectPh: '‰Ω†ÁöÑË∫´‰ªΩ„ÄÅÂÖ¨Âè∏„ÄÅÁî¢ÂìÅÊàñÊúçÂãô',
                vAudience: 'Â∞çÊñπÊòØË™∞',
                vAudiencePh: '‰æãÂ¶Ç:ÊΩõÂú®ÊäïË≥á‰∫∫„ÄÅÊñ∞Ë™çË≠òÁöÑÊ•≠ÁïåÊúãÂèã',
                vImpression: 'ÊÉ≥Áïô‰∏ãÁöÑÂç∞Ë±°',
                vImpressionPh: '‰æãÂ¶Ç:Â∞àÊ•≠ÂèØÈù†„ÄÅÂâµÊñ∞ÊúâÊ¥ªÂäõ„ÄÅÂÄºÂæóÊ∑±Ë´á',
                vVersions: 'ÁâàÊú¨(multi-select)',
                v30s: '30Áßí',
                v60s: '60Áßí',
                v90s: '90Áßí',
                vAddHook: 'Âä†ÂÖ• Micro Story Hook ÈñãÂ†¥',
                vConnectGH: 'Âª∫Ë≠∞ÈÄ£Áµê Greatest Hits',
                
                // E Form
                eFormTitle: 'Explainer Ê¶ÇÂøµËß£Ë™™',
                eConcept: 'Ë¶ÅËß£ÈáãÁöÑÊ¶ÇÂøµ/ÊµÅÁ®ã',
                eConceptPh: '‰æãÂ¶Ç:ÁÑ°ËèåÂÖÖÂ°´Ë£ΩÁ®ã„ÄÅGMP Ê≥ïË¶èË¶ÅÊ±Ç',
                eAudienceLevel: 'ËÅΩÁúæÂ∞àÊ•≠Á®ãÂ∫¶',
                eLevelComplete: 'ÂÆåÂÖ®Â§ñË°å',
                eLevelBasic: 'Áï•ÊáÇÁöÆÊØõ',
                eLevelFoundation: 'ÊúâÂü∫Á§éÁü•Ë≠ò',
                eLevelExpert: 'Â∞àÊ•≠‰∫∫Â£´',
                eKeyPoints: 'ÂøÖÈ†àÊ∂µËìãÁöÑÈáçÈªû',
                eKeyPointsPh: '‰æãÂ¶Ç:ÂÆâÂÖ®ÊÄß„ÄÅÊïàÁéá„ÄÅÊàêÊú¨(Áî®ÈÄóËôüÂàÜÈöî)',
                eTimeLimit: 'ÊôÇÈñìÈï∑Â∫¶',
                eTimeNone: '‰∏çÈôê',
                eTime1: '1ÂàÜÈêò',
                eTime3: '3ÂàÜÈêò',
                eTime5: '5ÂàÜÈêò',
                eTime10: '10ÂàÜÈêò',
                eAddCrossDomain: 'Âä†ÂÖ•Ë∑®È†òÂüüÈ°ûÊØîÂª∫Ë≠∞',
                
                // P Form
                pFormTitle: 'Pitch Á∞°Â†±Ë¨õÁ®ø',
                pTopic: 'Á∞°Â†±‰∏ªÈ°å/Â§ßÁ∂±',
                pTopicPh: 'Á∞°Â†±ÁöÑ‰∏ªÈ°åÊàñÂ§ßÁ∂±ÂÖßÂÆπ',
                pAudience: 'ËÅΩÁúæÈ°ûÂûã',
                pAudienceDecision: 'Ê±∫Á≠ñËÄÖ',
                pAudienceTech: 'ÊäÄË°ì‰∫∫Âì°',
                pAudienceInvestor: 'ÊäïË≥á‰∫∫',
                pAudienceGeneral: '‰∏ÄËà¨ËÅΩÁúæ',
                pCTA: 'Â∏åÊúõÈÅîÊàêÁöÑË°åÂãï (CTA)',
                pCTAPh: '‰æãÂ¶Ç:Áç≤ÂæóÈ†êÁÆóÊâπÂáÜ„ÄÅÈÄ≤ÂÖ•‰∏ã‰∏ÄËº™Ë©ï‰º∞',
                pTotalTime: 'Á∏ΩÊôÇÈï∑',
                pTime5: '5ÂàÜÈêò',
                pTime10: '10ÂàÜÈêò',
                pTime15: '15ÂàÜÈêò',
                pTime20: '20ÂàÜÈêò',
                pTime30: '30ÂàÜÈêò',
                pAddHook: 'Âä†ÂÖ• Micro Story Hook ÈñãÂ†¥',
                pConnectGH: 'Âª∫Ë≠∞ÈÄ£Áµê Greatest Hits',
                pIncludeQA: 'ÂåÖÂê´ Q&A È†êÊ∏¨(3-5È°å)',
                
                // D Form
                dFormTitle: 'Difficult ÊïèÊÑüÂ∞çË©±',
                dContext: 'Â∞çË©±ÊÉÖÂ¢É',
                dContextPh: 'ÊèèËø∞‰Ω†ÈúÄË¶ÅÈÄ≤Ë°åÁöÑÂ∞çË©±ÊÉÖÂ¢É',
                dOtherParty: 'Â∞çÊñπÂèØËÉΩÁöÑÁ´ãÂ†¥/ÊÉÖÁ∑í',
                dOtherPartyPh: 'Â∞çÊñπÂèØËÉΩÊúÉÊúâ‰ªÄÈ∫ºÂèçÊáâ„ÄÅÊìîÊÜÇÊàñÊÉÖÁ∑í?',
                dBottomLine: '‰Ω†ÁöÑÂ∫ïÁ∑ö/ÁõÆÊ®ô',
                dBottomLinePh: 'ÈÄôÊ¨°Â∞çË©±‰Ω†ÂøÖÈ†àÈÅîÊàê‰ªÄÈ∫º?',
                dRelationship: 'Â∏åÊúõÁ∂≠ÊåÅÁöÑÈóú‰øÇÁ®ãÂ∫¶',
                dRelGood: 'Á∂≠ÊåÅËâØÂ•ΩÈóú‰øÇ',
                dRelWorking: 'Á∂≠ÊåÅÂ∑•‰ΩúÈóú‰øÇÂç≥ÂèØ',
                dRelNotPriority: 'Èóú‰øÇ‰∏çÊòØÂÑ™ÂÖàËÄÉÈáè',
                
                // Q Form
                qFormTitle: 'Q&A Simulator ÂïèÁ≠îÊ®°Êì¨',
                qContext: 'ÊÉÖÂ¢ÉË™™Êòé',
                qContextPh: '‰æãÂ¶Ç:ÂêëÊó•Êú¨Ëó•Âª†‰ªãÁ¥πÁÑ°ËèåÂÖÖÂ°´ÊúçÂãôÂæåÁöÑ Q&A Áí∞ÁØÄ',
                qAudience: 'Â∞çË±°È°ûÂûã',
                qPosition: '‰Ω†ÁöÑÁ´ãÂ†¥',
                qPositionPh: '‰æãÂ¶Ç:Êé®Ëñ¶ÊàëÂÄëÁöÑÊúçÂãô„ÄÅÁà≠ÂèñÂêà‰ΩúÊ©üÊúÉ',
                qWeakness: 'Â∑≤Áü•Âº±Èªû',
                qWeaknessPh: '‰æãÂ¶Ç:ÂÉπÊ†ºËºÉÈ´ò„ÄÅÂ∞öÊú™Êé•ÂèóÈÅéÂúãÈöõÊü•Âª†',
                qCount: 'È°åÊï∏',
                qCount3: '3 È°å',
                qCount5: '5 È°å',
                qCount10: '10 È°å',
                qDifficulty: 'Èõ£Â∫¶',
                qDiffFriendly: 'ÂèãÂñÑ',
                qDiffNeutral: '‰∏≠ÊÄß',
                qDiffChallenging: 'ÂàÅÈëΩ',
                qAddHook: 'ÂõûÁ≠î‰∏≠Âä†ÂÖ• Micro Story Hook',
                qConnectGH: 'Âª∫Ë≠∞ÈÄ£Áµê Greatest Hits',
                
                // G Form
                gFormTitle: 'Greatest Hits Ê†∏ÂøÉÊÉ≥Ê≥ï',
                gMode: 'Ê®°Âºè',
                gModeBuild: 'build - Âª∫Á´ãÊ†∏ÂøÉÊÉ≥Ê≥ï',
                gModeRefine: 'refine - Á≤æÁÖâË°®ÈÅîÁâàÊú¨',
                gModeConnect: 'connect - Âª∫Á´ãÊÉ≥Ê≥ïÈóúËÅØ',
                gModeTrack: 'track - ËøΩËπ§‰ΩøÁî®ÊÉÖÊ≥Å',
                gContent: 'Áõ∏ÈóúÂÖßÂÆπ',
                gContentPh: 'Ëã•ÊúâÁõ∏ÈóúÂÖßÂÆπÂèØË≤º‰∏ä,ÊàñÁïôÁ©∫ËÆìÁ≥ªÁµ±ÂºïÂ∞é‰Ω†',
                
                // X Form
                xFormTitle: 'Cross Domain Ë∑®È†òÂüüÈÄ£Áµê',
                xCorePoint: 'Ê†∏ÂøÉË´ñÈªû',
                xCorePointPh: '‰Ω†ÊÉ≥Ë°®ÈÅîÁöÑÊ†∏ÂøÉËßÄÈªûÊòØ‰ªÄÈ∫º?',
                xDomains: 'ÊÉ≥ÈÄ£ÁµêÁöÑÈ†òÂüü',
                xDomainsPh: '‰æãÂ¶Ç:ÁßëÂ≠∏„ÄÅÂïÜÊ•≠„ÄÅ‰∫∫Êñá„ÄÅÈÅãÂãï(Áî®ÈÄóËôüÂàÜÈöî)',
                
                // R Form
                rFormTitle: 'Reverse Engineering ÂèçÂêëÊãÜËß£',
                rContent: 'ÂÖßÂÆπ',
                rContentPh: 'Ë≤º‰∏äË¶ÅÊãÜËß£ÁöÑÊñáÁ´†„ÄÅÊºîË¨õÈÄêÂ≠óÁ®ø,ÊàñÁõ¥Êé•Ë≤º‰∏ä URL(Â¶Ç https://...)',
                rContentType: 'ÂÖßÂÆπÈ°ûÂûã',
                rTypeArticle: 'ÊñáÁ´†',
                rTypeSpeech: 'ÊºîË¨õ',
                rTypeDialogue: 'Â∞çË©±',
                rIncludeRating: 'Include A (rate by platform logic)',
                rRatingPlatform: 'Rating Platform',
                rExtractGH: 'Extract learnable Greatest Hits',
                
                // A Form
                aFormTitle: 'Rating ÊñáÁ´†Ë©ïÂàÜ',
                aPlatform: 'Âπ≥Âè∞',
                aContent: 'ÂÖßÂÆπ',
                aContentPh: 'Ë≤º‰∏äÊñáÁ´†ÂÖßÂÆπ,ÊàñÁõ¥Êé•Ë≤º‰∏ä URL(Â¶Ç https://...)',
                aGoal: 'ÁõÆÊ®ô',
                aGoalPh: 'ÊèêÈ´ò‰∫íÂãïÁéá„ÄÅÂª∫Á´ãÂ∞àÊ•≠ÂΩ¢Ë±°„ÄÅÂºïÁôºË®éË´ñ„ÄÅÂ∞éÊµÅË®ÇÈñ±...',
                aIncludeRevision: 'Include W (revise after rating)',
                aConvertTo: 'Convert to other platforms',
                aCarousel: 'Convert to Carousel',
                aIdentifyTOYF: 'Identify TOYF plan used',
                
                // W Form
                wFormTitle: 'Revision ÊñáÁ´†‰øÆÊîπ',
                wHasRating: 'Â∑≤Êúâ A ÁöÑË©ïÂàÜÁµêÊûú',
                wRatingResult: 'Ë©ïÂàÜÁµêÊûú',
                wRatingResultPh: 'Ë´ãË≤º‰∏ä A ÁöÑË©ïÂàÜÁµêÊûú...',
                wAutoFill: 'Â∑≤Â∏∂ÂÖ•ÊúÄËøëË©ïÂàÜÁµêÊûú,ÂèØ‰øÆÊîπ',
                wContent: 'ÂÖßÂÆπ',
                wContentPh: 'Ë≤º‰∏äÊñáÁ´†ÂÖßÂÆπ,ÊàñÁõ¥Êé•Ë≤º‰∏ä URL(Â¶Ç https://...)',
                wFocus: '‰øÆÊîπÁÑ¶Èªû',
                wFocusFull: 'ÂÖ®Èù¢‰øÆÊîπ',
                wFocusStructure: 'ÁµêÊßãÂÑ™Âåñ',
                wFocusOpening: 'ÈñãÂ†¥Âº∑Âåñ',
                wFocusConclusion: 'ÁµêË´ñÂº∑Âåñ',
                wOutputFormat: 'Ëº∏Âá∫Ê†ºÂºè',
                wFormatList: 'Âª∫Ë≠∞Ê∏ÖÂñÆ',
                wFormatRewrite: 'ÊîπÂØ´ÂÖ®Êñá',
                wFormatBoth: 'ÂÖ©ËÄÖÈÉΩË¶Å',
                wIdentifyTOYF: 'Ë≠òÂà•ÁõÆÂâç‰ΩøÁî®ÁöÑ TOYF Ë®àÁï´',
                wSuggestTOYF: 'Âª∫Ë≠∞Êõ¥ÈÅ©ÂêàÁöÑ TOYF Ë®àÁï´',
                wAddHook: 'Âä†ÂÖ• Micro Story Hook Âª∫Ë≠∞',
                wConnectGH: 'Âª∫Ë≠∞ÈÄ£Áµê Greatest Hits',
                
                // Combo Form
                comboExecFlow: 'Âü∑Ë°åÊµÅÁ®ã',
                comboDesc1: 'ÂæûÁ¢∫Ë™çÊ†∏ÂøÉÊÉ≥Ê≥ïÈñãÂßã,‰æùÂ∫èÊ∫ñÂÇôÈõªÊ¢ØÁ∞°Â†±„ÄÅÁî¢ÂìÅËß£Ë™™„ÄÅÊ≠£ÂºèÊèêÊ°à„ÄÅQ&A Ê®°Êì¨,ÊúÄÂæåÊ∫ñÂÇôË≠∞ÂÉπË´áÂà§„ÄÇ',
                comboDesc2: 'ÈÅ∏ÊìáÊ†∏ÂøÉÊÉ≥Ê≥ïÂæå,Ê∫ñÂÇôÊúÉË≠∞ÁôºË®ÄÁ®ø,È†êÂà§ÂèçÂ∞çÊÑèË¶ã,ÊúÄÂæåÊ∫ñÂÇô‰∏ªÁÆ°Ë™™ÊúçÁ≠ñÁï•„ÄÇ',
                comboDesc3: 'Á≤æÁÖâÊ†∏ÂøÉÊÉ≥Ê≥ï,Âè£Ëø∞Êï¥ÁêÜÊàêÊñáÁ´†,‰øÆÊîπÂÑ™ÂåñÂæåÊøÉÁ∏ÆÁÇ∫Á§æÁæ§Á≤æËèØÁâà„ÄÇ',
                comboDesc4: 'Á¢∫Ë™çÊ†∏ÂøÉË®äÊÅØ,ÂÖàÊÉ≥Â∞çÊñπÊúÉÊîªÊìä‰ªÄÈ∫º,Ê∫ñÂÇô‰∏ªÂãïÁôºË®Ä,ÂÇôÂ•ΩË´áÂà§ÈÄÄË∑Ø„ÄÇ',
                comboDesc5: 'Ê∫ñÂÇôË∑®È†òÂüüÈ°ûÊØî,Ë®≠Ë®àÊ¶ÇÂøµËß£Ë™™,Êí∞ÂØ´ÊäïÂΩ±ÁâáË¨õÁ®ø,È†êÂà§Â≠∏Âì°ÂïèÈ°å„ÄÇ',
                comboDesc6: 'ÈÅ∏ÊìáÊ†∏ÂøÉÁ´ãÂ†¥,È†êÂà§Ë≥™Áñë,Ê∫ñÂÇô‰∏ÄÂ∞ç‰∏ÄÊáâÂ∞ç,Êí∞ÂØ´ÂÖ¨ÈñãËÅ≤Êòé,Áïô‰∏ãÊõ∏Èù¢Á¥ÄÈåÑ„ÄÇ',
                comboDesc7: 'Âª∫Á´ãÊ†∏ÂøÉÊÉ≥Ê≥ï,ÊâæÁ®ÄÁâπÈ°ûÊØî,Â≠∏ÁøíÊ®ôÁ´øÊäÄÂ∑ß,Áî¢Âá∫ÂéüÂâµÂÖßÂÆπ„ÄÇ',
                comboDesc8: 'Ë©ï‰º∞ÁèæÊúâÂÖßÂÆπ,ÂÑ™ÂåñÁµêÊßãËàáË°®ÈÅî,ËêÉÂèñÂèØË§áÁî®ÁöÑÊ†∏ÂøÉËßÄÈªû„ÄÇ',
                comboName1: 'ÂÆ¢Êà∂ÈñãÁôº',
                comboName2: 'ÂÖßÈÉ®ÊèêÊ°à',
                comboName3: 'ÊÄùÊÉ≥È†òÂ∞é',
                comboName4: 'È´òÈ¢®Èö™ÊúÉË≠∞',
                comboName5: 'ÊïôËÇ≤Ë®ìÁ∑¥',
                comboName6: 'Âç±Ê©üÊ∫ùÈÄö',
                comboName7: 'ÂÄã‰∫∫ÂìÅÁâå',
                comboName8: 'ÂÖßÂÆπÊ™¢Ê†∏',
                
                // Onboarding
                onboardWelcome: 'Ê≠°Ëøé‰ΩøÁî® Articulator',
                onboardSubtitle: 'Â∞áÊ∑∑‰∫ÇÁöÑÊÉ≥Ê≥ïËΩâÂåñÁÇ∫ÁµêÊßãÂåñË°®ÈÅî‚Äî‚ÄîÁÑ°Ë´ñÊòØË™™Âá∫‰æÜÈÇÑÊòØÂØ´‰∏ã‰æÜ„ÄÇ',
                onboardStep1Title: 'ÈÅ∏ÊìáÂäüËÉΩ',
                onboardStep1Desc: '12 Á®ÆÂ∑•ÂÖ∑ÊªøË∂≥‰∏çÂêåÊ∫ùÈÄöÈúÄÊ±Ç:ÊúÉË≠∞„ÄÅÁ∞°Â†±„ÄÅÊñáÁ´†„ÄÅQ&A Ê∫ñÂÇôÁ≠â„ÄÇ',
                onboardStep2Title: 'Â°´ÂÖ•ÊÉÖÂ¢É',
                onboardStep2Desc: 'ÊèèËø∞‰Ω†ÁöÑÊÉÖÂ¢É„ÄÅËÅΩÁúæÂíåÁõÆÊ®ô„ÄÇË∂äÂÖ∑È´îË∂äÂ•Ω„ÄÇ',
                onboardStep3Title: 'ÂèñÂæóÁµêÊßãÂåñËº∏Âá∫',
                onboardStep3Desc: 'Â∞á JSON Êåá‰ª§Ë§áË£ΩÁµ¶ Claude,ÂπæÁßíÂÖßÁç≤ÂæóÁµêÊßãÂåñ„ÄÅÂèØÁõ¥Êé•‰ΩøÁî®ÁöÑÂõûÊáâ„ÄÇ',
                onboardQuestion: '‰ªäÂ§©ÊÉ≥ÂÅö‰ªÄÈ∫º?',
                onboardPractice: 'Á∑¥ÁøíÂç≥ËààË°®ÈÅî',
                onboardPracticeHint: 'Áç≤ÂæóÈö®Ê©üÈ°åÁõÆÂíåÂõûÈ•ã',
                onboardMeeting: 'Ê∫ñÂÇôÊúÉË≠∞ÊàñÁ∞°Â†±',
                onboardMeetingHint: 'ÁµêÊßãÂåñ‰Ω†ÁöÑÁôºË®ÄË¶ÅÈªû',
                onboardWriting: 'ÊîπÂñÑÊàëÁöÑÂØ´‰Ωú',
                onboardWritingHint: 'Ë©ïÂàÜÂíå‰øÆÊîπÊñáÁ´†',
                onboardCombo: 'ÂÆåÊï¥ÊÉÖÂ¢ÉÊ∫ñÂÇô',
                onboardComboHint: 'Â§öÊ≠•È©üÁµÑÂêàÊã≥Â∑•‰ΩúÊµÅÁ®ã',
                onboardStart: 'ÈñãÂßã‰ΩøÁî®',
                onboardSkip: 'Ë∑≥ÈÅé,ÊàëÁü•ÈÅìÊÄéÈ∫ºÁî®',
                
                // Learning History
                historyTitle: 'üìà Â≠∏ÁøíÊ≠∑Á®ã',
                historyDropText: 'ÊãñÊõ≥Â†±ÂëäÂà∞ÈÄôË£°',
                historyDropHint: 'ÊàñÈªûÊìäÈÅ∏Êìá HTML Ê™îÊ°à',
                historyAnalyze: 'ÂàÜÊûêË∂®Âã¢',
                historyClear: 'Ê∏ÖÈô§',
                historyChartTitle: 'üìä Ë©ïÂàÜË∂®Âã¢',
                historyExport: 'üìã Áî¢ÁîüÂàÜÊûê Prompt',
                
                // Recent
                recentTitle: '‚è±Ô∏è ÊúÄËøë‰ΩøÁî®',
                recentClear: 'Ê∏ÖÈô§'
            }
        };

        // Current language
        let currentLang = localStorage.getItem(STORAGE_KEY_LANG) || 'zh';

        // Get translation
        function t(key) {
            return i18n[currentLang][key] || key;
        }

        // Toggle language
        function toggleLanguage() {
            currentLang = currentLang === 'zh' ? 'en' : 'zh';
            localStorage.setItem(STORAGE_KEY_LANG, currentLang);
            updateLanguage();
        }

        // Update all UI text
        function updateLanguage() {
            // Update lang button label
            document.getElementById('lang-label').textContent = currentLang === 'zh' ? 'EN' : '‰∏≠Êñá';
            
            // Header
            document.querySelector('#welcome-page .header h1').textContent = t('appName');
            document.querySelector('#welcome-page .header p').textContent = t('tagline');
            
            // Category cards on welcome page
            const cats = document.querySelectorAll('#welcome-page .category-card');
            if (cats[0]) {
                cats[0].querySelector('.category-name').textContent = t('catTraining');
                cats[0].querySelector('.category-desc').textContent = t('catTrainingDesc');
            }
            if (cats[1]) {
                cats[1].querySelector('.category-name').textContent = t('catOral');
                cats[1].querySelector('.category-desc').textContent = t('catOralDesc');
            }
            if (cats[2]) {
                cats[2].querySelector('.category-name').textContent = t('catWritten');
                cats[2].querySelector('.category-desc').textContent = t('catWrittenDesc');
            }
            if (cats[3]) {
                cats[3].querySelector('.category-name').textContent = t('catLibrary');
                cats[3].querySelector('.category-desc').textContent = t('catLibraryDesc');
            }
            if (cats[4]) {
                cats[4].querySelector('.category-name').textContent = t('catCombo');
                cats[4].querySelector('.category-desc').textContent = t('catComboDesc');
            }
            if (cats[5]) {
                cats[5].querySelector('.category-name').textContent = t('catPlans');
                cats[5].querySelector('.category-desc').textContent = t('catPlansDesc');
            }
            
            // Plans page
            const plansHeader = document.querySelector('#plans-page .header h1');
            if (plansHeader) plansHeader.textContent = t('plansTitle');
            const plansSubtitle = document.querySelector('#plans-page .header p');
            if (plansSubtitle) plansSubtitle.textContent = t('plansSubtitle');
            
            const planCards = document.querySelectorAll('#plans-page .plan-card');
            
            // Structure section: 6 TOYF plans + Hook (7 cards total)
            const structureData = [
                { name: 'planClock', structure: 'planClockStructure', usage: 'planClockUsage', label: 'planUsageLabel' },
                { name: 'planGlobe', structure: 'planGlobeStructure', usage: 'planGlobeUsage', label: 'planUsageLabel' },
                { name: 'planTriangle', structure: 'planTriangleStructure', usage: 'planTriangleUsage', label: 'planUsageLabel' },
                { name: 'planZoom', structure: 'planZoomStructure', usage: 'planZoomUsage', label: 'planUsageLabel' },
                { name: 'planPendulum', structure: 'planPendulumStructure', usage: 'planPendulumUsage', label: 'planUsageLabel' },
                { name: 'planBenefits', structure: 'planBenefitsStructure', usage: 'planBenefitsUsage', label: 'planUsageLabel' },
                { name: 'toolHook', sub: 'toolHookSub', structure: 'toolHookStructure', usage: 'toolHookUsage', label: 'planUsageLabel' }
            ];
            const structureCards = document.querySelectorAll('#structure-section .plan-card');
            structureCards.forEach((card, i) => {
                if (structureData[i]) {
                    card.querySelector('.plan-name').textContent = t(structureData[i].name);
                    const subEl = card.querySelector('.plan-name-en');
                    if (subEl && structureData[i].sub) subEl.textContent = t(structureData[i].sub);
                    card.querySelector('.plan-structure').textContent = t(structureData[i].structure);
                    card.querySelector('.plan-usage').innerHTML = '<strong>' + t(structureData[i].label) + '</strong>' + t(structureData[i].usage);
                }
            });
            
            // Update section titles
            const structureTitle = document.querySelector('#structure-section .toolbox-section-title');
            if (structureTitle) structureTitle.textContent = t('sectionStructure');
            const contentTitle = document.querySelector('#content-section .toolbox-section-title');
            if (contentTitle) contentTitle.textContent = t('sectionContent');
            const strategyTitle = document.querySelector('#strategy-section .toolbox-section-title');
            if (strategyTitle) strategyTitle.textContent = t('sectionStrategy');
            
            // Content section: Idea Bricks (1 card)
            const contentCards = document.querySelectorAll('#content-section .plan-card');
            const contentData = [
                { name: 'toolBricks', sub: 'toolBricksSub', structure: 'toolBricksStructure', usage: 'toolBricksUsage' }
            ];
            contentCards.forEach((card, i) => {
                if (contentData[i]) {
                    card.querySelector('.plan-name').textContent = t(contentData[i].name);
                    card.querySelector('.plan-name-en').textContent = t(contentData[i].sub);
                    card.querySelector('.plan-structure').textContent = t(contentData[i].structure);
                    card.querySelector('.plan-usage').innerHTML = '<strong>' + t('usageLabel') + '</strong>' + t(contentData[i].usage);
                }
            });
            
            // Strategy section: Greatest Hits (1 card)
            const strategyCards = document.querySelectorAll('#strategy-section .plan-card');
            const strategyData = [
                { name: 'toolGH', sub: 'toolGHSub', structure: 'toolGHStructure', usage: 'toolGHUsage' }
            ];
            strategyCards.forEach((card, i) => {
                if (strategyData[i]) {
                    card.querySelector('.plan-name').textContent = t(strategyData[i].name);
                    card.querySelector('.plan-name-en').textContent = t(strategyData[i].sub);
                    card.querySelector('.plan-structure').textContent = t(strategyData[i].structure);
                    card.querySelector('.plan-usage').innerHTML = '<strong>' + t('usageLabel') + '</strong>' + t(strategyData[i].usage);
                }
            });
            
            // Training page
            const trainingHeader = document.querySelector('#training-page .header h1');
            if (trainingHeader) trainingHeader.textContent = t('trainingTitle');
            
            const trainingCard = document.querySelector('#training-page .function-card');
            if (trainingCard) {
                trainingCard.querySelector('.function-name').textContent = t('trainingFunc');
                trainingCard.querySelector('.function-desc').textContent = t('trainingFuncDesc');
            }
            
            // T form
            const tTip = document.querySelector('#t-form-page .training-tip');
            if (tTip) tTip.innerHTML = '<strong>' + t('trainingTip').split(':')[0] + ':</strong>' + t('trainingTip').split(':').slice(1).join(':');
            
            // Onboarding modal
            document.querySelector('.modal-title').textContent = t('onboardWelcome');
            document.querySelector('.modal-subtitle').textContent = t('onboardSubtitle');
            
            const steps = document.querySelectorAll('.onboarding-step');
            if (steps[0]) {
                steps[0].querySelector('.step-title').textContent = t('onboardStep1Title');
                steps[0].querySelector('.step-desc').textContent = t('onboardStep1Desc');
            }
            if (steps[1]) {
                steps[1].querySelector('.step-title').textContent = t('onboardStep2Title');
                steps[1].querySelector('.step-desc').textContent = t('onboardStep2Desc');
            }
            if (steps[2]) {
                steps[2].querySelector('.step-title').textContent = t('onboardStep3Title');
                steps[2].querySelector('.step-desc').textContent = t('onboardStep3Desc');
            }
            
            document.querySelector('.scenario-label').textContent = t('onboardQuestion');
            
            const scenarios = document.querySelectorAll('.scenario-option');
            if (scenarios[0]) {
                scenarios[0].querySelector('.scenario-name').textContent = t('onboardPractice');
                scenarios[0].querySelector('.scenario-hint').textContent = t('onboardPracticeHint');
            }
            if (scenarios[1]) {
                scenarios[1].querySelector('.scenario-name').textContent = t('onboardMeeting');
                scenarios[1].querySelector('.scenario-hint').textContent = t('onboardMeetingHint');
            }
            if (scenarios[2]) {
                scenarios[2].querySelector('.scenario-name').textContent = t('onboardWriting');
                scenarios[2].querySelector('.scenario-hint').textContent = t('onboardWritingHint');
            }
            if (scenarios[3]) {
                scenarios[3].querySelector('.scenario-name').textContent = t('onboardCombo');
                scenarios[3].querySelector('.scenario-hint').textContent = t('onboardComboHint');
            }
            
            document.querySelector('.btn-start').textContent = t('onboardStart');
            document.querySelector('.btn-skip').textContent = t('onboardSkip');
            
            // Back buttons
            document.querySelectorAll('.back-btn').forEach(btn => {
                btn.innerHTML = '<span>‚Üê</span> ' + t('back');
            });
            
            // Oral page
            const oralHeader = document.querySelector('#oral-page .header h1');
            if (oralHeader) oralHeader.textContent = t('oralTitle');
            
            const oralCards = document.querySelectorAll('#oral-page .function-card');
            if (oralCards[0]) {
                oralCards[0].querySelector('.function-name').textContent = t('meetingTitle');
                oralCards[0].querySelector('.function-desc').textContent = t('meetingDesc');
            }
            if (oralCards[1]) {
                oralCards[1].querySelector('.function-name').textContent = t('elevatorTitle');
                oralCards[1].querySelector('.function-desc').textContent = t('elevatorDesc');
            }
            if (oralCards[2]) {
                oralCards[2].querySelector('.function-name').textContent = t('explainerTitle');
                oralCards[2].querySelector('.function-desc').textContent = t('explainerDesc');
            }
            if (oralCards[3]) {
                oralCards[3].querySelector('.function-name').textContent = t('pitchTitle');
                oralCards[3].querySelector('.function-desc').textContent = t('pitchDesc');
            }
            if (oralCards[4]) {
                oralCards[4].querySelector('.function-name').textContent = t('difficultTitle');
                oralCards[4].querySelector('.function-desc').textContent = t('difficultDesc');
            }
            if (oralCards[5]) {
                oralCards[5].querySelector('.function-name').textContent = t('qnaTitle');
                oralCards[5].querySelector('.function-desc').textContent = t('qnaDesc');
            }
            
            // Written page
            const writtenHeader = document.querySelector('#written-page .header h1');
            if (writtenHeader) writtenHeader.textContent = t('writtenTitle');
            
            const writtenCards = document.querySelectorAll('#written-page .function-card');
            if (writtenCards[0]) {
                writtenCards[0].querySelector('.function-name').textContent = t('ratingTitle');
                writtenCards[0].querySelector('.function-desc').textContent = t('ratingDesc');
            }
            if (writtenCards[1]) {
                writtenCards[1].querySelector('.function-name').textContent = t('revisionTitle');
                writtenCards[1].querySelector('.function-desc').textContent = t('revisionDesc');
            }
            
            // Library page
            const libraryHeader = document.querySelector('#library-page .header h1');
            if (libraryHeader) libraryHeader.textContent = t('libraryTitle');
            
            const libraryCards = document.querySelectorAll('#library-page .function-card');
            if (libraryCards[0]) {
                libraryCards[0].querySelector('.function-name').textContent = t('ghTitle');
                libraryCards[0].querySelector('.function-desc').textContent = t('ghDesc');
            }
            if (libraryCards[1]) {
                libraryCards[1].querySelector('.function-name').textContent = t('crossTitle');
                libraryCards[1].querySelector('.function-desc').textContent = t('crossDesc');
            }
            if (libraryCards[2]) {
                libraryCards[2].querySelector('.function-name').textContent = t('reverseTitle');
                libraryCards[2].querySelector('.function-desc').textContent = t('reverseDesc');
            }
            
            // Combo page
            const comboHeader = document.querySelector('#combo-page .header h1');
            if (comboHeader) comboHeader.textContent = t('comboTitle');
            
            // Generate buttons
            document.querySelectorAll('.btn-primary').forEach(btn => {
                if (btn.type === 'submit') btn.textContent = t('generateBtn');
            });
            
            // Output sections
            document.querySelectorAll('.quick-title').forEach(el => {
                el.textContent = t('quickCommand');
            });
            document.querySelectorAll('.output-divider').forEach(el => {
                el.textContent = t('orUseJson');
            });
            document.querySelectorAll('.json-title').forEach(el => {
                el.textContent = t('jsonOutput');
            });
            
            // =====================
            // T Form Page
            // =====================
            const tFormTitle = document.querySelector('#t-form-page .form-title span');
            if (tFormTitle) tFormTitle.textContent = t('tFormTitle');
            
            const tTypeLabel = document.querySelector('#t-form-page .form-group:nth-child(1) .form-label');
            if (tTypeLabel) tTypeLabel.textContent = t('tPracticeType');
            
            const tTypeSelect = document.getElementById('t-type');
            if (tTypeSelect) {
                tTypeSelect.options[0].text = t('tTypeRandom');
                tTypeSelect.options[1].text = t('tTypeM');
                tTypeSelect.options[2].text = t('tTypeV');
                tTypeSelect.options[3].text = t('tTypeE');
                tTypeSelect.options[4].text = t('tTypeP');
                tTypeSelect.options[5].text = t('tTypeD');
            }
            
            const tDiffLabel = document.querySelector('#t-form-page .form-section .form-group:nth-child(2) .form-label');
            if (tDiffLabel) tDiffLabel.textContent = t('tDifficulty');
            
            const tDiffOptions = document.querySelectorAll('#t-form-page .form-section .form-group:nth-child(2) .radio-option');
            if (tDiffOptions[0]) tDiffOptions[0].textContent = t('tDiffBeginner');
            if (tDiffOptions[1]) tDiffOptions[1].textContent = t('tDiffMedium');
            if (tDiffOptions[2]) tDiffOptions[2].textContent = t('tDiffChallenge');
            
            const tCountLabel = document.querySelector('#t-form-page .form-section .form-group:nth-child(3) .form-label');
            if (tCountLabel) tCountLabel.textContent = t('tQuestionCount');
            
            const tCountOptions = document.querySelectorAll('#t-form-page .form-section .form-group:nth-child(3) .radio-option');
            if (tCountOptions[0]) tCountOptions[0].textContent = t('tQ1');
            if (tCountOptions[1]) tCountOptions[1].textContent = t('tQ3');
            if (tCountOptions[2]) tCountOptions[2].textContent = t('tQ5');
            
            const tContextLabel = document.querySelector('#t-form-page .form-section .form-group:nth-child(4) .form-label');
            if (tContextLabel) tContextLabel.innerHTML = t('tCustomContext') + ' <span class="optional">' + t('optional') + '</span>';
            
            const tContextTextarea = document.getElementById('t-context');
            if (tContextTextarea) tContextTextarea.placeholder = t('tCustomContextPh');
            
            // =====================
            // M Form Page
            // =====================
            const mFormTitle = document.querySelector('#m-form-page .form-title span');
            if (mFormTitle) mFormTitle.textContent = t('mFormTitle');
            
            const mLabels = document.querySelectorAll('#m-form-page .form-section .form-group .form-label');
            if (mLabels[0]) mLabels[0].textContent = t('mTopic');
            if (mLabels[1]) mLabels[1].textContent = t('mRole');
            if (mLabels[2]) mLabels[2].textContent = t('mCoreMessage');
            if (mLabels[3]) mLabels[3].textContent = t('mTimeLimit');
            if (mLabels[4]) mLabels[4].textContent = t('outputMode');
            
            const mTopicInput = document.getElementById('m-topic');
            if (mTopicInput) mTopicInput.placeholder = t('mTopicPh');
            
            const mRoleInput = document.getElementById('m-role');
            if (mRoleInput) mRoleInput.placeholder = t('mRolePh');
            
            const mCoreInput = document.getElementById('m-core-message');
            if (mCoreInput) mCoreInput.placeholder = t('mCoreMessagePh');
            
            const mTimeOptions = document.querySelectorAll('#m-form-page .time-option');
            if (mTimeOptions[0]) mTimeOptions[0].textContent = t('mTime1');
            if (mTimeOptions[1]) mTimeOptions[1].textContent = t('mTime3');
            if (mTimeOptions[2]) mTimeOptions[2].textContent = t('mTime5');
            
            const mModeOptions = document.querySelectorAll('#m-form-page .form-section .form-group:nth-child(5) .radio-option');
            if (mModeOptions[0]) mModeOptions[0].textContent = t('modeStandard');
            if (mModeOptions[1]) mModeOptions[1].textContent = t('modeConversational');
            
            const mAdvToggle = document.querySelector('#m-form-page .advanced-toggle');
            if (mAdvToggle) mAdvToggle.innerHTML = '<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M4 2l4 4-4 4V2z"/></svg> ' + t('advancedOptions');
            
            const mAdvCheckboxes = document.querySelectorAll('#m-advanced .checkbox-label');
            if (mAdvCheckboxes[0]) mAdvCheckboxes[0].textContent = t('mAddHook');
            if (mAdvCheckboxes[1]) mAdvCheckboxes[1].textContent = t('mConnectGH');
            
            // =====================
            // V Form Page
            // =====================
            const vFormTitle = document.querySelector('#v-form-page .form-title span');
            if (vFormTitle) vFormTitle.textContent = t('vFormTitle');
            
            const vLabels = document.querySelectorAll('#v-form-page .form-section .form-group .form-label');
            if (vLabels[0]) vLabels[0].textContent = t('vSubject');
            if (vLabels[1]) vLabels[1].innerHTML = t('vAudience') + ' <span class="optional">' + t('optional') + '</span>';
            if (vLabels[2]) vLabels[2].textContent = t('vImpression');
            if (vLabels[3]) vLabels[3].innerHTML = t('vVersions');
            if (vLabels[4]) vLabels[4].textContent = t('outputMode');
            
            const vSubjectInput = document.getElementById('v-subject');
            if (vSubjectInput) vSubjectInput.placeholder = t('vSubjectPh');
            
            const vAudienceInput = document.getElementById('v-audience');
            if (vAudienceInput) vAudienceInput.placeholder = t('vAudiencePh');
            
            const vImpressionInput = document.getElementById('v-impression');
            if (vImpressionInput) vImpressionInput.placeholder = t('vImpressionPh');
            
            const vVersionOptions = document.querySelectorAll('#v-form-page .convert-options-inline .checkbox-label');
            if (vVersionOptions[0]) vVersionOptions[0].textContent = t('v30s');
            if (vVersionOptions[1]) vVersionOptions[1].textContent = t('v60s');
            if (vVersionOptions[2]) vVersionOptions[2].textContent = t('v90s');
            
            const vModeOptions = document.querySelectorAll('#v-form-page .form-section .form-group:nth-child(5) .radio-option');
            if (vModeOptions[0]) vModeOptions[0].textContent = t('modeStandard');
            if (vModeOptions[1]) vModeOptions[1].textContent = t('modeConversational');
            
            const vAdvToggle = document.querySelector('#v-form-page .advanced-toggle');
            if (vAdvToggle) vAdvToggle.innerHTML = '<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M4 2l4 4-4 4V2z"/></svg> ' + t('advancedOptions');
            
            const vAdvCheckboxes = document.querySelectorAll('#v-advanced .checkbox-label');
            if (vAdvCheckboxes[0]) vAdvCheckboxes[0].textContent = t('vAddHook');
            if (vAdvCheckboxes[1]) vAdvCheckboxes[1].textContent = t('vConnectGH');
            
            // =====================
            // E Form Page
            // =====================
            const eFormTitle = document.querySelector('#e-form-page .form-title span');
            if (eFormTitle) eFormTitle.textContent = t('eFormTitle');
            
            const eLabels = document.querySelectorAll('#e-form-page .form-section .form-group .form-label');
            if (eLabels[0]) eLabels[0].textContent = t('eConcept');
            if (eLabels[1]) eLabels[1].textContent = t('eAudienceLevel');
            if (eLabels[2]) eLabels[2].innerHTML = t('eKeyPoints') + ' <span class="optional">' + t('optional') + '</span>';
            if (eLabels[3]) eLabels[3].innerHTML = t('eTimeLimit') + ' <span class="optional">' + t('optional') + '</span>';
            if (eLabels[4]) eLabels[4].textContent = t('outputMode');
            
            const eConceptInput = document.getElementById('e-concept');
            if (eConceptInput) eConceptInput.placeholder = t('eConceptPh');
            
            const eAudienceSelect = document.getElementById('e-audience-level');
            if (eAudienceSelect) {
                eAudienceSelect.options[0].text = t('eLevelComplete');
                eAudienceSelect.options[1].text = t('eLevelBasic');
                eAudienceSelect.options[2].text = t('eLevelFoundation');
                eAudienceSelect.options[3].text = t('eLevelExpert');
            }
            
            const eKeyPointsInput = document.getElementById('e-key-points');
            if (eKeyPointsInput) eKeyPointsInput.placeholder = t('eKeyPointsPh');
            
            const eTimeSelect = document.getElementById('e-time-limit');
            if (eTimeSelect) {
                eTimeSelect.options[0].text = t('eTimeNone');
                eTimeSelect.options[1].text = t('eTime1');
                eTimeSelect.options[2].text = t('eTime3');
                eTimeSelect.options[3].text = t('eTime5');
                eTimeSelect.options[4].text = t('eTime10');
            }
            
            const eModeOptions = document.querySelectorAll('#e-form-page .form-section .form-group:nth-child(5) .radio-option');
            if (eModeOptions[0]) eModeOptions[0].textContent = t('modeStandard');
            if (eModeOptions[1]) eModeOptions[1].textContent = t('modeConversational');
            
            const eAdvToggle = document.querySelector('#e-form-page .advanced-toggle');
            if (eAdvToggle) eAdvToggle.innerHTML = '<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M4 2l4 4-4 4V2z"/></svg> ' + t('advancedOptions');
            
            const eAdvCheckbox = document.querySelector('#e-advanced .checkbox-label');
            if (eAdvCheckbox) eAdvCheckbox.textContent = t('eAddCrossDomain');
            
            // =====================
            // P Form Page
            // =====================
            const pFormTitle = document.querySelector('#p-form-page .form-title span');
            if (pFormTitle) pFormTitle.textContent = t('pFormTitle');
            
            const pLabels = document.querySelectorAll('#p-form-page .form-section .form-group .form-label');
            if (pLabels[0]) pLabels[0].textContent = t('pTopic');
            if (pLabels[1]) pLabels[1].textContent = t('pAudience');
            if (pLabels[2]) pLabels[2].textContent = t('pCTA');
            if (pLabels[3]) pLabels[3].textContent = t('pTotalTime');
            if (pLabels[4]) pLabels[4].textContent = t('outputMode');
            
            const pTopicInput = document.getElementById('p-topic');
            if (pTopicInput) pTopicInput.placeholder = t('pTopicPh');
            
            const pAudienceSelect = document.getElementById('p-audience');
            if (pAudienceSelect) {
                pAudienceSelect.options[0].text = t('pAudienceDecision');
                pAudienceSelect.options[1].text = t('pAudienceTech');
                pAudienceSelect.options[2].text = t('pAudienceInvestor');
                pAudienceSelect.options[3].text = t('pAudienceGeneral');
            }
            
            const pCTAInput = document.getElementById('p-cta');
            if (pCTAInput) pCTAInput.placeholder = t('pCTAPh');
            
            const pTimeSelect = document.getElementById('p-total-time');
            if (pTimeSelect) {
                pTimeSelect.options[0].text = t('pTime5');
                pTimeSelect.options[1].text = t('pTime10');
                pTimeSelect.options[2].text = t('pTime15');
                pTimeSelect.options[3].text = t('pTime20');
                pTimeSelect.options[4].text = t('pTime30');
            }
            
            const pModeOptions = document.querySelectorAll('#p-form-page .form-section .form-group:nth-child(5) .radio-option');
            if (pModeOptions[0]) pModeOptions[0].textContent = t('modeStandard');
            if (pModeOptions[1]) pModeOptions[1].textContent = t('modeConversational');
            
            const pAdvToggle = document.querySelector('#p-form-page .advanced-toggle');
            if (pAdvToggle) pAdvToggle.innerHTML = '<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M4 2l4 4-4 4V2z"/></svg> ' + t('advancedOptions');
            
            const pAdvCheckboxes = document.querySelectorAll('#p-advanced .checkbox-label');
            if (pAdvCheckboxes[0]) pAdvCheckboxes[0].textContent = t('pAddHook');
            if (pAdvCheckboxes[1]) pAdvCheckboxes[1].textContent = t('pConnectGH');
            if (pAdvCheckboxes[2]) pAdvCheckboxes[2].textContent = t('pIncludeQA');
            
            // =====================
            // D Form Page
            // =====================
            const dFormTitle = document.querySelector('#d-form-page .form-title span');
            if (dFormTitle) dFormTitle.textContent = t('dFormTitle');
            
            const dLabels = document.querySelectorAll('#d-form-page .form-section .form-group .form-label');
            if (dLabels[0]) dLabels[0].textContent = t('dContext');
            if (dLabels[1]) dLabels[1].textContent = t('dOtherParty');
            if (dLabels[2]) dLabels[2].textContent = t('dBottomLine');
            if (dLabels[3]) dLabels[3].textContent = t('dRelationship');
            if (dLabels[4]) dLabels[4].textContent = t('outputMode');
            
            const dContextInput = document.getElementById('d-context');
            if (dContextInput) dContextInput.placeholder = t('dContextPh');
            
            const dOtherInput = document.getElementById('d-other-party');
            if (dOtherInput) dOtherInput.placeholder = t('dOtherPartyPh');
            
            const dBottomInput = document.getElementById('d-bottom-line');
            if (dBottomInput) dBottomInput.placeholder = t('dBottomLinePh');
            
            const dRelSelect = document.getElementById('d-relationship');
            if (dRelSelect) {
                dRelSelect.options[0].text = t('dRelGood');
                dRelSelect.options[1].text = t('dRelWorking');
                dRelSelect.options[2].text = t('dRelNotPriority');
            }
            
            const dModeOptions = document.querySelectorAll('#d-form-page .form-section .form-group:nth-child(5) .radio-option');
            if (dModeOptions[0]) dModeOptions[0].textContent = t('modeStandard');
            if (dModeOptions[1]) dModeOptions[1].textContent = t('modeConversational');
            
            // =====================
            // Q Form Page
            // =====================
            const qFormTitle = document.querySelector('#q-form-page .form-title span');
            if (qFormTitle) qFormTitle.textContent = t('qFormTitle');
            
            const qLabels = document.querySelectorAll('#q-form-page .form-section .form-group .form-label');
            if (qLabels[0]) qLabels[0].textContent = t('qContext');
            if (qLabels[1]) qLabels[1].textContent = t('qAudience');
            if (qLabels[2]) qLabels[2].textContent = t('qPosition');
            if (qLabels[3]) qLabels[3].innerHTML = t('qWeakness') + ' <span class="optional">' + t('optional') + '</span>';
            if (qLabels[4]) qLabels[4].textContent = t('qCount');
            if (qLabels[5]) qLabels[5].textContent = t('qDifficulty');
            if (qLabels[6]) qLabels[6].textContent = t('outputMode');
            
            const qContextInput = document.getElementById('q-context');
            if (qContextInput) qContextInput.placeholder = t('qContextPh');
            
            const qAudienceSelect = document.getElementById('q-audience');
            if (qAudienceSelect) {
                qAudienceSelect.options[0].text = t('pAudienceDecision');
                qAudienceSelect.options[1].text = t('pAudienceTech');
                qAudienceSelect.options[2].text = t('pAudienceInvestor');
                qAudienceSelect.options[3].text = t('pAudienceGeneral');
            }
            
            const qPositionInput = document.getElementById('q-position');
            if (qPositionInput) qPositionInput.placeholder = t('qPositionPh');
            
            const qWeaknessInput = document.getElementById('q-weakness');
            if (qWeaknessInput) qWeaknessInput.placeholder = t('qWeaknessPh');
            
            const qCountOptions = document.querySelectorAll('#q-form-page .form-section .form-group:nth-child(5) .radio-option');
            if (qCountOptions[0]) qCountOptions[0].textContent = t('qCount3');
            if (qCountOptions[1]) qCountOptions[1].textContent = t('qCount5');
            if (qCountOptions[2]) qCountOptions[2].textContent = t('qCount10');
            
            const qDiffOptions = document.querySelectorAll('#q-form-page .form-section .form-group:nth-child(6) .radio-option');
            if (qDiffOptions[0]) qDiffOptions[0].textContent = t('qDiffFriendly');
            if (qDiffOptions[1]) qDiffOptions[1].textContent = t('qDiffNeutral');
            if (qDiffOptions[2]) qDiffOptions[2].textContent = t('qDiffChallenging');
            
            const qModeOptions = document.querySelectorAll('#q-form-page .form-section .form-group:nth-child(7) .radio-option');
            if (qModeOptions[0]) qModeOptions[0].textContent = t('modeStandard');
            if (qModeOptions[1]) qModeOptions[1].textContent = t('modeConversational');
            
            const qAdvToggle = document.querySelector('#q-form-page .advanced-toggle');
            if (qAdvToggle) qAdvToggle.innerHTML = '<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M4 2l4 4-4 4V2z"/></svg> ' + t('advancedOptions');
            
            const qAdvCheckboxes = document.querySelectorAll('#q-advanced .checkbox-label');
            if (qAdvCheckboxes[0]) qAdvCheckboxes[0].textContent = t('qAddHook');
            if (qAdvCheckboxes[1]) qAdvCheckboxes[1].textContent = t('qConnectGH');
            
            // =====================
            // G Form Page
            // =====================
            const gFormTitle = document.querySelector('#g-form-page .form-title span');
            if (gFormTitle) gFormTitle.textContent = t('gFormTitle');
            
            const gLabels = document.querySelectorAll('#g-form-page .form-section .form-group .form-label');
            if (gLabels[0]) gLabels[0].textContent = t('gMode');
            if (gLabels[1]) gLabels[1].innerHTML = t('gContent') + ' <span class="optional">' + t('optional') + '</span>';
            
            const gModeSelect = document.getElementById('g-mode-select');
            if (gModeSelect) {
                gModeSelect.options[0].text = t('gModeBuild');
                gModeSelect.options[1].text = t('gModeRefine');
                gModeSelect.options[2].text = t('gModeConnect');
                gModeSelect.options[3].text = t('gModeTrack');
            }
            
            const gContentInput = document.getElementById('g-content');
            if (gContentInput) gContentInput.placeholder = t('gContentPh');
            
            // =====================
            // X Form Page
            // =====================
            const xFormTitle = document.querySelector('#x-form-page .form-title span');
            if (xFormTitle) xFormTitle.textContent = t('xFormTitle');
            
            const xLabels = document.querySelectorAll('#x-form-page .form-section .form-group .form-label');
            if (xLabels[0]) xLabels[0].textContent = t('xCorePoint');
            if (xLabels[1]) xLabels[1].innerHTML = t('xDomains') + ' <span class="optional">' + t('optional') + '</span>';
            
            const xCoreInput = document.getElementById('x-core-point');
            if (xCoreInput) xCoreInput.placeholder = t('xCorePointPh');
            
            const xDomainsInput = document.getElementById('x-domains');
            if (xDomainsInput) xDomainsInput.placeholder = t('xDomainsPh');
            
            // =====================
            // R Form Page
            // =====================
            const rFormTitle = document.querySelector('#r-form-page .form-title span');
            if (rFormTitle) rFormTitle.textContent = t('rFormTitle');
            
            const rLabels = document.querySelectorAll('#r-form-page .form-section .form-group .form-label');
            if (rLabels[0]) rLabels[0].innerHTML = t('rContent') + ' <span class="optional">' + t('optional') + '</span>';
            if (rLabels[1]) rLabels[1].textContent = t('rContentType');
            if (rLabels[2]) rLabels[2].textContent = t('outputMode');
            
            const rContentInput = document.getElementById('r-content');
            if (rContentInput) rContentInput.placeholder = t('rContentPh');
            
            const rTypeSelect = document.getElementById('r-content-type');
            if (rTypeSelect) {
                rTypeSelect.options[0].text = t('rTypeArticle');
                rTypeSelect.options[1].text = t('rTypeSpeech');
                rTypeSelect.options[2].text = t('rTypeDialogue');
            }
            
            const rModeOptions = document.querySelectorAll('#r-form-page .form-section .form-group:nth-child(3) .radio-option');
            if (rModeOptions[0]) rModeOptions[0].textContent = t('modeStandard');
            if (rModeOptions[1]) rModeOptions[1].textContent = t('modeConversational');
            
            const rAdvToggle = document.querySelector('#r-form-page .advanced-toggle');
            if (rAdvToggle) rAdvToggle.innerHTML = '<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M4 2l4 4-4 4V2z"/></svg> ' + t('advancedOptions');
            
            const rAdvCheckboxes = document.querySelectorAll('#r-advanced .checkbox-label');
            if (rAdvCheckboxes[0]) rAdvCheckboxes[0].textContent = t('rIncludeRating');
            if (rAdvCheckboxes[1]) rAdvCheckboxes[1].textContent = t('rExtractGH');
            
            const rPlatformLabel = document.querySelector('#r-platform-group .form-label');
            if (rPlatformLabel) rPlatformLabel.textContent = t('rRatingPlatform');
            
            // =====================
            // A Form Page
            // =====================
            const aFormTitle = document.querySelector('#a-form-page .form-title span');
            if (aFormTitle) aFormTitle.textContent = t('aFormTitle');
            
            const aLabels = document.querySelectorAll('#a-form-page .form-section .form-group .form-label');
            if (aLabels[0]) aLabels[0].textContent = t('aPlatform');
            if (aLabels[1]) aLabels[1].innerHTML = t('aContent') + ' <span class="optional">' + t('optional') + '</span>';
            if (aLabels[2]) aLabels[2].innerHTML = t('aGoal') + ' <span class="optional">' + t('optional') + '</span>';
            if (aLabels[3]) aLabels[3].textContent = t('outputMode');
            
            const aContentInput = document.getElementById('a-content');
            if (aContentInput) aContentInput.placeholder = t('aContentPh');
            
            const aGoalInput = document.getElementById('a-goal');
            if (aGoalInput) aGoalInput.placeholder = t('aGoalPh');
            
            const aModeOptions = document.querySelectorAll('#a-form-page .form-section .form-group:nth-child(4) .radio-option');
            if (aModeOptions[0]) aModeOptions[0].textContent = t('modeStandard');
            if (aModeOptions[1]) aModeOptions[1].textContent = t('modeConversational');
            
            const aAdvToggle = document.querySelector('#a-form-page .advanced-toggle');
            if (aAdvToggle) aAdvToggle.innerHTML = '<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M4 2l4 4-4 4V2z"/></svg> ' + t('advancedOptions');
            
            const aIncludeRevisionLabel = document.querySelector('#a-advanced > .form-group:first-child .checkbox-label');
            if (aIncludeRevisionLabel) aIncludeRevisionLabel.textContent = t('aIncludeRevision');
            
            const aIdentifyTOYFLabel = document.querySelector('#a-advanced > .form-group:last-child .checkbox-label');
            if (aIdentifyTOYFLabel) aIdentifyTOYFLabel.textContent = t('aIdentifyTOYF');
            
            const aConvertLabel = document.querySelector('#a-convert-group .form-label');
            if (aConvertLabel) aConvertLabel.innerHTML = t('aConvertTo') + ' <span class="optional">' + t('optional') + '</span>';
            
            const aCarouselLabel = document.querySelector('#a-linkedin-suboptions .checkbox-label');
            if (aCarouselLabel) aCarouselLabel.textContent = t('aCarousel');
            
            // =====================
            // W Form Page
            // =====================
            const wFormTitle = document.querySelector('#w-form-page .form-title span');
            if (wFormTitle) wFormTitle.textContent = t('wFormTitle');
            
            const wHasRatingLabel = document.querySelector('#w-form-page .form-section > .form-group:first-child .checkbox-label');
            if (wHasRatingLabel) wHasRatingLabel.textContent = t('wHasRating');
            
            const wRatingLabel = document.querySelector('#w-rating-group .form-label');
            if (wRatingLabel) wRatingLabel.textContent = t('wRatingResult');
            
            const wRatingInput = document.getElementById('w-rating-result');
            if (wRatingInput) wRatingInput.placeholder = t('wRatingResultPh');
            
            const wAutoFill = document.getElementById('w-auto-fill-notice');
            if (wAutoFill) wAutoFill.innerHTML = '<svg width="14" height="14" viewBox="0 0 14 14" fill="currentColor"><path d="M7 0a7 7 0 100 14A7 7 0 007 0zm1 10H6V6h2v4zm0-5H6V3h2v2z"/></svg> ' + t('wAutoFill');
            
            const wLabels = document.querySelectorAll('#w-form-page .form-section > .form-group .form-label');
            // Skip first two (has rating checkbox and rating result)
            const wContentLabel = document.querySelector('#w-form-page .form-group:has(#w-content) .form-label');
            if (wContentLabel) wContentLabel.innerHTML = t('wContent') + ' <span class="optional">' + t('optional') + '</span>';
            
            const wContentInput = document.getElementById('w-content');
            if (wContentInput) wContentInput.placeholder = t('wContentPh');
            
            const wFocusLabel = document.querySelector('#w-form-page .form-group:has(#w-focus) .form-label');
            if (wFocusLabel) wFocusLabel.textContent = t('wFocus');
            
            const wFocusSelect = document.getElementById('w-focus');
            if (wFocusSelect) {
                wFocusSelect.options[0].text = t('wFocusFull');
                wFocusSelect.options[1].text = t('wFocusStructure');
                wFocusSelect.options[2].text = t('wFocusOpening');
                wFocusSelect.options[3].text = t('wFocusConclusion');
            }
            
            const wFormatLabel = document.querySelector('#w-form-page .form-group:has(#w-output-format) .form-label');
            if (wFormatLabel) wFormatLabel.textContent = t('wOutputFormat');
            
            const wFormatOptions = document.querySelectorAll('#w-form-page .form-group:has(#w-output-format) .radio-option');
            if (wFormatOptions[0]) wFormatOptions[0].textContent = t('wFormatList');
            if (wFormatOptions[1]) wFormatOptions[1].textContent = t('wFormatRewrite');
            if (wFormatOptions[2]) wFormatOptions[2].textContent = t('wFormatBoth');
            
            const wModeLabel = document.querySelector('#w-form-page .form-group:has(#w-mode) .form-label');
            if (wModeLabel) wModeLabel.textContent = t('outputMode');
            
            const wModeOptions = document.querySelectorAll('#w-form-page .form-group:has(#w-mode) .radio-option');
            if (wModeOptions[0]) wModeOptions[0].textContent = t('modeStandard');
            if (wModeOptions[1]) wModeOptions[1].textContent = t('modeConversational');
            
            const wAdvToggle = document.querySelector('#w-form-page .advanced-toggle');
            if (wAdvToggle) wAdvToggle.innerHTML = '<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path d="M4 2l4 4-4 4V2z"/></svg> ' + t('advancedOptions');
            
            const wAdvCheckboxes = document.querySelectorAll('#w-advanced .checkbox-label');
            if (wAdvCheckboxes[0]) wAdvCheckboxes[0].textContent = t('wIdentifyTOYF');
            if (wAdvCheckboxes[1]) wAdvCheckboxes[1].textContent = t('wSuggestTOYF');
            if (wAdvCheckboxes[2]) wAdvCheckboxes[2].textContent = t('wAddHook');
            if (wAdvCheckboxes[3]) wAdvCheckboxes[3].textContent = t('wConnectGH');
            
            // =====================
            // Combo Form Page
            // =====================
            const comboFormTitle = document.querySelector('#combo-form-page .form-title span');
            // This is set dynamically by showComboForm
            
            const comboFlowLabel = document.querySelector('#combo-form-page .form-section > div:first-child > div:first-child');
            if (comboFlowLabel) comboFlowLabel.textContent = t('comboExecFlow');
            
            const comboTimeLabel = document.getElementById('combo-time');
            if (comboTimeLabel && comboTimeLabel.textContent.includes('È†ê‰º∞ÊôÇÈñì')) {
                comboTimeLabel.textContent = comboTimeLabel.textContent.replace('È†ê‰º∞ÊôÇÈñì', t('estimatedTime'));
            }
            
            const comboContextLabel = document.querySelector('#combo-form-page .form-group:has(#combo-context) .form-label');
            if (comboContextLabel) comboContextLabel.textContent = t('comboContext');
            
            const comboContextInput = document.getElementById('combo-context');
            if (comboContextInput) comboContextInput.placeholder = t('comboContextPh');
            
            const comboModeLabel = document.querySelector('#combo-form-page .form-group:has(#combo-mode) .form-label');
            if (comboModeLabel) comboModeLabel.textContent = t('outputMode');
            
            const comboModeOptions = document.querySelectorAll('#combo-form-page .form-group:has(#combo-mode) .radio-option');
            if (comboModeOptions[0]) comboModeOptions[0].textContent = t('modeStandard');
            if (comboModeOptions[1]) comboModeOptions[1].textContent = t('modeConversational');
            
            // Update combo cards names
            const comboCards = document.querySelectorAll('#combo-page .function-card');
            const comboNames = ['comboName1', 'comboName2', 'comboName3', 'comboName4', 'comboName5', 'comboName6', 'comboName7', 'comboName8'];
            comboCards.forEach((card, i) => {
                const nameEl = card.querySelector('.function-name');
                if (nameEl && comboNames[i]) nameEl.textContent = t(comboNames[i]);
            });
            
            // =====================
            // Learning History & Recent (Welcome Page Left Panel)
            // =====================
            // Update all elements with data-i18n attribute
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (key && t(key) !== key) {
                    el.textContent = t(key);
                }
            });
            
            // Recent section title
            const recentTitle = document.querySelector('#recent-section .panel-card-title');
            if (recentTitle) recentTitle.textContent = t('recentTitle');
            
            const recentClearBtn = document.querySelector('#recent-section .panel-card-action');
            if (recentClearBtn) recentClearBtn.textContent = t('recentClear');
        }

        // Onboarding
        let selectedScenario = null;

        function checkOnboarding() {
            const done = localStorage.getItem(STORAGE_KEY_ONBOARDING);
            if (!done) {
                showOnboarding();
            } else {
                hideOnboarding();
            }
        }

        function showOnboarding() {
            document.getElementById('onboarding-modal').classList.remove('hidden');
        }

        function hideOnboarding() {
            document.getElementById('onboarding-modal').classList.add('hidden');
        }

        function selectScenario(element) {
            document.querySelectorAll('.scenario-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            selectedScenario = element.dataset.target;
        }

        function startWithScenario() {
            localStorage.setItem(STORAGE_KEY_ONBOARDING, 'true');
            hideOnboarding();
            
            if (selectedScenario) {
                showCategory(selectedScenario);
            }
        }

        function skipOnboarding() {
            localStorage.setItem(STORAGE_KEY_ONBOARDING, 'true');
            hideOnboarding();
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateLanguage();
            checkOnboarding();
            renderRecentSection(); // Load recent history
        });

        // Page Navigation
        function hideAllPages() {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
        }

        function showWelcome() {
            hideAllPages();
            document.getElementById('welcome-page').classList.remove('hidden');
            renderRecentSection(); // Refresh recent when returning to welcome
        }

        function showCategory(category) {
            hideAllPages();
            if (category === 'training') {
                document.getElementById('training-page').classList.remove('hidden');
            } else if (category === 'written') {
                document.getElementById('written-page').classList.remove('hidden');
            } else if (category === 'oral') {
                document.getElementById('oral-page').classList.remove('hidden');
            } else if (category === 'library') {
                document.getElementById('library-page').classList.remove('hidden');
            } else if (category === 'combo') {
                document.getElementById('combo-page').classList.remove('hidden');
            } else if (category === 'plans') {
                document.getElementById('plans-page').classList.remove('hidden');
            }
        }

        function showFunction(func) {
            hideAllPages();
            const pageId = func.toLowerCase() + '-form-page';
            const page = document.getElementById(pageId);
            if (page) {
                page.classList.remove('hidden');
                document.getElementById(func.toLowerCase() + '-output').classList.add('hidden');
            }
        }

        // Combo Data
        const comboData = {
            '1': {
                name: 'Client Development',
                flow: 'G ‚Üí V ‚Üí E ‚Üí P ‚Üí Q ‚Üí D',
                time: '75-100 min',
                description: 'Start with core ideas, then prepare elevator pitch, product explainer, formal proposal, Q&A simulation, and negotiation.'
            },
            '2': {
                name: 'Internal Proposal',
                flow: 'G ‚Üí M ‚Üí Q ‚Üí D',
                time: '40-55 min',
                description: 'Select core ideas, prepare meeting talking points, anticipate objections, then prepare persuasion strategy.'
            },
            '3': {
                name: 'Thought Leadership',
                flow: 'G ‚Üí M ‚Üí W ‚Üí V',
                time: '50-70 min',
                description: 'Refine core ideas, draft into article, revise and optimize, then condense for social media.'
            },
            '4': {
                name: 'High-Stakes Meeting',
                flow: 'G ‚Üí Q ‚Üí M ‚Üí D',
                time: '50-70 min',
                description: 'Confirm core message, anticipate attacks, prepare proactive statements, and have fallback ready.'
            },
            '5': {
                name: 'Training & Education',
                flow: 'X ‚Üí E ‚Üí P ‚Üí Q',
                time: '70-90 min',
                description: 'Prepare cross-domain analogies, design concept explanation, write presentation script, anticipate questions.'
            },
            '6': {
                name: 'Crisis Communication',
                flow: 'G ‚Üí Q ‚Üí D ‚Üí M ‚Üí W',
                time: '100-130 min',
                description: 'Choose core stance, anticipate challenges, prepare 1-on-1 responses, draft public statement, document in writing.'
            },
            '7': {
                name: 'Personal Branding',
                flow: 'G ‚Üí X ‚Üí R ‚Üí W',
                time: '90-120 min',
                description: 'Build core ideas, find unique analogies, learn from benchmarks, produce original content.'
            },
            '8': {
                name: 'Content Review',
                flow: 'A ‚Üí W ‚Üí G',
                time: '30-45 min',
                description: 'Evaluate existing content, optimize structure and expression, extract reusable core perspectives.'
            }
        };

        let currentComboId = '1';

        function showComboForm(comboId) {
            currentComboId = comboId;
            const combo = comboData[comboId];
            
            hideAllPages();
            document.getElementById('combo-form-page').classList.remove('hidden');
            document.getElementById('combo-output').classList.add('hidden');
            
            document.getElementById('combo-code').textContent = '#' + comboId;
            document.getElementById('combo-title').textContent = combo.name;
            document.getElementById('combo-flow').textContent = combo.flow;
            document.getElementById('combo-time').textContent = 'Est. Time: ' + combo.time;
            document.getElementById('combo-description').textContent = combo.description;
            
            document.getElementById('combo-context').value = '';
            
            // Show advanced options only for #8 (ÂÖßÂÆπÊ™¢Ê†∏)
            const advancedSection = document.getElementById('combo-advanced-section');
            if (comboId === '8') {
                advancedSection.classList.remove('hidden');
                // Reset advanced options
                document.getElementById('combo-platform').value = 'Substack';
                document.getElementById('combo-include-revision').value = 'false';
                document.getElementById('combo-identify-toyf').value = 'false';
                document.getElementById('combo-convert-group').classList.add('hidden');
                document.querySelectorAll('#combo-advanced .checkbox-group').forEach(cb => {
                    cb.classList.remove('checked');
                });
                document.querySelectorAll('#combo-convert-options .checkbox-group').forEach(opt => {
                    opt.classList.remove('checked');
                });
                updateConvertOptionsCombo();
            } else {
                advancedSection.classList.add('hidden');
            }
        }

        // URL Detection Helper
        function isUrl(text) {
            const trimmed = text.trim();
            return trimmed.startsWith('http://') || trimmed.startsWith('https://');
        }

        function parseContentOrUrl(text) {
            const trimmed = text.trim();
            if (isUrl(trimmed)) {
                return { url: trimmed };
            }
            return { content: trimmed };
        }

        // Radio Selection
        function selectRadio(element, inputId) {
            const parent = element.parentElement;
            parent.querySelectorAll('.radio-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            document.getElementById(inputId).value = element.dataset.value;
        }

        // Time Selection
        function selectTime(element, inputId) {
            const parent = element.parentElement;
            parent.querySelectorAll('.time-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            document.getElementById(inputId).value = element.dataset.value;
        }

        // Checkbox Toggle
        function toggleCheckbox(element, inputId) {
            element.classList.toggle('checked');
            const input = document.getElementById(inputId);
            input.value = element.classList.contains('checked') ? 'true' : 'false';
        }

        // Version Option Toggle (for V form)
        function toggleVersionOption(element) {
            element.classList.toggle('checked');
        }

        // Get selected versions for V form
        function getSelectedVersions() {
            const options = document.querySelectorAll('#v-form-page .checkbox-group.compact.checked');
            return Array.from(options).map(opt => opt.dataset.value);
        }

        // Advanced Options Toggle
        function toggleAdvanced(prefix) {
            const toggle = event.currentTarget;
            const content = document.getElementById(prefix + '-advanced');
            toggle.classList.toggle('open');
            content.classList.toggle('show');
        }

        // Toggle Include Revision (A form) - shows convert options
        function toggleIncludeRevision(element) {
            toggleCheckbox(element, 'a-include-revision');
            const convertGroup = document.getElementById('a-convert-group');
            const includeRevision = document.getElementById('a-include-revision').value === 'true';
            
            if (includeRevision) {
                convertGroup.classList.remove('hidden');
                updateConvertOptionsA();
            } else {
                convertGroup.classList.add('hidden');
                document.querySelectorAll('#a-convert-options .checkbox-group').forEach(opt => {
                    opt.classList.remove('checked');
                });
                document.getElementById('a-linkedin-suboptions').classList.remove('show');
                document.querySelectorAll('#a-linkedin-suboptions .checkbox-group').forEach(cb => cb.classList.remove('checked'));
            }
        }

        // Update Convert Options for A based on selected platform
        function updateConvertOptionsA() {
            const sourcePlatform = document.getElementById('a-platform').value;
            const options = document.querySelectorAll('#a-convert-options .checkbox-group');
            
            options.forEach(option => {
                const value = option.dataset.value;
                if (value === sourcePlatform) {
                    option.style.display = 'none';
                    option.classList.remove('checked');
                } else {
                    option.style.display = 'flex';
                }
            });
            // Hide LinkedIn suboptions if LinkedIn is hidden or unchecked
            if (sourcePlatform === 'LinkedIn') {
                document.getElementById('a-linkedin-suboptions').classList.remove('show');
                document.querySelectorAll('#a-linkedin-suboptions .checkbox-group').forEach(cb => cb.classList.remove('checked'));
            }
        }

        // Toggle Convert Option for A
        function toggleConvertOptionA(element) {
            element.classList.toggle('checked');
        }

        // Toggle LinkedIn Option for A (with sub-options)
        function toggleLinkedInOptionA(element) {
            element.classList.toggle('checked');
            const suboptions = document.getElementById('a-linkedin-suboptions');
            if (element.classList.contains('checked')) {
                suboptions.classList.add('show');
            } else {
                suboptions.classList.remove('show');
                suboptions.querySelectorAll('.checkbox-group').forEach(cb => cb.classList.remove('checked'));
            }
        }

        // Get selected convert platforms for A (with LinkedIn carousel option)
        function getConvertPlatformsA() {
            const options = document.querySelectorAll('#a-convert-options .checkbox-group.checked');
            const platforms = [];
            options.forEach(opt => {
                const value = opt.dataset.value;
                if (value === 'LinkedIn') {
                    const carouselChecked = document.querySelector('#a-linkedin-suboptions .checkbox-group.checked');
                    platforms.push(carouselChecked ? 'LinkedIn:carousel' : 'LinkedIn');
                } else {
                    platforms.push(value);
                }
            });
            return platforms;
        }

        // Combo #8 Advanced OptionsÂáΩÊï∏
        function toggleComboIncludeRevision(element) {
            toggleCheckbox(element, 'combo-include-revision');
            const convertGroup = document.getElementById('combo-convert-group');
            const includeRevision = document.getElementById('combo-include-revision').value === 'true';
            
            if (includeRevision) {
                convertGroup.classList.remove('hidden');
                updateConvertOptionsCombo();
            } else {
                convertGroup.classList.add('hidden');
                document.querySelectorAll('#combo-convert-options .checkbox-group').forEach(opt => {
                    opt.classList.remove('checked');
                });
                document.getElementById('combo-linkedin-suboptions').classList.remove('show');
            }
        }

        function updateConvertOptionsCombo() {
            const sourcePlatform = document.getElementById('combo-platform').value;
            const options = document.querySelectorAll('#combo-convert-options .checkbox-group');
            
            options.forEach(option => {
                const value = option.dataset.value;
                if (value === sourcePlatform) {
                    option.style.display = 'none';
                    option.classList.remove('checked');
                } else {
                    option.style.display = 'flex';
                }
            });
            // Hide LinkedIn suboptions if LinkedIn is hidden
            if (sourcePlatform === 'LinkedIn') {
                document.getElementById('combo-linkedin-suboptions').classList.remove('show');
            }
        }

        function toggleConvertOptionCombo(element) {
            element.classList.toggle('checked');
        }

        // Toggle LinkedIn Option for Combo (with sub-options)
        function toggleLinkedInOptionCombo(element) {
            element.classList.toggle('checked');
            const suboptions = document.getElementById('combo-linkedin-suboptions');
            if (element.classList.contains('checked')) {
                suboptions.classList.add('show');
            } else {
                suboptions.classList.remove('show');
                suboptions.querySelectorAll('.checkbox-group').forEach(cb => cb.classList.remove('checked'));
            }
        }

        // Get selected convert platforms for Combo (with LinkedIn carousel option)
        function getConvertPlatformsCombo() {
            const options = document.querySelectorAll('#combo-convert-options .checkbox-group.checked');
            const platforms = [];
            options.forEach(opt => {
                const value = opt.dataset.value;
                if (value === 'LinkedIn') {
                    const carouselChecked = document.querySelector('#combo-linkedin-suboptions .checkbox-group.checked');
                    platforms.push(carouselChecked ? 'LinkedIn:carousel' : 'LinkedIn');
                } else {
                    platforms.push(value);
                }
            });
            return platforms;
        }

        // Has Rating Toggle (W form)
        function toggleHasRating(element) {
            toggleCheckbox(element, 'w-has-rating');
            const ratingGroup = document.getElementById('w-rating-group');
            const hasRating = document.getElementById('w-has-rating').value === 'true';
            
            if (hasRating) {
                ratingGroup.classList.remove('hidden');
                const savedResult = localStorage.getItem(STORAGE_KEY_A_RESULT);
                if (savedResult) {
                    document.getElementById('w-rating-result').value = savedResult;
                    document.getElementById('w-auto-fill-notice').classList.remove('hidden');
                }
            } else {
                ratingGroup.classList.add('hidden');
                document.getElementById('w-auto-fill-notice').classList.add('hidden');
            }
        }

        // Include Rating Toggle (R form)
        function toggleIncludeRating(element) {
            toggleCheckbox(element, 'r-include-rating');
            const platformGroup = document.getElementById('r-platform-group');
            const includeRating = document.getElementById('r-include-rating').value === 'true';
            
            if (includeRating) {
                platformGroup.classList.remove('hidden');
            } else {
                platformGroup.classList.add('hidden');
            }
        }

        // Generate Quick Command for T
        function generateQuickCommand() {
            const type = document.getElementById('t-type').value;
            const difficulty = document.getElementById('t-difficulty').value;
            const count = document.getElementById('t-count').value;
            const context = document.getElementById('t-context').value.trim();
            
            let command = '';
            
            if (type === 'random') {
                command = `Âá∫${count === '1' ? '‰∏Ä' : count}È°åÁ∑¥Áøí,Èõ£Â∫¶:${difficulty}`;
            } else {
                command = `Âá∫${count === '1' ? '‰∏Ä' : count}È°å ${type} Á∑¥Áøí,Èõ£Â∫¶:${difficulty}`;
            }
            
            if (context) {
                command += `\n\nÊÉÖÂ¢É:${context}`;
            }
            
            return command;
        }

        // Copy Quick Command (for T function)
        function copyQuickCommand() {
            const quickText = document.getElementById('t-quick').textContent;
            navigator.clipboard.writeText(quickText).then(() => {
                const btn = event.currentTarget;
                btn.classList.add('copied');
                btn.innerHTML = `
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 8l3 3 7-7"/>
                    </svg>
                    Â∑≤Ë§áË£Ω!
                `;

                setTimeout(() => {
                    btn.classList.remove('copied');
                    btn.innerHTML = `
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω
                    `;
                }, 2000);
            });
        }

        // Generate JSON
        function generateJSON(func) {
            let json = {};

            if (func === 'T') {
                const type = document.getElementById('t-type').value;
                const context = document.getElementById('t-context').value.trim();
                
                json = {
                    function: 'T',
                    params: {
                        type: type,
                        difficulty: document.getElementById('t-difficulty').value,
                        count: parseInt(document.getElementById('t-count').value)
                    }
                };
                
                if (context) {
                    json.params.context = context;
                }
                
                // Generate quick command
                const quickCommand = generateQuickCommand();
                document.getElementById('t-quick').textContent = quickCommand;
            }

            else if (func === 'M') {
                json = {
                    function: 'M',
                    params: {
                        topic: document.getElementById('m-topic').value,
                        role: document.getElementById('m-role').value || null,
                        core_message: document.getElementById('m-core-message').value,
                        time_limit: document.getElementById('m-time').value,
                        mode: document.getElementById('m-mode').value
                    },
                    advanced: {
                        add_hook: document.getElementById('m-add-hook').value === 'true',
                        connect_gh: document.getElementById('m-connect-gh').value === 'true'
                    }
                };
                if (!json.params.role) delete json.params.role;
            }

            else if (func === 'V') {
                const versions = getSelectedVersions();
                json = {
                    function: 'V',
                    params: {
                        subject: document.getElementById('v-subject').value,
                        audience: document.getElementById('v-audience').value || null,
                        impression: document.getElementById('v-impression').value || null,
                        versions: versions.length > 0 ? versions : ['30Áßí'],
                        mode: document.getElementById('v-mode').value
                    },
                    advanced: {
                        add_hook: document.getElementById('v-add-hook').value === 'true',
                        connect_gh: document.getElementById('v-connect-gh').value === 'true'
                    }
                };
                if (!json.params.audience) delete json.params.audience;
                if (!json.params.impression) delete json.params.impression;
            }

            else if (func === 'E') {
                const keyPointsRaw = document.getElementById('e-key-points').value;
                const keyPoints = keyPointsRaw ? keyPointsRaw.split(/[,,„ÄÅ]/).map(s => s.trim()).filter(s => s) : null;
                
                json = {
                    function: 'E',
                    params: {
                        concept: document.getElementById('e-concept').value,
                        audience_level: document.getElementById('e-audience-level').value,
                        key_points: keyPoints,
                        time_limit: document.getElementById('e-time-limit').value || null,
                        mode: document.getElementById('e-mode').value
                    },
                    advanced: {
                        add_cross_domain: document.getElementById('e-add-cross-domain').value === 'true'
                    }
                };
                if (!json.params.key_points) delete json.params.key_points;
                if (!json.params.time_limit) delete json.params.time_limit;
            }

            else if (func === 'P') {
                json = {
                    function: 'P',
                    params: {
                        topic: document.getElementById('p-topic').value,
                        audience: document.getElementById('p-audience').value,
                        cta: document.getElementById('p-cta').value || null,
                        total_time: document.getElementById('p-total-time').value,
                        mode: document.getElementById('p-mode').value
                    },
                    advanced: {
                        add_hook: document.getElementById('p-add-hook').value === 'true',
                        connect_gh: document.getElementById('p-connect-gh').value === 'true',
                        include_qa: document.getElementById('p-include-qa').value === 'true'
                    }
                };
                if (!json.params.cta) delete json.params.cta;
            }

            else if (func === 'D') {
                json = {
                    function: 'D',
                    params: {
                        context: document.getElementById('d-context').value,
                        other_party: document.getElementById('d-other-party').value || null,
                        bottom_line: document.getElementById('d-bottom-line').value || null,
                        relationship: document.getElementById('d-relationship').value,
                        mode: document.getElementById('d-mode').value
                    }
                };
                if (!json.params.other_party) delete json.params.other_party;
                if (!json.params.bottom_line) delete json.params.bottom_line;
            }

            else if (func === 'Q') {
                json = {
                    function: 'Q',
                    params: {
                        context: document.getElementById('q-context').value,
                        audience: document.getElementById('q-audience').value,
                        position: document.getElementById('q-position').value,
                        weakness: document.getElementById('q-weakness').value || null,
                        count: parseInt(document.getElementById('q-count').value),
                        difficulty: document.getElementById('q-difficulty').value,
                        mode: document.getElementById('q-mode').value
                    },
                    advanced: {
                        add_hook: document.getElementById('q-add-hook').value === 'true',
                        connect_gh: document.getElementById('q-connect-gh').value === 'true'
                    }
                };
                if (!json.params.weakness) delete json.params.weakness;
            }

            else if (func === 'G') {
                json = {
                    function: 'G',
                    params: {
                        mode: document.getElementById('g-mode-select').value,
                        content: document.getElementById('g-content').value || null
                    }
                };
                if (!json.params.content) delete json.params.content;
            }

            else if (func === 'X') {
                const domainsRaw = document.getElementById('x-domains').value;
                const domains = domainsRaw ? domainsRaw.split(/[,,„ÄÅ]/).map(s => s.trim()).filter(s => s) : null;
                
                json = {
                    function: 'X',
                    params: {
                        core_point: document.getElementById('x-core-point').value,
                        domains: domains
                    }
                };
                if (!json.params.domains || json.params.domains.length === 0) delete json.params.domains;
            }

            else if (func === 'R') {
                const includeRating = document.getElementById('r-include-rating').value === 'true';
                const contentInput = parseContentOrUrl(document.getElementById('r-content').value);
                
                json = {
                    function: 'R',
                    params: {
                        ...contentInput,
                        content_type: document.getElementById('r-content-type').value,
                        mode: document.getElementById('r-mode').value
                    },
                    advanced: {
                        include_rating: includeRating,
                        rating_platform: includeRating ? document.getElementById('r-platform').value : null,
                        extract_gh: document.getElementById('r-extract-gh').value === 'true'
                    }
                };
                
                if (!json.advanced.include_rating) delete json.advanced.rating_platform;
            }

            else if (func === 'A') {
                const includeRevision = document.getElementById('a-include-revision').value === 'true';
                const convertPlatforms = includeRevision ? getConvertPlatformsA() : [];
                const contentInput = parseContentOrUrl(document.getElementById('a-content').value);
                
                json = {
                    function: 'A',
                    params: {
                        platform: document.getElementById('a-platform').value,
                        ...contentInput,
                        goal: document.getElementById('a-goal').value || null,
                        mode: document.getElementById('a-mode').value
                    },
                    advanced: {
                        include_revision: includeRevision,
                        identify_toyf: document.getElementById('a-identify-toyf').value === 'true',
                        convert_to: convertPlatforms
                    }
                };
                if (!json.params.goal) delete json.params.goal;
                if (json.advanced.convert_to.length === 0) delete json.advanced.convert_to;
            }

            else if (func === 'W') {
                const hasRating = document.getElementById('w-has-rating').value === 'true';
                const contentInput = parseContentOrUrl(document.getElementById('w-content').value);
                
                json = {
                    function: 'W',
                    params: {
                        has_rating: hasRating,
                        ...contentInput,
                        focus: document.getElementById('w-focus').value,
                        output_format: document.getElementById('w-output-format').value,
                        mode: document.getElementById('w-mode').value
                    },
                    advanced: {
                        identify_toyf: document.getElementById('w-identify-toyf').value === 'true',
                        suggest_toyf: document.getElementById('w-suggest-toyf').value === 'true',
                        add_hook: document.getElementById('w-add-hook').value === 'true',
                        connect_gh: document.getElementById('w-connect-gh').value === 'true'
                    }
                };

                if (hasRating) {
                    json.params.rating_result = document.getElementById('w-rating-result').value;
                }
            }

            else if (func === 'Combo') {
                json = {
                    function: 'Combo',
                    params: {
                        combo_id: '#' + currentComboId,
                        context: document.getElementById('combo-context').value,
                        mode: document.getElementById('combo-mode').value
                    }
                };
                
                // Add advanced options for #8 (ÂÖßÂÆπÊ™¢Ê†∏)
                if (currentComboId === '8') {
                    const includeRevision = document.getElementById('combo-include-revision').value === 'true';
                    const convertPlatforms = includeRevision ? getConvertPlatformsCombo() : [];
                    
                    json.params.platform = document.getElementById('combo-platform').value;
                    json.advanced = {
                        include_revision: includeRevision,
                        identify_toyf: document.getElementById('combo-identify-toyf').value === 'true'
                    };
                    if (convertPlatforms.length > 0) {
                        json.advanced.convert_to = convertPlatforms;
                    }
                }
            }

            // Clean up empty advanced objects
            if (json.advanced) {
                const hasAdvanced = Object.values(json.advanced).some(v => v === true || (Array.isArray(v) && v.length > 0));
                if (!hasAdvanced) delete json.advanced;
            }

            document.getElementById(func.toLowerCase() + '-json').textContent = JSON.stringify(json, null, 2);
            document.getElementById(func.toLowerCase() + '-output').classList.remove('hidden');

            // Record to recent history
            let label = '';
            if (func === 'M') label = document.getElementById('m-topic')?.value || '';
            else if (func === 'Q') label = document.getElementById('q-context')?.value?.substring(0, 30) || '';
            else if (func === 'A') label = document.getElementById('a-platform')?.value || '';
            else if (func === 'V') label = document.getElementById('v-subject')?.value?.substring(0, 30) || '';
            else if (func === 'Combo') label = '#' + currentComboId;
            addToRecentHistory(func, label);

            setTimeout(() => {
                document.getElementById(func.toLowerCase() + '-output').scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        // Copy Log (formatted for Project Knowledge)
        function copyLog(prefix, funcName) {
            const jsonText = document.getElementById(prefix + '-json').textContent;
            
            // Get current date/time
            const now = new Date();
            const dateStr = now.toISOString().split('T')[0];
            const timeStr = now.toTimeString().split(' ')[0].substring(0, 5);
            
            // Function name mapping
            const funcNames = {
                'T': 'Training',
                'M': 'Meeting',
                'V': 'Elevator Pitch',
                'E': 'Explainer',
                'P': 'Pitch',
                'D': 'Difficult Conversation',
                'Q': 'Q&A Simulator',
                'G': 'Greatest Hits',
                'X': 'Cross Domain',
                'R': 'Reverse Engineering',
                'A': 'Article Rating',
                'W': 'Article Revision',
                'Combo': 'Combo'
            };
            
            const fullName = funcNames[funcName] || funcName;
            
            // Build formatted log
            const log = `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
ARTICULATOR LOG | ${dateStr} ${timeStr}
Function: ${funcName} (${fullName})
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

${jsonText}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`;
            
            navigator.clipboard.writeText(log).then(() => {
                const btn = event.currentTarget;
                btn.classList.add('copied');
                btn.innerHTML = `
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 8l3 3 7-7"/>
                    </svg>
                    Â∑≤Ë§áË£Ω!
                `;
                
                if (prefix === 'a') {
                    localStorage.setItem(STORAGE_KEY_A_RESULT, '(Ë´ãË≤º‰∏ä Claude ÂõûÂÇ≥ÁöÑ A Ë©ïÂàÜÁµêÊûú)');
                }

                setTimeout(() => {
                    btn.classList.remove('copied');
                    btn.innerHTML = `
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="5" y="5" width="9" height="9" rx="1"/>
                            <path d="M11 5V3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h2"/>
                        </svg>
                        Ë§áË£Ω Log
                    `;
                }, 2000);
            });
        }

        // Examples data
        const examples = {
            T: {
                title: 'Training',
                items: [
                    { label: 'Context', value: 'You are a process manager asked about yield decline at quarterly meeting. Respond in 1 minute.' },
                    { label: 'Difficulty', value: 'Medium' }
                ],
                json: `{
  "function": "T",
  "params": {
    "type": "M",
    "difficulty": "‰∏≠Á≠â",
    "count": 1
  }
}`
            },
            M: {
                title: 'Meeting',
                items: [
                    { label: 'Topic', value: 'Q4 Budget Increase Request' },
                    { label: 'Role', value: 'Project Manager' },
                    { label: 'Core Message', value: 'Need 20% more headcount to meet year-end launch' }
                ],
                json: `{
  "function": "M",
  "params": {
    "topic": "Q4 È†êÁÆóËøΩÂä†Áî≥Ë´ã",
    "role": "Â∞àÊ°àÁ∂ìÁêÜ",
    "core_message": "ÁÇ∫‰∫ÜË∂ï‰∏äÂπ¥Â∫ï‰∏äÁ∑ö,ÈúÄË¶ÅËøΩÂä† 20% ‰∫∫ÂäõÊàêÊú¨",
    "time_limit": "3ÂàÜÈêò"
  }
}`
            },
            V: {
                title: 'Elevator Pitch',
                items: [
                    { label: 'Subject', value: 'I am BD at Amaran Biotech, focusing on aseptic fill-finish services' },
                    { label: 'Audience', value: 'Procurement manager at Japanese pharma' },
                    { label: 'Impression', value: 'Professional, reliable, quality-first' }
                ],
                json: `{
  "function": "V",
  "params": {
    "subject": "Amaran Biotech ÁÑ°ËèåÂÖÖÂ°´ÊúçÂãô",
    "audience": "Êó•Êú¨Ëó•Âª†Êé°Ë≥º‰∏ªÁÆ°",
    "impression": "Â∞àÊ•≠ÂèØÈù†„ÄÅÂìÅË≥™ÂÑ™ÂÖà",
    "versions": ["30Áßí", "60Áßí"]
  }
}`
            },
            Q: {
                title: 'Q&A Simulator',
                items: [
                    { label: 'Context', value: 'Q&A session after presenting aseptic fill-finish services to Japanese pharma' },
                    { label: 'Audience', value: 'Technical personnel' },
                    { label: 'Weakness', value: 'Higher price, no international inspection yet' }
                ],
                json: `{
  "function": "Q",
  "params": {
    "context": "ÂêëÊó•Êú¨Ëó•Âª†‰ªãÁ¥πÁÑ°ËèåÂÖÖÂ°´ÊúçÂãô",
    "audience": "ÊäÄË°ì‰∫∫Âì°",
    "position": "Êé®Ëñ¶ÊàëÂÄëÁöÑÊúçÂãô",
    "weakness": "ÂÉπÊ†ºËºÉÈ´ò„ÄÅÂ∞öÊú™Êé•ÂèóÈÅéÂúãÈöõÊü•Âª†",
    "count": 5,
    "difficulty": "ÂàÅÈëΩ"
  }
}`
            },
            A: {
                title: 'Article Rating',
                items: [
                    { label: 'Platform', value: 'Substack' },
                    { label: 'Goal', value: 'Increase subscription conversion' }
                ],
                json: `{
  "function": "A",
  "params": {
    "platform": "Substack",
    "url": "https://example.substack.com/p/my-article",
    "goal": "ÊèêÈ´òË®ÇÈñ±ËΩâÊèõÁéá"
  },
  "advanced": {
    "include_revision": true,
    "convert_to": ["LinkedIn"]
  }
}`
            }
        };

        function showExample(func) {
            const data = examples[func];
            if (!data) return;
            
            let itemsHtml = data.items.map(item => `
                <div class="example-item">
                    <div class="example-label">${item.label}</div>
                    <div class="example-value">${item.value}</div>
                </div>
            `).join('');
            
            document.getElementById('example-modal-title').textContent = data.title;
            document.getElementById('example-modal-items').innerHTML = itemsHtml;
            document.getElementById('example-modal-json').textContent = data.json;
            document.getElementById('example-modal').classList.add('show');
        }

        function closeExample() {
            document.getElementById('example-modal').classList.remove('show');
        }
    </script>

    <!-- Example Modal -->
    <div id="example-modal" class="example-modal" onclick="if(event.target === this) closeExample()">
        <div class="example-content">
            <div class="example-header">
                <div class="example-title" id="example-modal-title">ÁØÑ‰æã</div>
                <button class="example-close" onclick="closeExample()">√ó</button>
            </div>
            <div id="example-modal-items"></div>
            <div class="example-item">
                <div class="example-label">JSON Êåá‰ª§</div>
                <pre class="example-json" id="example-modal-json"></pre>
            </div>
        </div>
    </div>

    <!-- Disclaimer Footer -->
    <footer class="app-footer">
        <p class="disclaimer">
            Structured communication practice tool for personal learning. 
            Inspired by various methodologies including Think on Your Feet¬Æ. 
            Not affiliated with trademark owners. Non-commercial use only.
        </p>
        <p class="version">Articulator v7.6</p>
    </footer>

    <style>
        .app-footer {
            margin-top: 48px;
            padding: 24px;
            text-align: center;
            border-top: 1px solid #eee;
        }
        .app-footer .disclaimer {
            font-size: 11px;
            color: #999;
            max-width: 600px;
            margin: 0 auto 8px;
            line-height: 1.5;
        }
        .app-footer .version {
            font-size: 11px;
            color: #ccc;
        }
    </style>
<!-- Reminder Settings Modal -->
<div id="reminder-modal" class="modal-overlay hidden">
  <div class="modal" style="max-width:400px;">
    <div class="modal-header">
      <div class="modal-logo">üîî</div>
      <h2 class="modal-title">Á∑¥ÁøíÊèêÈÜí</h2>
      <p class="modal-subtitle">ÈÅ∏ÊìáÊèêÈÜíÁöÑÊó•Â≠êÂíåÊôÇÈñì</p>
    </div>
    <div class="modal-body">
      <div style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:24px;">
        <label style="display:flex;align-items:center;gap:6px;padding:8px 12px;border:1px solid #e5e5e5;border-radius:8px;cursor:pointer;font-size:14px;user-select:none;">
          <input type="checkbox" class="reminder-day" value="1"> ‰∏Ä
        </label>
        <label style="display:flex;align-items:center;gap:6px;padding:8px 12px;border:1px solid #e5e5e5;border-radius:8px;cursor:pointer;font-size:14px;user-select:none;">
          <input type="checkbox" class="reminder-day" value="2" checked> ‰∫å
        </label>
        <label style="display:flex;align-items:center;gap:6px;padding:8px 12px;border:1px solid #e5e5e5;border-radius:8px;cursor:pointer;font-size:14px;user-select:none;">
          <input type="checkbox" class="reminder-day" value="3"> ‰∏â
        </label>
        <label style="display:flex;align-items:center;gap:6px;padding:8px 12px;border:1px solid #e5e5e5;border-radius:8px;cursor:pointer;font-size:14px;user-select:none;">
          <input type="checkbox" class="reminder-day" value="4" checked> Âõõ
        </label>
        <label style="display:flex;align-items:center;gap:6px;padding:8px 12px;border:1px solid #e5e5e5;border-radius:8px;cursor:pointer;font-size:14px;user-select:none;">
          <input type="checkbox" class="reminder-day" value="5"> ‰∫î
        </label>
        <label style="display:flex;align-items:center;gap:6px;padding:8px 12px;border:1px solid #e5e5e5;border-radius:8px;cursor:pointer;font-size:14px;user-select:none;">
          <input type="checkbox" class="reminder-day" value="6"> ÂÖ≠
        </label>
        <label style="display:flex;align-items:center;gap:6px;padding:8px 12px;border:1px solid #e5e5e5;border-radius:8px;cursor:pointer;font-size:14px;user-select:none;">
          <input type="checkbox" class="reminder-day" value="0"> Êó•
        </label>
      </div>
      <div style="margin-bottom:24px;">
        <label style="font-size:14px;color:#666;display:block;margin-bottom:8px;">ÊèêÈÜíÊôÇÈñì</label>
        <input type="time" id="reminder-time" value="12:00" style="width:100%;padding:12px;font-size:16px;border:1px solid #e5e5e5;border-radius:8px;font-family:inherit;">
      </div>
      <div style="display:flex;gap:10px;">
        <button onclick="saveReminderSettings()" class="btn-primary" style="flex:1;">ÂÑ≤Â≠ò</button>
        <button onclick="closeReminderSettings()" style="flex:1;padding:16px;font-size:16px;background:#f5f5f5;border:1px solid #e5e5e5;border-radius:8px;cursor:pointer;">ÂèñÊ∂à</button>
      </div>
      <p id="reminder-status" style="text-align:center;font-size:13px;color:#999;margin-top:16px;"></p>
    </div>
  </div>
</div>

<script>
// === PWA + Configurable Reminders ===
const REMINDER_KEY = 'articulator_reminder_settings';

const defaultSettings = { days: [2, 4], hour: 12, minute: 0 };

function getReminderSettings() {
  try {
    const saved = localStorage.getItem(REMINDER_KEY);
    return saved ? JSON.parse(saved) : defaultSettings;
  } catch { return defaultSettings; }
}

function openReminderSettings() {
  const s = getReminderSettings();
  document.querySelectorAll('.reminder-day').forEach(cb => {
    cb.checked = s.days.includes(parseInt(cb.value));
  });
  const h = String(s.hour).padStart(2, '0');
  const m = String(s.minute).padStart(2, '0');
  document.getElementById('reminder-time').value = h + ':' + m;
  document.getElementById('reminder-status').textContent = '';
  document.getElementById('reminder-modal').classList.remove('hidden');
}

function closeReminderSettings() {
  document.getElementById('reminder-modal').classList.add('hidden');
}

function saveReminderSettings() {
  const days = [];
  document.querySelectorAll('.reminder-day:checked').forEach(cb => {
    days.push(parseInt(cb.value));
  });
  const timeParts = document.getElementById('reminder-time').value.split(':');
  const settings = {
    days: days,
    hour: parseInt(timeParts[0]),
    minute: parseInt(timeParts[1])
  };
  localStorage.setItem(REMINDER_KEY, JSON.stringify(settings));

  // Re-schedule with new settings
  navigator.serviceWorker.ready.then(reg => scheduleReminders(reg));

  const dayNames = ['Êó•','‰∏Ä','‰∫å','‰∏â','Âõõ','‰∫î','ÂÖ≠'];
  const dayStr = settings.days.map(d => 'ÈÄ±' + dayNames[d]).join('„ÄÅ');
  const timeStr = String(settings.hour).padStart(2,'0') + ':' + String(settings.minute).padStart(2,'0');
  document.getElementById('reminder-status').textContent = 'Â∑≤Ë®≠ÂÆöÔºö' + dayStr + ' ' + timeStr;

  setTimeout(() => closeReminderSettings(), 1200);
}

// Service Worker registration
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./sw.js').then(reg => {
    console.log('SW registered');
    scheduleReminders(reg);
  });
}

// Request notification permission on first tap
let notifPermissionRequested = false;
document.addEventListener('click', function() {
  if (notifPermissionRequested) return;
  notifPermissionRequested = true;
  if ('Notification' in window && Notification.permission === 'default') {
    Notification.requestPermission().then(p => {
      console.log('Notification permission:', p);
      if (p === 'granted') {
        navigator.serviceWorker.ready.then(reg => scheduleReminders(reg));
      }
    });
  }
}, { once: false });

function scheduleReminders(reg) {
  if (!('Notification' in window) || Notification.permission !== 'granted') return;
  const s = getReminderSettings();
  if (!s.days.length) return;

  const now = new Date();
  const targets = getNextReminderTimes(now, 4, s.days, s.hour, s.minute);
  targets.forEach(target => {
    const delay = target.getTime() - now.getTime();
    if (delay > 0 && reg.active) {
      reg.active.postMessage({
        type: 'SCHEDULE_NOTIFICATION',
        title: 'Articulator',
        body: 'Ë©≤Á∑¥ÁøíË°®ÈÅî‰∫ÜÔºÅÈñãÂßã‰ªäÂ§©ÁöÑÁ∑¥Áøí',
        delay: delay
      });
      console.log('Reminder scheduled:', target.toLocaleString());
    }
  });
}

function getNextReminderTimes(from, count, days, hour, minute) {
  const times = [];
  const d = new Date(from);
  d.setHours(hour, minute, 0, 0);
  if (d <= from) d.setDate(d.getDate() + 1);
  let safety = 0;
  while (times.length < count && safety < 30) {
    if (days.includes(d.getDay())) times.push(new Date(d));
    d.setDate(d.getDate() + 1);
    safety++;
  }
  return times;
}
</script>
</body>
</html>
